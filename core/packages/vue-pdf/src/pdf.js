/*! For license information please see pdf.js.LICENSE.txt */
var t={4186:(t,e,r)=>{var n=r(3749),i=r(8055),a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(i(t)+" is not a function")}},9052:(t,e,r)=>{var n=r(8413),i=r(8055),a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(i(t)+" is not a constructor")}},7330:(t,e,r)=>{var n=r(4597),i=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a("Can't set "+i(t)+" as a prototype")}},4376:(t,e,r)=>{var n=r(418).has;t.exports=function(t){return n(t),t}},1458:(t,e,r)=>{var n=r(5811),i=r(5304),a=r(1601).f,o=n("unscopables"),s=Array.prototype;void 0===s[o]&&a(s,o,{configurable:!0,value:i(null)}),t.exports=function(t){s[o][t]=!0}},8149:(t,e,r)=>{var n=r(6903).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},3399:(t,e,r)=>{var n=r(6921),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new i("Incorrect invocation")}},7447:(t,e,r)=>{var n=r(2674),i=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(i(t)+" is not an object")}},387:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},8242:(t,e,r)=>{var n=r(4032),i=r(5026),a=r(9872),o=n.ArrayBuffer,s=n.TypeError;t.exports=o&&i(o.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==a(t))throw new s("ArrayBuffer expected");return t.byteLength}},8102:(t,e,r)=>{var n=r(4032),i=r(2116),a=r(8242),o=n.ArrayBuffer,s=o&&o.prototype,u=s&&i(s.slice);t.exports=function(t){if(0!==a(t))return!1;if(!u)return!1;try{return u(t,0,0),!1}catch(t){return!0}}},7060:(t,e,r)=>{var n=r(3455);t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},6033:(t,e,r)=>{var n=r(8102),i=TypeError;t.exports=function(t){if(n(t))throw new i("ArrayBuffer is detached");return t}},4676:(t,e,r)=>{var n=r(4032),i=r(2608),a=r(5026),o=r(9088),s=r(6033),u=r(8242),c=r(7395),l=r(6572),h=n.structuredClone,f=n.ArrayBuffer,d=n.DataView,v=Math.min,p=f.prototype,y=d.prototype,g=i(p.slice),m=a(p,"resizable","get"),b=a(p,"maxByteLength","get"),w=i(y.getInt8),k=i(y.setInt8);t.exports=(l||c)&&function(t,e,r){var n,i=u(t),a=void 0===e?i:o(e),p=!m||!m(t);if(s(t),l&&(t=h(t,{transfer:[t]}),i===a&&(r||p)))return t;if(i>=a&&(!r||p))n=g(t,0,a);else{var y=r&&!p&&b?{maxByteLength:b(t)}:void 0;n=new f(a,y);for(var x=new d(t),A=new d(n),_=v(a,i),E=0;E<_;E++)k(A,E,w(x,E))}return l||c(t),n}},4356:(t,e,r)=>{var n,i,a,o=r(387),s=r(2444),u=r(4032),c=r(3749),l=r(2674),h=r(9649),f=r(1179),d=r(8055),v=r(139),p=r(8552),y=r(8986),g=r(6921),m=r(2611),b=r(9415),w=r(5811),k=r(5936),x=r(8301),A=x.enforce,_=x.get,E=u.Int8Array,S=E&&E.prototype,O=u.Uint8ClampedArray,T=O&&O.prototype,P=E&&m(E),L=S&&m(S),M=Object.prototype,C=u.TypeError,j=w("toStringTag"),I=k("TYPED_ARRAY_TAG"),R="TypedArrayConstructor",F=o&&!!b&&"Opera"!==f(u.opera),D=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},B=function(t){var e=m(t);if(l(e)){var r=_(e);return r&&h(r,R)?r[R]:B(e)}},G=function(t){if(!l(t))return!1;var e=f(t);return h(N,e)||h(W,e)};for(n in N)(a=(i=u[n])&&i.prototype)?A(a)[R]=i:F=!1;for(n in W)(a=(i=u[n])&&i.prototype)&&(A(a)[R]=i);if((!F||!c(P)||P===Function.prototype)&&(P=function(){throw new C("Incorrect invocation")},F))for(n in N)u[n]&&b(u[n],P);if((!F||!L||L===M)&&(L=P.prototype,F))for(n in N)u[n]&&b(u[n].prototype,L);if(F&&m(T)!==L&&b(T,L),s&&!h(L,j))for(n in D=!0,y(L,j,{configurable:!0,get:function(){return l(this)?this[I]:void 0}}),N)u[n]&&v(u[n],I,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:D&&I,aTypedArray:function(t){if(G(t))return t;throw new C("Target is not a typed array")},aTypedArrayConstructor:function(t){if(c(t)&&(!b||g(P,t)))return t;throw new C(d(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(s){if(r)for(var i in N){var a=u[i];if(a&&h(a.prototype,t))try{delete a.prototype[t]}catch(r){try{a.prototype[t]=e}catch(t){}}}L[t]&&!r||p(L,t,r?e:F&&S[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(s){if(b){if(r)for(n in N)if((i=u[n])&&h(i,t))try{delete i[t]}catch(t){}if(P[t]&&!r)return;try{return p(P,t,r?e:F&&P[t]||e)}catch(t){}}for(n in N)!(i=u[n])||i[t]&&!r||p(i,t,e)}},getTypedArrayConstructor:B,isView:function(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||h(N,e)||h(W,e)},isTypedArray:G,TypedArray:P,TypedArrayPrototype:L}},7226:(t,e,r)=>{var n=r(4032),i=r(2608),a=r(2444),o=r(387),s=r(2542),u=r(139),c=r(8986),l=r(4183),h=r(3455),f=r(3399),d=r(1211),v=r(5806),p=r(9088),y=r(3505),g=r(1306),m=r(2611),b=r(9415),w=r(9557),k=r(4224),x=r(3951),A=r(2924),_=r(6911),E=r(8301),S=s.PROPER,O=s.CONFIGURABLE,T="ArrayBuffer",P="DataView",L="prototype",M="Wrong index",C=E.getterFor(T),j=E.getterFor(P),I=E.set,R=n[T],F=R,D=F&&F[L],N=n[P],W=N&&N[L],B=Object.prototype,G=n.Array,H=n.RangeError,U=i(w),z=i([].reverse),V=g.pack,q=g.unpack,Y=function(t){return[255&t]},X=function(t){return[255&t,t>>8&255]},K=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Q=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},J=function(t){return V(y(t),23,4)},$=function(t){return V(t,52,8)},Z=function(t,e,r){c(t[L],e,{configurable:!0,get:function(){return r(this)[e]}})},tt=function(t,e,r,n){var i=j(t),a=p(r),o=!!n;if(a+e>i.byteLength)throw new H(M);var s=i.bytes,u=a+i.byteOffset,c=k(s,u,u+e);return o?c:z(c)},et=function(t,e,r,n,i,a){var o=j(t),s=p(r),u=n(+i),c=!!a;if(s+e>o.byteLength)throw new H(M);for(var l=o.bytes,h=s+o.byteOffset,f=0;f<e;f++)l[h+f]=u[c?f:e-f-1]};if(o){var rt=S&&R.name!==T;h((function(){R(1)}))&&h((function(){new R(-1)}))&&!h((function(){return new R,new R(1.5),new R(NaN),1!==R.length||rt&&!O}))?rt&&O&&u(R,"name",T):((F=function(t){return f(this,D),x(new R(p(t)),this,F)})[L]=D,D.constructor=F,A(F,R)),b&&m(W)!==B&&b(W,B);var nt=new N(new F(2)),it=i(W.setInt8);nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||l(W,{setInt8:function(t,e){it(this,t,e<<24>>24)},setUint8:function(t,e){it(this,t,e<<24>>24)}},{unsafe:!0})}else D=(F=function(t){f(this,D);var e=p(t);I(this,{type:T,bytes:U(G(e),0),byteLength:e}),a||(this.byteLength=e,this.detached=!1)})[L],W=(N=function(t,e,r){f(this,W),f(t,D);var n=C(t),i=n.byteLength,o=d(e);if(o<0||o>i)throw new H("Wrong offset");if(o+(r=void 0===r?i-o:v(r))>i)throw new H("Wrong length");I(this,{type:P,buffer:t,byteLength:r,byteOffset:o,bytes:n.bytes}),a||(this.buffer=t,this.byteLength=r,this.byteOffset=o)})[L],a&&(Z(F,"byteLength",C),Z(N,"buffer",j),Z(N,"byteLength",j),Z(N,"byteOffset",j)),l(W,{getInt8:function(t){return tt(this,1,t)[0]<<24>>24},getUint8:function(t){return tt(this,1,t)[0]},getInt16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return Q(tt(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return Q(tt(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return q(tt(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return q(tt(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){et(this,1,t,Y,e)},setUint8:function(t,e){et(this,1,t,Y,e)},setInt16:function(t,e){et(this,2,t,X,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){et(this,2,t,X,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){et(this,4,t,K,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){et(this,4,t,K,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){et(this,4,t,J,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){et(this,8,t,$,e,arguments.length>2&&arguments[2])}});_(F,T),_(N,P),t.exports={ArrayBuffer:F,DataView:N}},6677:(t,e,r)=>{var n=r(4165),i=r(9002),a=r(7878),o=r(1870),s=Math.min;t.exports=[].copyWithin||function(t,e){var r=n(this),u=a(r),c=i(t,u),l=i(e,u),h=arguments.length>2?arguments[2]:void 0,f=s((void 0===h?u:i(h,u))-l,u-c),d=1;for(l<c&&c<l+f&&(d=-1,l+=f-1,c+=f-1);f-- >0;)l in r?r[c]=r[l]:o(r,c),c+=d,l+=d;return r}},9557:(t,e,r)=>{var n=r(4165),i=r(9002),a=r(7878);t.exports=function(t){for(var e=n(this),r=a(e),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>s;)e[s++]=t;return e}},3147:(t,e,r)=>{var n=r(5645).forEach,i=r(1814)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},7434:(t,e,r)=>{var n=r(7878);t.exports=function(t,e,r){for(var i=0,a=arguments.length>2?r:n(e),o=new t(a);a>i;)o[i]=e[i++];return o}},3948:(t,e,r)=>{var n=r(4864),i=r(3453),a=r(4165),o=r(3535),s=r(993),u=r(8413),c=r(7878),l=r(3552),h=r(6961),f=r(7507),d=Array;t.exports=function(t){var e=a(t),r=u(this),v=arguments.length,p=v>1?arguments[1]:void 0,y=void 0!==p;y&&(p=n(p,v>2?arguments[2]:void 0));var g,m,b,w,k,x,A=f(e),_=0;if(!A||this===d&&s(A))for(g=c(e),m=r?new this(g):d(g);g>_;_++)x=y?p(e[_],_):e[_],l(m,_,x);else for(m=r?new this:[],k=(w=h(e,A)).next;!(b=i(k,w)).done;_++)x=y?o(w,p,[b.value,_],!0):b.value,l(m,_,x);return m.length=_,m}},7921:(t,e,r)=>{var n=r(3637),i=r(9002),a=r(7878),o=function(t){return function(e,r,o){var s=n(e),u=a(s);if(0===u)return!t&&-1;var c,l=i(o,u);if(t&&r!=r){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},767:(t,e,r)=>{var n=r(4864),i=r(9455),a=r(4165),o=r(7878),s=function(t){var e=1===t;return function(r,s,u){for(var c,l=a(r),h=i(l),f=o(h),d=n(s,u);f-- >0;)if(d(c=h[f],f,l))switch(t){case 0:return c;case 1:return f}return e?-1:void 0}};t.exports={findLast:s(0),findLastIndex:s(1)}},5645:(t,e,r)=>{var n=r(4864),i=r(2608),a=r(9455),o=r(4165),s=r(7878),u=r(1453),c=i([].push),l=function(t){var e=1===t,r=2===t,i=3===t,l=4===t,h=6===t,f=7===t,d=5===t||h;return function(v,p,y,g){for(var m,b,w=o(v),k=a(w),x=s(k),A=n(p,y),_=0,E=g||u,S=e?E(v,x):r||f?E(v,0):void 0;x>_;_++)if((d||_ in k)&&(b=A(m=k[_],_,w),t))if(e)S[_]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:c(S,m)}else switch(t){case 4:return!1;case 7:c(S,m)}return h?-1:i||l?l:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},3499:(t,e,r)=>{var n=r(3881),i=r(3637),a=r(1211),o=r(7878),s=r(1814),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,h=s("lastIndexOf"),f=l||!h;t.exports=f?function(t){if(l)return n(c,this,arguments)||0;var e=i(this),r=o(e);if(0===r)return-1;var s=r-1;for(arguments.length>1&&(s=u(s,a(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:c},9077:(t,e,r)=>{var n=r(3455),i=r(5811),a=r(6415),o=i("species");t.exports=function(t){return a>=51||!n((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},1814:(t,e,r)=>{var n=r(3455);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},4734:(t,e,r)=>{var n=r(4186),i=r(4165),a=r(9455),o=r(7878),s=TypeError,u="Reduce of empty array with no initial value",c=function(t){return function(e,r,c,l){var h=i(e),f=a(h),d=o(h);if(n(r),0===d&&c<2)throw new s(u);var v=t?d-1:0,p=t?-1:1;if(c<2)for(;;){if(v in f){l=f[v],v+=p;break}if(v+=p,t?v<0:d<=v)throw new s(u)}for(;t?v>=0:d>v;v+=p)v in f&&(l=r(l,f[v],v,h));return l}};t.exports={left:c(!1),right:c(!0)}},7375:(t,e,r)=>{var n=r(2444),i=r(5448),a=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!o(t,"length").writable)throw new a("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4224:(t,e,r)=>{var n=r(2608);t.exports=n([].slice)},5272:(t,e,r)=>{var n=r(4224),i=Math.floor,a=function(t,e){var r=t.length;if(r<8)for(var o,s,u=1;u<r;){for(s=u,o=t[u];s&&e(t[s-1],o)>0;)t[s]=t[--s];s!==u++&&(t[s]=o)}else for(var c=i(r/2),l=a(n(t,0,c),e),h=a(n(t,c),e),f=l.length,d=h.length,v=0,p=0;v<f||p<d;)t[v+p]=v<f&&p<d?e(l[v],h[p])<=0?l[v++]:h[p++]:v<f?l[v++]:h[p++];return t};t.exports=a},2329:(t,e,r)=>{var n=r(5448),i=r(8413),a=r(2674),o=r(5811)("species"),s=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(i(e)&&(e===s||n(e.prototype))||a(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?s:e}},1453:(t,e,r)=>{var n=r(2329);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},6444:(t,e,r)=>{var n=r(7878);t.exports=function(t,e){for(var r=n(t),i=new e(r),a=0;a<r;a++)i[a]=t[r-a-1];return i}},920:(t,e,r)=>{var n=r(7878),i=r(1211),a=RangeError;t.exports=function(t,e,r,o){var s=n(t),u=i(r),c=u<0?s+u:u;if(c>=s||c<0)throw new a("Incorrect index");for(var l=new e(s),h=0;h<s;h++)l[h]=h===c?o:t[h];return l}},2996:t=>{var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=e+"+/",n=e+"-_",i=function(t){for(var e={},r=0;r<64;r++)e[t.charAt(r)]=r;return e};t.exports={i2c:r,c2i:i(r),i2cUrl:n,c2iUrl:i(n)}},3535:(t,e,r)=>{var n=r(7447),i=r(5235);t.exports=function(t,e,r,a){try{return a?e(n(r)[0],r[1]):e(r)}catch(e){i(t,"throw",e)}}},4348:(t,e,r)=>{var n=r(5811)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},t(a)}catch(t){}return r}},9872:(t,e,r)=>{var n=r(2608),i=n({}.toString),a=n("".slice);t.exports=function(t){return a(i(t),8,-1)}},1179:(t,e,r)=>{var n=r(3724),i=r(3749),a=r(9872),o=r(5811)("toStringTag"),s=Object,u="Arguments"===a(function(){return arguments}());t.exports=n?a:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=s(t),o))?r:u?a(e):"Object"===(n=a(e))&&i(e.callee)?"Arguments":n}},2042:(t,e,r)=>{var n=r(5304),i=r(8986),a=r(4183),o=r(4864),s=r(3399),u=r(6021),c=r(1804),l=r(656),h=r(9393),f=r(5409),d=r(2444),v=r(5227).fastKey,p=r(8301),y=p.set,g=p.getterFor;t.exports={getConstructor:function(t,e,r,l){var h=t((function(t,i){s(t,f),y(t,{type:e,index:n(null),first:null,last:null,size:0}),d||(t.size=0),u(i)||c(i,t[l],{that:t,AS_ENTRIES:r})})),f=h.prototype,p=g(e),m=function(t,e,r){var n,i,a=p(t),o=b(t,e);return o?o.value=r:(a.last=o={index:i=v(e,!0),key:e,value:r,previous:n=a.last,next:null,removed:!1},a.first||(a.first=o),n&&(n.next=o),d?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t},b=function(t,e){var r,n=p(t),i=v(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key===e)return r};return a(f,{clear:function(){for(var t=p(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=n(null),d?t.size=0:this.size=0},delete:function(t){var e=this,r=p(e),n=b(e,t);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first===n&&(r.first=i),r.last===n&&(r.last=a),d?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=p(this),n=o(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),a(f,r?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),d&&i(f,"size",{configurable:!0,get:function(){return p(this).size}}),h},setStrong:function(t,e,r){var n=e+" Iterator",i=g(e),a=g(n);l(t,e,(function(t,e){y(this,{type:n,target:t,state:i(t),kind:e,last:null})}),(function(){for(var t=a(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?h("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=null,h(void 0,!0))}),r?"entries":"values",!r,!0),f(e)}}},8153:(t,e,r)=>{var n=r(2608),i=r(4183),a=r(5227).getWeakData,o=r(3399),s=r(7447),u=r(6021),c=r(2674),l=r(1804),h=r(5645),f=r(9649),d=r(8301),v=d.set,p=d.getterFor,y=h.find,g=h.findIndex,m=n([].splice),b=0,w=function(t){return t.frozen||(t.frozen=new k)},k=function(){this.entries=[]},x=function(t,e){return y(t.entries,(function(t){return t[0]===e}))};k.prototype={get:function(t){var e=x(this,t);if(e)return e[1]},has:function(t){return!!x(this,t)},set:function(t,e){var r=x(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&m(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,r,n){var h=t((function(t,i){o(t,d),v(t,{type:e,id:b++,frozen:null}),u(i)||l(i,t[n],{that:t,AS_ENTRIES:r})})),d=h.prototype,y=p(e),g=function(t,e,r){var n=y(t),i=a(s(e),!0);return!0===i?w(n).set(e,r):i[n.id]=r,t};return i(d,{delete:function(t){var e=y(this);if(!c(t))return!1;var r=a(t);return!0===r?w(e).delete(t):r&&f(r,e.id)&&delete r[e.id]},has:function(t){var e=y(this);if(!c(t))return!1;var r=a(t);return!0===r?w(e).has(t):r&&f(r,e.id)}}),i(d,r?{get:function(t){var e=y(this);if(c(t)){var r=a(t);if(!0===r)return w(e).get(t);if(r)return r[e.id]}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),h}}},9556:(t,e,r)=>{var n=r(5366),i=r(4032),a=r(2608),o=r(5868),s=r(8552),u=r(5227),c=r(1804),l=r(3399),h=r(3749),f=r(6021),d=r(2674),v=r(3455),p=r(4348),y=r(6911),g=r(3951);t.exports=function(t,e,r){var m=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),w=m?"set":"add",k=i[t],x=k&&k.prototype,A=k,_={},E=function(t){var e=a(x[t]);s(x,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!d(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(o(t,!h(k)||!(b||x.forEach&&!v((function(){(new k).entries().next()})))))A=r.getConstructor(e,t,m,w),u.enable();else if(o(t,!0)){var S=new A,O=S[w](b?{}:-0,1)!==S,T=v((function(){S.has(1)})),P=p((function(t){new k(t)})),L=!b&&v((function(){for(var t=new k,e=5;e--;)t[w](e,e);return!t.has(-0)}));P||((A=e((function(t,e){l(t,x);var r=g(new k,t,A);return f(e)||c(e,r[w],{that:r,AS_ENTRIES:m}),r}))).prototype=x,x.constructor=A),(T||L)&&(E("delete"),E("has"),m&&E("get")),(L||O)&&E(w),b&&x.clear&&delete x.clear}return _[t]=A,n({global:!0,constructor:!0,forced:A!==k},_),y(A,t),b||r.setStrong(A,t,m),A}},2924:(t,e,r)=>{var n=r(9649),i=r(2919),a=r(1139),o=r(1601);t.exports=function(t,e,r){for(var s=i(e),u=o.f,c=a.f,l=0;l<s.length;l++){var h=s[l];n(t,h)||r&&n(r,h)||u(t,h,c(e,h))}}},860:(t,e,r)=>{var n=r(5811)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},5139:(t,e,r)=>{var n=r(3455);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9393:t=>{t.exports=function(t,e){return{value:t,done:e}}},139:(t,e,r)=>{var n=r(2444),i=r(1601),a=r(4004);t.exports=n?function(t,e,r){return i.f(t,e,a(1,r))}:function(t,e,r){return t[e]=r,t}},4004:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},3552:(t,e,r)=>{var n=r(2444),i=r(1601),a=r(4004);t.exports=function(t,e,r){n?i.f(t,e,a(0,r)):t[e]=r}},952:(t,e,r)=>{var n=r(7447),i=r(3118),a=TypeError;t.exports=function(t){if(n(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new a("Incorrect hint");return i(this,t)}},8986:(t,e,r)=>{var n=r(1147),i=r(1601);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},8552:(t,e,r)=>{var n=r(3749),i=r(1601),a=r(1147),o=r(5801);t.exports=function(t,e,r,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:e;if(n(r)&&a(r,c,s),s.global)u?t[e]=r:o(e,r);else{try{s.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},4183:(t,e,r)=>{var n=r(8552);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},5801:(t,e,r)=>{var n=r(4032),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},1870:(t,e,r)=>{var n=r(8055),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+n(e)+" of "+n(t))}},2444:(t,e,r)=>{var n=r(3455);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7395:(t,e,r)=>{var n,i,a,o,s=r(4032),u=r(9685),c=r(6572),l=s.structuredClone,h=s.ArrayBuffer,f=s.MessageChannel,d=!1;if(c)d=function(t){l(t,{transfer:[t]})};else if(h)try{f||(n=u("worker_threads"))&&(f=n.MessageChannel),f&&(i=new f,a=new h(2),o=function(t){i.port1.postMessage(null,[t])},2===a.byteLength&&(o(a),0===a.byteLength&&(d=o)))}catch(t){}t.exports=d},5751:(t,e,r)=>{var n=r(4032),i=r(2674),a=n.document,o=i(a)&&i(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},9573:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},4090:t=>{t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},2760:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},4784:(t,e,r)=>{var n=r(5751)("span").classList,i=n&&n.constructor&&n.constructor.prototype;t.exports=i===Object.prototype?void 0:i},5175:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7085:(t,e,r)=>{var n=r(7607).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},5123:(t,e,r)=>{var n=r(7607);t.exports=/MSIE|Trident/.test(n)},9081:(t,e,r)=>{var n=r(7607);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},9352:(t,e,r)=>{var n=r(7607);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},4529:(t,e,r)=>{var n=r(7351);t.exports="NODE"===n},628:(t,e,r)=>{var n=r(7607);t.exports=/web0s(?!.*chrome)/i.test(n)},7607:(t,e,r)=>{var n=r(4032).navigator,i=n&&n.userAgent;t.exports=i?String(i):""},6415:(t,e,r)=>{var n,i,a=r(4032),o=r(7607),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},1911:(t,e,r)=>{var n=r(7607).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},7351:(t,e,r)=>{var n=r(4032),i=r(7607),a=r(9872),o=function(t){return i.slice(0,t.length)===t};t.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},3633:(t,e,r)=>{var n=r(2608),i=Error,a=n("".replace),o=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(o);t.exports=function(t,e){if(u&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=a(t,s,"");return t}},4171:(t,e,r)=>{var n=r(139),i=r(3633),a=r(3427),o=Error.captureStackTrace;t.exports=function(t,e,r,s){a&&(o?o(t,e):n(t,"stack",i(r,s)))}},3427:(t,e,r)=>{var n=r(3455),i=r(4004);t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},2912:(t,e,r)=>{var n=r(2444),i=r(3455),a=r(7447),o=r(8363),s=Error.prototype.toString,u=i((function(){if(n){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==s.call(t))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})}));t.exports=u?function(){var t=a(this),e=o(t.name,"Error"),r=o(t.message);return e?r?e+": "+r:e:r}:s},5366:(t,e,r)=>{var n=r(4032),i=r(1139).f,a=r(139),o=r(8552),s=r(5801),u=r(2924),c=r(5868);t.exports=function(t,e){var r,l,h,f,d,v=t.target,p=t.global,y=t.stat;if(r=p?n:y?n[v]||s(v,{}):n[v]&&n[v].prototype)for(l in e){if(f=e[l],h=t.dontCallGetSet?(d=i(r,l))&&d.value:r[l],!c(p?l:v+(y?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(t.sham||h&&h.sham)&&a(f,"sham",!0),o(r,l,f,t)}}},3455:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},4364:(t,e,r)=>{r(2823);var n=r(3453),i=r(8552),a=r(9867),o=r(3455),s=r(5811),u=r(139),c=s("species"),l=RegExp.prototype;t.exports=function(t,e,r,h){var f=s(t),d=!o((function(){var e={};return e[f]=function(){return 7},7!==""[t](e)})),v=d&&!o((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!d||!v||r){var p=/./[f],y=e(f,""[t],(function(t,e,r,i,o){var s=e.exec;return s===a||s===l.exec?d&&!o?{done:!0,value:n(p,e,r,i)}:{done:!0,value:n(t,r,e,i)}:{done:!1}}));i(String.prototype,t,y[0]),i(l,f,y[1])}h&&u(l[f],"sham",!0)}},2851:(t,e,r)=>{var n=r(5448),i=r(7878),a=r(9573),o=r(4864),s=function(t,e,r,u,c,l,h,f){for(var d,v,p=c,y=0,g=!!h&&o(h,f);y<u;)y in r&&(d=g?g(r[y],y,e):r[y],l>0&&n(d)?(v=i(d),p=s(t,e,d,v,p,l-1)-1):(a(p+1),t[p]=d),p++),y++;return p};t.exports=s},568:(t,e,r)=>{var n=r(3455);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},3881:(t,e,r)=>{var n=r(9128),i=Function.prototype,a=i.apply,o=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(a):function(){return o.apply(a,arguments)})},4864:(t,e,r)=>{var n=r(2116),i=r(4186),a=r(9128),o=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:a?o(t,e):function(){return t.apply(e,arguments)}}},9128:(t,e,r)=>{var n=r(3455);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2230:(t,e,r)=>{var n=r(2608),i=r(4186),a=r(2674),o=r(9649),s=r(4224),u=r(9128),c=Function,l=n([].concat),h=n([].join),f={};t.exports=u?c.bind:function(t){var e=i(this),r=e.prototype,n=s(arguments,1),u=function(){var r=l(n,s(arguments));return this instanceof u?function(t,e,r){if(!o(f,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";f[e]=c("C,a","return new C("+h(n,",")+")")}return f[e](t,r)}(e,r.length,r):e.apply(t,r)};return a(r)&&(u.prototype=r),u}},3453:(t,e,r)=>{var n=r(9128),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},2542:(t,e,r)=>{var n=r(2444),i=r(9649),a=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&o(a,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},5026:(t,e,r)=>{var n=r(2608),i=r(4186);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},2116:(t,e,r)=>{var n=r(9872),i=r(2608);t.exports=function(t){if("Function"===n(t))return i(t)}},2608:(t,e,r)=>{var n=r(9128),i=Function.prototype,a=i.call,o=n&&i.bind.bind(a,a);t.exports=n?o:function(t){return function(){return a.apply(t,arguments)}}},9685:(t,e,r)=>{var n=r(4032),i=r(4529);t.exports=function(t){if(i){try{return n.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}}},8711:(t,e,r)=>{var n=r(4032),i=r(3749);t.exports=function(t,e){return arguments.length<2?(r=n[t],i(r)?r:void 0):n[t]&&n[t][e];var r}},3447:t=>{t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},1750:(t,e,r)=>{var n=r(3453),i=r(7447),a=r(3447),o=r(7507);t.exports=function(t,e){e&&"string"==typeof t||i(t);var r=o(t);return a(i(void 0!==r?n(r,t):t))}},7507:(t,e,r)=>{var n=r(1179),i=r(8622),a=r(6021),o=r(5597),s=r(5811)("iterator");t.exports=function(t){if(!a(t))return i(t,s)||i(t,"@@iterator")||o[n(t)]}},6961:(t,e,r)=>{var n=r(3453),i=r(4186),a=r(7447),o=r(8055),s=r(7507),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?s(t):e;if(i(r))return a(n(r,t));throw new u(o(t)+" is not iterable")}},213:(t,e,r)=>{var n=r(2608),i=r(5448),a=r(3749),o=r(9872),s=r(687),u=n([].push);t.exports=function(t){if(a(t))return t;if(i(t)){for(var e=t.length,r=[],n=0;n<e;n++){var c=t[n];"string"==typeof c?u(r,c):"number"!=typeof c&&"Number"!==o(c)&&"String"!==o(c)||u(r,s(c))}var l=r.length,h=!0;return function(t,e){if(h)return h=!1,e;if(i(this))return e;for(var n=0;n<l;n++)if(r[n]===t)return e}}}},8622:(t,e,r)=>{var n=r(4186),i=r(6021);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},3885:(t,e,r)=>{var n=r(4186),i=r(7447),a=r(3453),o=r(1211),s=r(3447),u="Invalid size",c=RangeError,l=TypeError,h=Math.max,f=function(t,e){this.set=t,this.size=h(e,0),this.has=n(t.has),this.keys=n(t.keys)};f.prototype={getIterator:function(){return s(i(a(this.keys,this.set)))},includes:function(t){return a(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new l(u);var r=o(e);if(r<0)throw new c(u);return new f(t,r)}},3966:(t,e,r)=>{var n=r(2608),i=r(4165),a=Math.floor,o=n("".charAt),s=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,h,f){var d=r+t.length,v=n.length,p=l;return void 0!==h&&(h=i(h),p=c),s(f,p,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,r);case"'":return u(e,d);case"<":c=h[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>v){var f=a(l/10);return 0===f?i:f<=v?void 0===n[f-1]?o(s,1):n[f-1]+o(s,1):i}c=n[l-1]}return void 0===c?"":c}))}},4032:function(t){var e=function(t){return t&&t.Math===Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof global&&global)||e("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9649:(t,e,r)=>{var n=r(2608),i=r(4165),a=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(i(t),e)}},2645:t=>{t.exports={}},4885:t=>{t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},3085:(t,e,r)=>{var n=r(8711);t.exports=n("document","documentElement")},8829:(t,e,r)=>{var n=r(2444),i=r(3455),a=r(5751);t.exports=!n&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1306:t=>{var e=Array,r=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;t.exports={pack:function(t,s,u){var c,l,h,f=e(u),d=8*u-s-1,v=(1<<d)-1,p=v>>1,y=23===s?n(2,-24)-n(2,-77):0,g=t<0||0===t&&1/t<0?1:0,m=0;for((t=r(t))!=t||t===1/0?(l=t!=t?1:0,c=v):(c=i(a(t)/o),t*(h=n(2,-c))<1&&(c--,h*=2),(t+=c+p>=1?y/h:y*n(2,1-p))*h>=2&&(c++,h/=2),c+p>=v?(l=0,c=v):c+p>=1?(l=(t*h-1)*n(2,s),c+=p):(l=t*n(2,p-1)*n(2,s),c=0));s>=8;)f[m++]=255&l,l/=256,s-=8;for(c=c<<s|l,d+=s;d>0;)f[m++]=255&c,c/=256,d-=8;return f[m-1]|=128*g,f},unpack:function(t,e){var r,i=t.length,a=8*i-e-1,o=(1<<a)-1,s=o>>1,u=a-7,c=i-1,l=t[c--],h=127&l;for(l>>=7;u>0;)h=256*h+t[c--],u-=8;for(r=h&(1<<-u)-1,h>>=-u,u+=e;u>0;)r=256*r+t[c--],u-=8;if(0===h)h=1-s;else{if(h===o)return r?NaN:l?-1/0:1/0;r+=n(2,e),h-=s}return(l?-1:1)*r*n(2,h-e)}}},9455:(t,e,r)=>{var n=r(2608),i=r(3455),a=r(9872),o=Object,s=n("".split);t.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?s(t,""):o(t)}:o},3951:(t,e,r)=>{var n=r(3749),i=r(2674),a=r(9415);t.exports=function(t,e,r){var o,s;return a&&n(o=e.constructor)&&o!==r&&i(s=o.prototype)&&s!==r.prototype&&a(t,s),t}},6906:(t,e,r)=>{var n=r(2608),i=r(3749),a=r(2205),o=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(t){return o(t)}),t.exports=a.inspectSource},2483:(t,e,r)=>{var n=r(2674),i=r(139);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},5227:(t,e,r)=>{var n=r(5366),i=r(2608),a=r(2645),o=r(2674),s=r(9649),u=r(1601).f,c=r(3408),l=r(6442),h=r(8812),f=r(5936),d=r(568),v=!1,p=f("meta"),y=0,g=function(t){u(t,p,{value:{objectID:"O"+y++,weakData:{}}})},m=t.exports={enable:function(){m.enable=function(){},v=!0;var t=c.f,e=i([].splice),r={};r[p]=1,t(r).length&&(c.f=function(r){for(var n=t(r),i=0,a=n.length;i<a;i++)if(n[i]===p){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,p)){if(!h(t))return"F";if(!e)return"E";g(t)}return t[p].objectID},getWeakData:function(t,e){if(!s(t,p)){if(!h(t))return!0;if(!e)return!1;g(t)}return t[p].weakData},onFreeze:function(t){return d&&v&&h(t)&&!s(t,p)&&g(t),t}};a[p]=!0},8301:(t,e,r)=>{var n,i,a,o=r(6206),s=r(4032),u=r(2674),c=r(139),l=r(9649),h=r(2205),f=r(2343),d=r(2645),v="Object already initialized",p=s.TypeError,y=s.WeakMap;if(o||h.state){var g=h.state||(h.state=new y);g.get=g.get,g.has=g.has,g.set=g.set,n=function(t,e){if(g.has(t))throw new p(v);return e.facade=t,g.set(t,e),e},i=function(t){return g.get(t)||{}},a=function(t){return g.has(t)}}else{var m=f("state");d[m]=!0,n=function(t,e){if(l(t,m))throw new p(v);return e.facade=t,c(t,m,e),e},i=function(t){return l(t,m)?t[m]:{}},a=function(t){return l(t,m)}}t.exports={set:n,get:i,has:a,enforce:function(t){return a(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw new p("Incompatible receiver, "+t+" required");return r}}}},993:(t,e,r)=>{var n=r(5811),i=r(5597),a=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[a]===t)}},5448:(t,e,r)=>{var n=r(9872);t.exports=Array.isArray||function(t){return"Array"===n(t)}},5415:(t,e,r)=>{var n=r(1179);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},3749:t=>{var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},8413:(t,e,r)=>{var n=r(2608),i=r(3455),a=r(3749),o=r(1179),s=r(8711),u=r(6906),c=function(){},l=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=n(h.exec),d=!h.test(c),v=function(t){if(!a(t))return!1;try{return l(c,[],t),!0}catch(t){return!1}},p=function(t){if(!a(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(h,u(t))}catch(t){return!0}};p.sham=!0,t.exports=!l||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?p:v},3007:(t,e,r)=>{var n=r(9649);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},5868:(t,e,r)=>{var n=r(3455),i=r(3749),a=/#|\.prototype\./,o=function(t,e){var r=u[s(t)];return r===l||r!==c&&(i(e)?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(a,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},2599:(t,e,r)=>{var n=r(2674),i=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&i(t)===t}},6021:t=>{t.exports=function(t){return null==t}},2674:(t,e,r)=>{var n=r(3749);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},4597:(t,e,r)=>{var n=r(2674);t.exports=function(t){return n(t)||null===t}},8507:t=>{t.exports=!1},6484:(t,e,r)=>{var n=r(2674),i=r(9872),a=r(5811)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"===i(t))}},2277:(t,e,r)=>{var n=r(8711),i=r(3749),a=r(6921),o=r(4752),s=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&a(e.prototype,s(t))}},2939:(t,e,r)=>{var n=r(3453);t.exports=function(t,e,r){for(var i,a,o=r?t:t.iterator,s=t.next;!(i=n(s,o)).done;)if(void 0!==(a=e(i.value)))return a}},1804:(t,e,r)=>{var n=r(4864),i=r(3453),a=r(7447),o=r(8055),s=r(993),u=r(7878),c=r(6921),l=r(6961),h=r(7507),f=r(5235),d=TypeError,v=function(t,e){this.stopped=t,this.result=e},p=v.prototype;t.exports=function(t,e,r){var y,g,m,b,w,k,x,A=r&&r.that,_=!(!r||!r.AS_ENTRIES),E=!(!r||!r.IS_RECORD),S=!(!r||!r.IS_ITERATOR),O=!(!r||!r.INTERRUPTED),T=n(e,A),P=function(t){return y&&f(y,"normal",t),new v(!0,t)},L=function(t){return _?(a(t),O?T(t[0],t[1],P):T(t[0],t[1])):O?T(t,P):T(t)};if(E)y=t.iterator;else if(S)y=t;else{if(!(g=h(t)))throw new d(o(t)+" is not iterable");if(s(g)){for(m=0,b=u(t);b>m;m++)if((w=L(t[m]))&&c(p,w))return w;return new v(!1)}y=l(t,g)}for(k=E?t.next:y.next;!(x=i(k,y)).done;){try{w=L(x.value)}catch(t){f(y,"throw",t)}if("object"==typeof w&&w&&c(p,w))return w}return new v(!1)}},5235:(t,e,r)=>{var n=r(3453),i=r(7447),a=r(8622);t.exports=function(t,e,r){var o,s;i(t);try{if(!(o=a(t,"return"))){if("throw"===e)throw r;return r}o=n(o,t)}catch(t){s=!0,o=t}if("throw"===e)throw r;if(s)throw o;return i(o),r}},282:(t,e,r)=>{var n=r(2857).IteratorPrototype,i=r(5304),a=r(4004),o=r(6911),s=r(5597),u=function(){return this};t.exports=function(t,e,r,c){var l=e+" Iterator";return t.prototype=i(n,{next:a(+!c,r)}),o(t,l,!1,!0),s[l]=u,t}},2342:(t,e,r)=>{var n=r(3453),i=r(5304),a=r(139),o=r(4183),s=r(5811),u=r(8301),c=r(8622),l=r(2857).IteratorPrototype,h=r(9393),f=r(5235),d=s("toStringTag"),v="IteratorHelper",p="WrapForValidIterator",y=u.set,g=function(t){var e=u.getterFor(t?p:v);return o(i(l),{next:function(){var r=e(this);if(t)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return h(n,r.done)}catch(t){throw r.done=!0,t}},return:function(){var r=e(this),i=r.iterator;if(r.done=!0,t){var a=c(i,"return");return a?n(a,i):h(void 0,!0)}if(r.inner)try{f(r.inner.iterator,"normal")}catch(t){return f(i,"throw",t)}return f(i,"normal"),h(void 0,!0)}})},m=g(!0),b=g(!1);a(b,d,"Iterator Helper"),t.exports=function(t,e){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=e?p:v,n.nextHandler=t,n.counter=0,n.done=!1,y(this,n)};return r.prototype=e?m:b,r}},656:(t,e,r)=>{var n=r(5366),i=r(3453),a=r(8507),o=r(2542),s=r(3749),u=r(282),c=r(2611),l=r(9415),h=r(6911),f=r(139),d=r(8552),v=r(5811),p=r(5597),y=r(2857),g=o.PROPER,m=o.CONFIGURABLE,b=y.IteratorPrototype,w=y.BUGGY_SAFARI_ITERATORS,k=v("iterator"),x="keys",A="values",_="entries",E=function(){return this};t.exports=function(t,e,r,o,v,y,S){u(r,e,o);var O,T,P,L=function(t){if(t===v&&R)return R;if(!w&&t&&t in j)return j[t];switch(t){case x:case A:case _:return function(){return new r(this,t)}}return function(){return new r(this)}},M=e+" Iterator",C=!1,j=t.prototype,I=j[k]||j["@@iterator"]||v&&j[v],R=!w&&I||L(v),F="Array"===e&&j.entries||I;if(F&&(O=c(F.call(new t)))!==Object.prototype&&O.next&&(a||c(O)===b||(l?l(O,b):s(O[k])||d(O,k,E)),h(O,M,!0,!0),a&&(p[M]=E)),g&&v===A&&I&&I.name!==A&&(!a&&m?f(j,"name",A):(C=!0,R=function(){return i(I,this)})),v)if(T={values:L(A),keys:y?R:L(x),entries:L(_)},S)for(P in T)(w||C||!(P in j))&&d(j,P,T[P]);else n({target:e,proto:!0,forced:w||C},T);return a&&!S||j[k]===R||d(j,k,R,{name:v}),p[e]=R,T}},4009:(t,e,r)=>{var n=r(3453),i=r(4186),a=r(7447),o=r(3447),s=r(2342),u=r(3535),c=s((function(){var t=this.iterator,e=a(n(this.next,t));if(!(this.done=!!e.done))return u(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return a(this),i(t),new c(o(this),{mapper:t})}},2857:(t,e,r)=>{var n,i,a,o=r(3455),s=r(3749),u=r(2674),c=r(5304),l=r(2611),h=r(8552),f=r(5811),d=r(8507),v=f("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=l(l(a)))!==Object.prototype&&(n=i):p=!0),!u(n)||o((function(){var t={};return n[v].call(t)!==t}))?n={}:d&&(n=c(n)),s(n[v])||h(n,v,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},5597:t=>{t.exports={}},7878:(t,e,r)=>{var n=r(5806);t.exports=function(t){return n(t.length)}},1147:(t,e,r)=>{var n=r(2608),i=r(3455),a=r(3749),o=r(9649),s=r(2444),u=r(2542).CONFIGURABLE,c=r(6906),l=r(8301),h=l.enforce,f=l.get,d=String,v=Object.defineProperty,p=n("".slice),y=n("".replace),g=n([].join),m=s&&!i((function(){return 8!==v((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=t.exports=function(t,e,r){"Symbol("===p(d(e),0,7)&&(e="["+y(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!o(t,"name")||u&&t.name!==e)&&(s?v(t,"name",{value:e,configurable:!0}):t.name=e),m&&r&&o(r,"arity")&&t.length!==r.arity&&v(t,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?s&&v(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=h(t);return o(n,"source")||(n.source=g(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return a(this)&&f(this).source||c(this)}),"toString")},9676:(t,e,r)=>{var n=r(550),i=Math.abs,a=2220446049250313e-31,o=1/a;t.exports=function(t,e,r,s){var u=+t,c=i(u),l=n(u);if(c<s)return l*function(t){return t+o-o}(c/s/e)*s*e;var h=(1+e/a)*c,f=h-(h-c);return f>r||f!=f?l*(1/0):l*f}},3505:(t,e,r)=>{var n=r(9676);t.exports=Math.fround||function(t){return n(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},550:t=>{t.exports=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}},2789:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},755:(t,e,r)=>{var n,i,a,o,s,u=r(4032),c=r(5725),l=r(4864),h=r(1369).set,f=r(3529),d=r(9352),v=r(9081),p=r(628),y=r(4529),g=u.MutationObserver||u.WebKitMutationObserver,m=u.document,b=u.process,w=u.Promise,k=c("queueMicrotask");if(!k){var x=new f,A=function(){var t,e;for(y&&(t=b.domain)&&t.exit();e=x.get();)try{e()}catch(t){throw x.head&&n(),t}t&&t.enter()};d||y||p||!g||!m?!v&&w&&w.resolve?((o=w.resolve(void 0)).constructor=w,s=l(o.then,o),n=function(){s(A)}):y?n=function(){b.nextTick(A)}:(h=l(h,u),n=function(){h(A)}):(i=!0,a=m.createTextNode(""),new g(A).observe(a,{characterData:!0}),n=function(){a.data=i=!i}),k=function(t){x.head||n(),x.add(t)}}t.exports=k},9371:(t,e,r)=>{var n=r(4186),i=TypeError,a=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new i("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new a(t)}},8363:(t,e,r)=>{var n=r(687);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},821:t=>{var e=RangeError;t.exports=function(t){if(t==t)return t;throw new e("NaN is not allowed")}},3631:(t,e,r)=>{var n=r(6484),i=TypeError;t.exports=function(t){if(n(t))throw new i("The method doesn't accept regular expressions");return t}},8069:(t,e,r)=>{var n=r(2444),i=r(2608),a=r(3453),o=r(3455),s=r(496),u=r(6005),c=r(9221),l=r(4165),h=r(9455),f=Object.assign,d=Object.defineProperty,v=i([].concat);t.exports=!f||o((function(){if(n&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!==f({},t)[r]||s(f({},e)).join("")!==i}))?function(t,e){for(var r=l(t),i=arguments.length,o=1,f=u.f,d=c.f;i>o;)for(var p,y=h(arguments[o++]),g=f?v(s(y),f(y)):s(y),m=g.length,b=0;m>b;)p=g[b++],n&&!a(d,y,p)||(r[p]=y[p]);return r}:f},5304:(t,e,r)=>{var n,i=r(7447),a=r(9217),o=r(5175),s=r(2645),u=r(3085),c=r(5751),l=r(2343),h="prototype",f="script",d=l("IE_PROTO"),v=function(){},p=function(t){return"<"+f+">"+t+"</"+f+">"},y=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;g="undefined"!=typeof document?document.domain&&n?y(n):(e=c("iframe"),r="java"+f+":",e.style.display="none",u.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):y(n);for(var i=o.length;i--;)delete g[h][o[i]];return g()};s[d]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(v[h]=i(t),r=new v,v[h]=null,r[d]=t):r=g(),void 0===e?r:a.f(r,e)}},9217:(t,e,r)=>{var n=r(2444),i=r(782),a=r(1601),o=r(7447),s=r(3637),u=r(496);e.f=n&&!i?Object.defineProperties:function(t,e){o(t);for(var r,n=s(e),i=u(e),c=i.length,l=0;c>l;)a.f(t,r=i[l++],n[r]);return t}},1601:(t,e,r)=>{var n=r(2444),i=r(8829),a=r(782),o=r(7447),s=r(6201),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",d="writable";e.f=n?a?function(t,e,r){if(o(t),e=s(e),o(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=l(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:h in r?r[h]:n[h],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(o(t),e=s(e),o(r),i)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1139:(t,e,r)=>{var n=r(2444),i=r(3453),a=r(9221),o=r(4004),s=r(3637),u=r(6201),c=r(9649),l=r(8829),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=s(t),e=u(e),l)try{return h(t,e)}catch(t){}if(c(t,e))return o(!i(a.f,t,e),t[e])}},6442:(t,e,r)=>{var n=r(9872),i=r(3637),a=r(3408).f,o=r(4224),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"===n(t)?function(t){try{return a(t)}catch(t){return o(s)}}(t):a(i(t))}},3408:(t,e,r)=>{var n=r(2468),i=r(5175).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},6005:(t,e)=>{e.f=Object.getOwnPropertySymbols},2611:(t,e,r)=>{var n=r(9649),i=r(3749),a=r(4165),o=r(2343),s=r(5139),u=o("IE_PROTO"),c=Object,l=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=a(t);if(n(e,u))return e[u];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof c?l:null}},8812:(t,e,r)=>{var n=r(3455),i=r(2674),a=r(9872),o=r(7060),s=Object.isExtensible,u=n((function(){s(1)}));t.exports=u||o?function(t){return!!i(t)&&(!o||"ArrayBuffer"!==a(t))&&(!s||s(t))}:s},6921:(t,e,r)=>{var n=r(2608);t.exports=n({}.isPrototypeOf)},2468:(t,e,r)=>{var n=r(2608),i=r(9649),a=r(3637),o=r(7921).indexOf,s=r(2645),u=n([].push);t.exports=function(t,e){var r,n=a(t),c=0,l=[];for(r in n)!i(s,r)&&i(n,r)&&u(l,r);for(;e.length>c;)i(n,r=e[c++])&&(~o(l,r)||u(l,r));return l}},496:(t,e,r)=>{var n=r(2468),i=r(5175);t.exports=Object.keys||function(t){return n(t,i)}},9221:(t,e)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},9415:(t,e,r)=>{var n=r(5026),i=r(2674),a=r(7222),o=r(7330);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return a(r),o(n),i(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},8885:(t,e,r)=>{var n=r(2444),i=r(3455),a=r(2608),o=r(2611),s=r(496),u=r(3637),c=a(r(9221).f),l=a([].push),h=n&&i((function(){var t=Object.create(null);return t[2]=2,!c(t,2)})),f=function(t){return function(e){for(var r,i=u(e),a=s(i),f=h&&null===o(i),d=a.length,v=0,p=[];d>v;)r=a[v++],n&&!(f?r in i:c(i,r))||l(p,t?[r,i[r]]:i[r]);return p}};t.exports={entries:f(!0),values:f(!1)}},3003:(t,e,r)=>{var n=r(3724),i=r(1179);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},3118:(t,e,r)=>{var n=r(3453),i=r(3749),a=r(2674),o=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&i(r=t.toString)&&!a(s=n(r,t)))return s;if(i(r=t.valueOf)&&!a(s=n(r,t)))return s;if("string"!==e&&i(r=t.toString)&&!a(s=n(r,t)))return s;throw new o("Can't convert object to primitive value")}},2919:(t,e,r)=>{var n=r(8711),i=r(2608),a=r(3408),o=r(6005),s=r(7447),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=a.f(s(t)),r=o.f;return r?u(e,r(t)):e}},1448:(t,e,r)=>{var n=r(2608),i=r(9649),a=SyntaxError,o=parseInt,s=String.fromCharCode,u=n("".charAt),c=n("".slice),l=n(/./.exec),h={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},f=/^[\da-f]{4}$/i,d=/^[\u0000-\u001F]$/;t.exports=function(t,e){for(var r=!0,n="";e<t.length;){var v=u(t,e);if("\\"===v){var p=c(t,e,e+2);if(i(h,p))n+=h[p],e+=2;else{if("\\u"!==p)throw new a('Unknown escape sequence: "'+p+'"');var y=c(t,e+=2,e+4);if(!l(f,y))throw new a("Bad Unicode escape at: "+e);n+=s(o(y,16)),e+=4}}else{if('"'===v){r=!1,e++;break}if(l(d,v))throw new a("Bad control character in string literal at: "+e);n+=v,e++}}if(r)throw new a("Unterminated string at: "+e);return{value:n,end:e}}},8799:(t,e,r)=>{var n=r(4032);t.exports=n},6703:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9492:(t,e,r)=>{var n=r(4032),i=r(5318),a=r(3749),o=r(5868),s=r(6906),u=r(5811),c=r(7351),l=r(8507),h=r(6415),f=i&&i.prototype,d=u("species"),v=!1,p=a(n.PromiseRejectionEvent),y=o("Promise",(function(){var t=s(i),e=t!==String(i);if(!e&&66===h)return!0;if(l&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(t)){var r=new i((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[d]=n,!(v=r.then((function(){}))instanceof n))return!0}return!(e||"BROWSER"!==c&&"DENO"!==c||p)}));t.exports={CONSTRUCTOR:y,REJECTION_EVENT:p,SUBCLASSING:v}},5318:(t,e,r)=>{var n=r(4032);t.exports=n.Promise},1774:(t,e,r)=>{var n=r(7447),i=r(2674),a=r(9371);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=a.f(t);return(0,r.resolve)(e),r.promise}},2041:(t,e,r)=>{var n=r(5318),i=r(4348),a=r(9492).CONSTRUCTOR;t.exports=a||!i((function(t){n.all(t).then(void 0,(function(){}))}))},2848:(t,e,r)=>{var n=r(1601).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},3529:t=>{var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},4410:(t,e,r)=>{var n=r(3453),i=r(7447),a=r(3749),o=r(9872),s=r(9867),u=TypeError;t.exports=function(t,e){var r=t.exec;if(a(r)){var c=n(r,t,e);return null!==c&&i(c),c}if("RegExp"===o(t))return n(s,t,e);throw new u("RegExp#exec called on incompatible receiver")}},9867:(t,e,r)=>{var n,i,a=r(3453),o=r(2608),s=r(687),u=r(747),c=r(1837),l=r(4593),h=r(5304),f=r(8301).get,d=r(3651),v=r(9502),p=l("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,m=o("".charAt),b=o("".indexOf),w=o("".replace),k=o("".slice),x=(i=/b*/g,a(y,n=/a/,"a"),a(y,i,"a"),0!==n.lastIndex||0!==i.lastIndex),A=c.BROKEN_CARET,_=void 0!==/()??/.exec("")[1];(x||_||A||d||v)&&(g=function(t){var e,r,n,i,o,c,l,d=this,v=f(d),E=s(t),S=v.raw;if(S)return S.lastIndex=d.lastIndex,e=a(g,S,E),d.lastIndex=S.lastIndex,e;var O=v.groups,T=A&&d.sticky,P=a(u,d),L=d.source,M=0,C=E;if(T&&(P=w(P,"y",""),-1===b(P,"g")&&(P+="g"),C=k(E,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==m(E,d.lastIndex-1))&&(L="(?: "+L+")",C=" "+C,M++),r=new RegExp("^(?:"+L+")",P)),_&&(r=new RegExp("^"+L+"$(?!\\s)",P)),x&&(n=d.lastIndex),i=a(y,T?r:d,C),T?i?(i.input=k(i.input,M),i[0]=k(i[0],M),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:x&&i&&(d.lastIndex=d.global?i.index+i[0].length:n),_&&i&&i.length>1&&a(p,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&O)for(i.groups=c=h(null),o=0;o<O.length;o++)c[(l=O[o])[0]]=i[l[1]];return i}),t.exports=g},747:(t,e,r)=>{var n=r(7447);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4554:(t,e,r)=>{var n=r(3453),i=r(9649),a=r(6921),o=r(747),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||i(t,"flags")||!a(s,t)?e:n(o,t)}},1837:(t,e,r)=>{var n=r(3455),i=r(4032).RegExp,a=n((function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),o=a||n((function(){return!i("a","y").sticky})),s=a||n((function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},3651:(t,e,r)=>{var n=r(3455),i=r(4032).RegExp;t.exports=n((function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},9502:(t,e,r)=>{var n=r(3455),i=r(4032).RegExp;t.exports=n((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},7222:(t,e,r)=>{var n=r(6021),i=TypeError;t.exports=function(t){if(n(t))throw new i("Can't call method on "+t);return t}},5725:(t,e,r)=>{var n=r(4032),i=r(2444),a=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return n[t];var e=a(n,t);return e&&e.value}},8550:(t,e,r)=>{var n=r(418),i=r(5605),a=n.Set,o=n.add;t.exports=function(t){var e=new a;return i(t,(function(t){o(e,t)})),e}},4656:(t,e,r)=>{var n=r(4376),i=r(418),a=r(8550),o=r(82),s=r(3885),u=r(5605),c=r(2939),l=i.has,h=i.remove;t.exports=function(t){var e=n(this),r=s(t),i=a(e);return o(e)<=r.size?u(e,(function(t){r.includes(t)&&h(i,t)})):c(r.getIterator(),(function(t){l(e,t)&&h(i,t)})),i}},418:(t,e,r)=>{var n=r(2608),i=Set.prototype;t.exports={Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},2446:(t,e,r)=>{var n=r(4376),i=r(418),a=r(82),o=r(3885),s=r(5605),u=r(2939),c=i.Set,l=i.add,h=i.has;t.exports=function(t){var e=n(this),r=o(t),i=new c;return a(e)>r.size?u(r.getIterator(),(function(t){h(e,t)&&l(i,t)})):s(e,(function(t){r.includes(t)&&l(i,t)})),i}},4545:(t,e,r)=>{var n=r(4376),i=r(418).has,a=r(82),o=r(3885),s=r(5605),u=r(2939),c=r(5235);t.exports=function(t){var e=n(this),r=o(t);if(a(e)<=r.size)return!1!==s(e,(function(t){if(r.includes(t))return!1}),!0);var l=r.getIterator();return!1!==u(l,(function(t){if(i(e,t))return c(l,"normal",!1)}))}},7918:(t,e,r)=>{var n=r(4376),i=r(82),a=r(5605),o=r(3885);t.exports=function(t){var e=n(this),r=o(t);return!(i(e)>r.size)&&!1!==a(e,(function(t){if(!r.includes(t))return!1}),!0)}},6111:(t,e,r)=>{var n=r(4376),i=r(418).has,a=r(82),o=r(3885),s=r(2939),u=r(5235);t.exports=function(t){var e=n(this),r=o(t);if(a(e)<r.size)return!1;var c=r.getIterator();return!1!==s(c,(function(t){if(!i(e,t))return u(c,"normal",!1)}))}},5605:(t,e,r)=>{var n=r(2608),i=r(2939),a=r(418),o=a.Set,s=a.proto,u=n(s.forEach),c=n(s.keys),l=c(new o).next;t.exports=function(t,e,r){return r?i({iterator:c(t),next:l},e):u(t,e)}},1716:(t,e,r)=>{var n=r(8711),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=n("Set");try{(new e)[t](i(0));try{return(new e)[t](i(-1)),!1}catch(t){return!0}}catch(t){return!1}}},82:(t,e,r)=>{var n=r(5026),i=r(418);t.exports=n(i.proto,"size","get")||function(t){return t.size}},5409:(t,e,r)=>{var n=r(8711),i=r(8986),a=r(5811),o=r(2444),s=a("species");t.exports=function(t){var e=n(t);o&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},4498:(t,e,r)=>{var n=r(4376),i=r(418),a=r(8550),o=r(3885),s=r(2939),u=i.add,c=i.has,l=i.remove;t.exports=function(t){var e=n(this),r=o(t).getIterator(),i=a(e);return s(r,(function(t){c(e,t)?l(i,t):u(i,t)})),i}},6911:(t,e,r)=>{var n=r(1601).f,i=r(9649),a=r(5811)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!i(t,a)&&n(t,a,{configurable:!0,value:e})}},9500:(t,e,r)=>{var n=r(4376),i=r(418).add,a=r(8550),o=r(3885),s=r(2939);t.exports=function(t){var e=n(this),r=o(t).getIterator(),u=a(e);return s(r,(function(t){i(u,t)})),u}},2343:(t,e,r)=>{var n=r(4593),i=r(5936),a=n("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},2205:(t,e,r)=>{var n=r(8507),i=r(4032),a=r(5801),o="__core-js_shared__",s=t.exports=i[o]||a(o,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},4593:(t,e,r)=>{var n=r(2205);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},1365:(t,e,r)=>{var n=r(7447),i=r(9052),a=r(6021),o=r(5811)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||a(r=n(s)[o])?e:i(r)}},6903:(t,e,r)=>{var n=r(2608),i=r(1211),a=r(687),o=r(7222),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(t){return function(e,r){var n,l,h=a(o(e)),f=i(r),d=h.length;return f<0||f>=d?t?"":void 0:(n=u(h,f))<55296||n>56319||f+1===d||(l=u(h,f+1))<56320||l>57343?t?s(h,f):n:t?c(h,f,f+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},4903:(t,e,r)=>{var n=r(7607);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},6437:(t,e,r)=>{var n=r(2608),i=r(5806),a=r(687),o=r(6605),s=r(7222),u=n(o),c=n("".slice),l=Math.ceil,h=function(t){return function(e,r,n){var o,h,f=a(s(e)),d=i(r),v=f.length,p=void 0===n?" ":a(n);return d<=v||""===p?f:((h=u(p,l((o=d-v)/p.length))).length>o&&(h=c(h,0,o)),t?f+h:h+f)}};t.exports={start:h(!1),end:h(!0)}},5141:(t,e,r)=>{var n=r(2608),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=n(o.exec),l=Math.floor,h=String.fromCharCode,f=n("".charCodeAt),d=n([].join),v=n([].push),p=n("".replace),y=n("".split),g=n("".toLowerCase),m=function(t){return t+22+75*(t<26)},b=function(t,e,r){var n=0;for(t=r?l(t/700):t>>1,t+=l(t/e);t>455;)t=l(t/35),n+=36;return l(n+36*t/(t+38))},w=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=f(t,r++);if(i>=55296&&i<=56319&&r<n){var a=f(t,r++);56320==(64512&a)?v(e,((1023&i)<<10)+(1023&a)+65536):(v(e,i),r--)}else v(e,i)}return e}(t);var r,n,a=t.length,o=128,c=0,p=72;for(r=0;r<t.length;r++)(n=t[r])<128&&v(e,h(n));var y=e.length,g=y;for(y&&v(e,"-");g<a;){var w=i;for(r=0;r<t.length;r++)(n=t[r])>=o&&n<w&&(w=n);var k=g+1;if(w-o>l((i-c)/k))throw new u(s);for(c+=(w-o)*k,o=w,r=0;r<t.length;r++){if((n=t[r])<o&&++c>i)throw new u(s);if(n===o){for(var x=c,A=36;;){var _=A<=p?1:A>=p+26?26:A-p;if(x<_)break;var E=x-_,S=36-_;v(e,h(m(_+E%S))),x=l(E/S),A+=36}v(e,h(m(x))),p=b(c,k,g===y),c=0,g++}}c++,o++}return d(e,"")};t.exports=function(t){var e,r,n=[],i=y(p(g(t),o,"."),".");for(e=0;e<i.length;e++)r=i[e],v(n,c(a,r)?"xn--"+w(r):r);return d(n,".")}},6605:(t,e,r)=>{var n=r(1211),i=r(687),a=r(7222),o=RangeError;t.exports=function(t){var e=i(a(this)),r="",s=n(t);if(s<0||s===1/0)throw new o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(r+=e);return r}},2882:(t,e,r)=>{var n=r(9418).end,i=r(3794);t.exports=i("trimEnd")?function(){return n(this)}:"".trimEnd},3794:(t,e,r)=>{var n=r(2542).PROPER,i=r(3455),a=r(2284);t.exports=function(t){return i((function(){return!!a[t]()||""!==""[t]()||n&&a[t].name!==t}))}},9418:(t,e,r)=>{var n=r(2608),i=r(7222),a=r(687),o=r(2284),s=n("".replace),u=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(t){return function(e){var r=a(i(e));return 1&t&&(r=s(r,u,"")),2&t&&(r=s(r,c,"$1")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},6572:(t,e,r)=>{var n=r(4032),i=r(3455),a=r(6415),o=r(7351),s=n.structuredClone;t.exports=!!s&&!i((function(){if("DENO"===o&&a>92||"NODE"===o&&a>94||"BROWSER"===o&&a>97)return!1;var t=new ArrayBuffer(8),e=s(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},6943:(t,e,r)=>{var n=r(6415),i=r(3455),a=r(4032).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},3042:(t,e,r)=>{var n=r(3453),i=r(8711),a=r(5811),o=r(8552);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,s=a("toPrimitive");e&&!e[s]&&o(e,s,(function(t){return n(r,this)}),{arity:1})}},8592:(t,e,r)=>{var n=r(6943);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},1369:(t,e,r)=>{var n,i,a,o,s=r(4032),u=r(3881),c=r(4864),l=r(3749),h=r(9649),f=r(3455),d=r(3085),v=r(4224),p=r(5751),y=r(7900),g=r(9352),m=r(4529),b=s.setImmediate,w=s.clearImmediate,k=s.process,x=s.Dispatch,A=s.Function,_=s.MessageChannel,E=s.String,S=0,O={},T="onreadystatechange";f((function(){n=s.location}));var P=function(t){if(h(O,t)){var e=O[t];delete O[t],e()}},L=function(t){return function(){P(t)}},M=function(t){P(t.data)},C=function(t){s.postMessage(E(t),n.protocol+"//"+n.host)};b&&w||(b=function(t){y(arguments.length,1);var e=l(t)?t:A(t),r=v(arguments,1);return O[++S]=function(){u(e,void 0,r)},i(S),S},w=function(t){delete O[t]},m?i=function(t){k.nextTick(L(t))}:x&&x.now?i=function(t){x.now(L(t))}:_&&!g?(o=(a=new _).port2,a.port1.onmessage=M,i=c(o.postMessage,o)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!f(C)?(i=C,s.addEventListener("message",M,!1)):i=T in p("script")?function(t){d.appendChild(p("script"))[T]=function(){d.removeChild(this),P(t)}}:function(t){setTimeout(L(t),0)}),t.exports={set:b,clear:w}},9002:(t,e,r)=>{var n=r(1211),i=Math.max,a=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):a(r,e)}},1198:(t,e,r)=>{var n=r(8921),i=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},9088:(t,e,r)=>{var n=r(1211),i=r(5806),a=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw new a("Wrong length or index");return r}},3637:(t,e,r)=>{var n=r(9455),i=r(7222);t.exports=function(t){return n(i(t))}},1211:(t,e,r)=>{var n=r(2789);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},5806:(t,e,r)=>{var n=r(1211),i=Math.min;t.exports=function(t){var e=n(t);return e>0?i(e,9007199254740991):0}},4165:(t,e,r)=>{var n=r(7222),i=Object;t.exports=function(t){return i(n(t))}},8402:(t,e,r)=>{var n=r(5590),i=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw new i("Wrong offset");return r}},5590:(t,e,r)=>{var n=r(1211),i=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw new i("The argument can't be less than 0");return e}},8921:(t,e,r)=>{var n=r(3453),i=r(2674),a=r(2277),o=r(8622),s=r(3118),u=r(5811),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var r,u=o(t,l);if(u){if(void 0===e&&(e="default"),r=n(u,t,e),!i(r)||a(r))return r;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},6201:(t,e,r)=>{var n=r(8921),i=r(2277);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},3724:(t,e,r)=>{var n={};n[r(5811)("toStringTag")]="z",t.exports="[object z]"===String(n)},687:(t,e,r)=>{var n=r(1179),i=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},5215:t=>{var e=Math.round;t.exports=function(t){var r=e(t);return r<0?0:r>255?255:255&r}},8055:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},8975:(t,e,r)=>{var n=r(5366),i=r(4032),a=r(3453),o=r(2444),s=r(949),u=r(4356),c=r(7226),l=r(3399),h=r(4004),f=r(139),d=r(2599),v=r(5806),p=r(9088),y=r(8402),g=r(5215),m=r(6201),b=r(9649),w=r(1179),k=r(2674),x=r(2277),A=r(5304),_=r(6921),E=r(9415),S=r(3408).f,O=r(2291),T=r(5645).forEach,P=r(5409),L=r(8986),M=r(1601),C=r(1139),j=r(7434),I=r(8301),R=r(3951),F=I.get,D=I.set,N=I.enforce,W=M.f,B=C.f,G=i.RangeError,H=c.ArrayBuffer,U=H.prototype,z=c.DataView,V=u.NATIVE_ARRAY_BUFFER_VIEWS,q=u.TYPED_ARRAY_TAG,Y=u.TypedArray,X=u.TypedArrayPrototype,K=u.isTypedArray,Q="BYTES_PER_ELEMENT",J="Wrong length",$=function(t,e){L(t,e,{configurable:!0,get:function(){return F(this)[e]}})},Z=function(t){var e;return _(U,t)||"ArrayBuffer"===(e=w(t))||"SharedArrayBuffer"===e},tt=function(t,e){return K(t)&&!x(e)&&e in t&&d(+e)&&e>=0},et=function(t,e){return e=m(e),tt(t,e)?h(2,t[e]):B(t,e)},rt=function(t,e,r){return e=m(e),!(tt(t,e)&&k(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?W(t,e,r):(t[e]=r.value,t)};o?(V||(C.f=et,M.f=rt,$(X,"buffer"),$(X,"byteOffset"),$(X,"byteLength"),$(X,"length")),n({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:et,defineProperty:rt}),t.exports=function(t,e,r){var o=t.match(/\d+/)[0]/8,u=t+(r?"Clamped":"")+"Array",c="get"+t,h="set"+t,d=i[u],m=d,b=m&&m.prototype,w={},x=function(t,e){W(t,e,{get:function(){return function(t,e){var r=F(t);return r.view[c](e*o+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=F(t);i.view[h](e*o+i.byteOffset,r?g(n):n,!0)}(this,e,t)},enumerable:!0})};V?s&&(m=e((function(t,e,r,n){return l(t,b),R(k(e)?Z(e)?void 0!==n?new d(e,y(r,o),n):void 0!==r?new d(e,y(r,o)):new d(e):K(e)?j(m,e):a(O,m,e):new d(p(e)),t,m)})),E&&E(m,Y),T(S(d),(function(t){t in m||f(m,t,d[t])})),m.prototype=b):(m=e((function(t,e,r,n){l(t,b);var i,s,u,c=0,h=0;if(k(e)){if(!Z(e))return K(e)?j(m,e):a(O,m,e);i=e,h=y(r,o);var f=e.byteLength;if(void 0===n){if(f%o)throw new G(J);if((s=f-h)<0)throw new G(J)}else if((s=v(n)*o)+h>f)throw new G(J);u=s/o}else u=p(e),i=new H(s=u*o);for(D(t,{buffer:i,byteOffset:h,byteLength:s,length:u,view:new z(i)});c<u;)x(t,c++)})),E&&E(m,Y),b=m.prototype=A(X)),b.constructor!==m&&f(b,"constructor",m),N(b).TypedArrayConstructor=m,q&&f(b,q,u);var _=m!==d;w[u]=m,n({global:!0,constructor:!0,forced:_,sham:!V},w),Q in m||f(m,Q,o),Q in b||f(b,Q,o),P(u)}):t.exports=function(){}},949:(t,e,r)=>{var n=r(4032),i=r(3455),a=r(4348),o=r(4356).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;t.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},85:(t,e,r)=>{var n=r(7434),i=r(580);t.exports=function(t,e){return n(i(t),e)}},2291:(t,e,r)=>{var n=r(4864),i=r(3453),a=r(9052),o=r(4165),s=r(7878),u=r(6961),c=r(7507),l=r(993),h=r(5415),f=r(4356).aTypedArrayConstructor,d=r(1198);t.exports=function(t){var e,r,v,p,y,g,m,b,w=a(this),k=o(t),x=arguments.length,A=x>1?arguments[1]:void 0,_=void 0!==A,E=c(k);if(E&&!l(E))for(b=(m=u(k,E)).next,k=[];!(g=i(b,m)).done;)k.push(g.value);for(_&&x>2&&(A=n(A,arguments[2])),r=s(k),v=new(f(w))(r),p=h(v),e=0;r>e;e++)y=_?A(k[e],e):k[e],v[e]=p?d(y):+y;return v}},580:(t,e,r)=>{var n=r(4356),i=r(1365),a=n.aTypedArrayConstructor,o=n.getTypedArrayConstructor;t.exports=function(t){return a(i(t,o(t)))}},5936:(t,e,r)=>{var n=r(2608),i=0,a=Math.random(),o=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++i+a,36)}},8200:(t,e,r)=>{var n=r(3455),i=r(5811),a=r(2444),o=r(8507),s=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),r.delete("a",2),r.delete("b",void 0),o&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(o||!a)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==n||"x"!==new URL("https://x",void 0).host}))},4752:(t,e,r)=>{var n=r(6943);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},782:(t,e,r)=>{var n=r(2444),i=r(3455);t.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7900:t=>{var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},6206:(t,e,r)=>{var n=r(4032),i=r(3749),a=n.WeakMap;t.exports=i(a)&&/native code/.test(String(a))},5343:(t,e,r)=>{var n=r(8799),i=r(9649),a=r(4559),o=r(1601).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||o(e,t,{value:a.f(t)})}},4559:(t,e,r)=>{var n=r(5811);e.f=n},5811:(t,e,r)=>{var n=r(4032),i=r(4593),a=r(9649),o=r(5936),s=r(6943),u=r(4752),c=n.Symbol,l=i("wks"),h=u?c.for||c:c&&c.withoutSetter||o;t.exports=function(t){return a(l,t)||(l[t]=s&&a(c,t)?c[t]:h("Symbol."+t)),l[t]}},2284:t=>{t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},9257:(t,e,r)=>{var n=r(8711),i=r(9649),a=r(139),o=r(6921),s=r(9415),u=r(2924),c=r(2848),l=r(3951),h=r(8363),f=r(2483),d=r(4171),v=r(2444),p=r(8507);t.exports=function(t,e,r,y){var g="stackTraceLimit",m=y?2:1,b=t.split("."),w=b[b.length-1],k=n.apply(null,b);if(k){var x=k.prototype;if(!p&&i(x,"cause")&&delete x.cause,!r)return k;var A=n("Error"),_=e((function(t,e){var r=h(y?e:t,void 0),n=y?new k(t):new k;return void 0!==r&&a(n,"message",r),d(n,_,n.stack,2),this&&o(x,this)&&l(n,this,_),arguments.length>m&&f(n,arguments[m]),n}));if(_.prototype=x,"Error"!==w?s?s(_,A):u(_,A,{name:!0}):v&&g in k&&(c(_,k,g),c(_,k,"prepareStackTrace")),u(_,k),!p)try{x.name!==w&&a(x,"name",w),x.constructor=_}catch(t){}return _}}},5015:(t,e,r)=>{var n=r(5366),i=r(4032),a=r(7226),o=r(5409),s="ArrayBuffer",u=a[s];n({global:!0,constructor:!0,forced:i[s]!==u},{ArrayBuffer:u}),o(s)},9261:(t,e,r)=>{var n=r(2444),i=r(8986),a=r(8102),o=ArrayBuffer.prototype;n&&!("detached"in o)&&i(o,"detached",{configurable:!0,get:function(){return a(this)}})},6209:(t,e,r)=>{var n=r(5366),i=r(2116),a=r(3455),o=r(7226),s=r(7447),u=r(9002),c=r(5806),l=r(1365),h=o.ArrayBuffer,f=o.DataView,d=f.prototype,v=i(h.prototype.slice),p=i(d.getUint8),y=i(d.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(v&&void 0===e)return v(s(this),t);for(var r=s(this).byteLength,n=u(t,r),i=u(void 0===e?r:e,r),a=new(l(this,h))(c(i-n)),o=new f(this),d=new f(a),g=0;n<i;)y(d,g++,p(o,n++));return a}})},3632:(t,e,r)=>{var n=r(5366),i=r(4676);i&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},3700:(t,e,r)=>{var n=r(5366),i=r(4676);i&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},6347:(t,e,r)=>{var n=r(5366),i=r(4165),a=r(7878),o=r(1211),s=r(1458);n({target:"Array",proto:!0},{at:function(t){var e=i(this),r=a(e),n=o(t),s=n>=0?n:r+n;return s<0||s>=r?void 0:e[s]}}),s("at")},3234:(t,e,r)=>{var n=r(5366),i=r(3455),a=r(5448),o=r(2674),s=r(4165),u=r(7878),c=r(9573),l=r(3552),h=r(1453),f=r(9077),d=r(5811),v=r(6415),p=d("isConcatSpreadable"),y=v>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:a(t)};n({target:"Array",proto:!0,arity:1,forced:!y||!f("concat")},{concat:function(t){var e,r,n,i,a,o=s(this),f=h(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(g(a=-1===e?o:arguments[e]))for(i=u(a),c(d+i),r=0;r<i;r++,d++)r in a&&l(f,d,a[r]);else c(d+1),l(f,d++,a);return f.length=d,f}})},456:(t,e,r)=>{var n=r(5366),i=r(5645).filter;n({target:"Array",proto:!0,forced:!r(9077)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},4302:(t,e,r)=>{var n=r(5366),i=r(2851),a=r(4186),o=r(4165),s=r(7878),u=r(1453);n({target:"Array",proto:!0},{flatMap:function(t){var e,r=o(this),n=s(r);return a(t),(e=u(r,0)).length=i(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},6746:(t,e,r)=>{var n=r(5366),i=r(3948);n({target:"Array",stat:!0,forced:!r(4348)((function(t){Array.from(t)}))},{from:i})},8551:(t,e,r)=>{var n=r(5366),i=r(7921).includes,a=r(3455),o=r(1458);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},3276:(t,e,r)=>{var n=r(5366),i=r(2116),a=r(7921).indexOf,o=r(1814),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0;n({target:"Array",proto:!0,forced:u||!o("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:a(this,t,e)}})},9024:(t,e,r)=>{var n=r(3637),i=r(1458),a=r(5597),o=r(8301),s=r(1601).f,u=r(656),c=r(9393),l=r(8507),h=r(2444),f="Array Iterator",d=o.set,v=o.getterFor(f);t.exports=u(Array,"Array",(function(t,e){d(this,{type:f,target:n(t),index:0,kind:e})}),(function(){var t=v(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,c(void 0,!0);switch(t.kind){case"keys":return c(r,!1);case"values":return c(e[r],!1)}return c([r,e[r]],!1)}),"values");var p=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!l&&h&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(t){}},3177:(t,e,r)=>{var n=r(5366),i=r(3499);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},5550:(t,e,r)=>{var n=r(5366),i=r(5645).map;n({target:"Array",proto:!0,forced:!r(9077)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},9138:(t,e,r)=>{var n=r(5366),i=r(4165),a=r(7878),o=r(7375),s=r(9573);n({target:"Array",proto:!0,arity:1,forced:r(3455)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),r=a(e),n=arguments.length;s(r+n);for(var u=0;u<n;u++)e[r]=arguments[u],r++;return o(e,r),r}})},8408:(t,e,r)=>{var n=r(5366),i=r(4734).left,a=r(1814),o=r(6415);n({target:"Array",proto:!0,forced:!r(4529)&&o>79&&o<83||!a("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},4413:(t,e,r)=>{var n=r(5366),i=r(2608),a=r(5448),o=i([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},750:(t,e,r)=>{var n=r(5366),i=r(5448),a=r(8413),o=r(2674),s=r(9002),u=r(7878),c=r(3637),l=r(3552),h=r(5811),f=r(9077),d=r(4224),v=f("slice"),p=h("species"),y=Array,g=Math.max;n({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var r,n,h,f=c(this),v=u(f),m=s(t,v),b=s(void 0===e?v:e,v);if(i(f)&&(r=f.constructor,(a(r)&&(r===y||i(r.prototype))||o(r)&&null===(r=r[p]))&&(r=void 0),r===y||void 0===r))return d(f,m,b);for(n=new(void 0===r?y:r)(g(b-m,0)),h=0;m<b;m++,h++)m in f&&l(n,h,f[m]);return n.length=h,n}})},7710:(t,e,r)=>{var n=r(5366),i=r(2608),a=r(4186),o=r(4165),s=r(7878),u=r(1870),c=r(687),l=r(3455),h=r(5272),f=r(1814),d=r(7085),v=r(5123),p=r(6415),y=r(1911),g=[],m=i(g.sort),b=i(g.push),w=l((function(){g.sort(void 0)})),k=l((function(){g.sort(null)})),x=f("sort"),A=!l((function(){if(p)return p<70;if(!(d&&d>3)){if(v)return!0;if(y)return y<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)g.push({k:e+n,v:r})}for(g.sort((function(t,e){return e.v-t.v})),n=0;n<g.length;n++)e=g[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:w||!k||!x||!A},{sort:function(t){void 0!==t&&a(t);var e=o(this);if(A)return void 0===t?m(e):m(e,t);var r,n,i=[],l=s(e);for(n=0;n<l;n++)n in e&&b(i,e[n]);for(h(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:c(e)>c(r)?1:-1}}(t)),r=s(i),n=0;n<r;)e[n]=i[n++];for(;n<l;)u(e,n++);return e}})},122:(t,e,r)=>{var n=r(5366),i=r(4165),a=r(9002),o=r(1211),s=r(7878),u=r(7375),c=r(9573),l=r(1453),h=r(3552),f=r(1870),d=r(9077)("splice"),v=Math.max,p=Math.min;n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var r,n,d,y,g,m,b=i(this),w=s(b),k=a(t,w),x=arguments.length;for(0===x?r=n=0:1===x?(r=0,n=w-k):(r=x-2,n=p(v(o(e),0),w-k)),c(w+r-n),d=l(b,n),y=0;y<n;y++)(g=k+y)in b&&h(d,y,b[g]);if(d.length=n,r<n){for(y=k;y<w-n;y++)m=y+r,(g=y+n)in b?b[m]=b[g]:f(b,m);for(y=w;y>w-n+r;y--)f(b,y-1)}else if(r>n)for(y=w-n;y>k;y--)m=y+r-1,(g=y+n-1)in b?b[m]=b[g]:f(b,m);for(y=0;y<r;y++)b[y+k]=arguments[y+2];return u(b,w-n+r),d}})},7149:(t,e,r)=>{r(1458)("flatMap")},6851:(t,e,r)=>{var n=r(5366),i=r(3455),a=r(4165),o=r(8921);n({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=a(this),r=o(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},7316:(t,e,r)=>{var n=r(9649),i=r(8552),a=r(952),o=r(5811)("toPrimitive"),s=Date.prototype;n(s,o)||i(s,o,a)},184:(t,e,r)=>{var n=r(5366),i=r(4032),a=r(3881),o=r(9257),s="WebAssembly",u=i[s],c=7!==new Error("e",{cause:7}).cause,l=function(t,e){var r={};r[t]=o(t,e,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},h=function(t,e){if(u&&u[t]){var r={};r[t]=o(s+"."+t,e,c),n({target:s,stat:!0,constructor:!0,arity:1,forced:c},r)}};l("Error",(function(t){return function(e){return a(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return a(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return a(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return a(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return a(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return a(t,this,arguments)}})),l("URIError",(function(t){return function(e){return a(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return a(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return a(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return a(t,this,arguments)}}))},8169:(t,e,r)=>{var n=r(5366),i=r(4032);n({global:!0,forced:i.globalThis!==i},{globalThis:i})},9750:(t,e,r)=>{var n=r(5366),i=r(8711),a=r(3881),o=r(3453),s=r(2608),u=r(3455),c=r(3749),l=r(2277),h=r(4224),f=r(213),d=r(6943),v=String,p=i("JSON","stringify"),y=s(/./.exec),g=s("".charAt),m=s("".charCodeAt),b=s("".replace),w=s(1..toString),k=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,_=!d||u((function(){var t=i("Symbol")("stringify detection");return"[null]"!==p([t])||"{}"!==p({a:t})||"{}"!==p(Object(t))})),E=u((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),S=function(t,e){var r=h(arguments),n=f(e);if(c(n)||void 0!==t&&!l(t))return r[1]=function(t,e){if(c(n)&&(e=o(n,this,v(t),e)),!l(e))return e},a(p,null,r)},O=function(t,e,r){var n=g(r,e-1),i=g(r,e+1);return y(x,t)&&!y(A,i)||y(A,t)&&!y(x,n)?"\\u"+w(m(t,0),16):t};p&&n({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(t,e,r){var n=h(arguments),i=a(_?S:p,null,n);return E&&"string"==typeof i?b(i,k,O):i}})},7531:(t,e,r)=>{var n=r(4032);r(6911)(n.JSON,"JSON",!0)},6539:(t,e,r)=>{r(9556)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(2042))},1425:(t,e,r)=>{r(6539)},3821:(t,e,r)=>{var n=r(5366),i=Math.hypot,a=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,i=0,s=0,u=arguments.length,c=0;s<u;)c<(r=a(arguments[s++]))?(i=i*(n=c/r)*n+1,c=r):i+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*o(i)}})},1999:(t,e,r)=>{r(6911)(Math,"Math",!0)},8674:(t,e,r)=>{var n=r(5366),i=r(8885).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},4129:(t,e,r)=>{var n=r(5366),i=r(1804),a=r(3552);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,r){a(e,t,r)}),{AS_ENTRIES:!0}),e}})},702:(t,e,r)=>{var n=r(5366),i=r(2444),a=r(2919),o=r(3637),s=r(1139),u=r(3552);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=o(t),i=s.f,c=a(n),l={},h=0;c.length>h;)void 0!==(r=i(n,e=c[h++]))&&u(l,e,r);return l}})},1309:(t,e,r)=>{var n=r(5366),i=r(6943),a=r(3455),o=r(6005),s=r(4165);n({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(s(t)):[]}})},3379:(t,e,r)=>{var n=r(3724),i=r(8552),a=r(3003);n||i(Object.prototype,"toString",a,{unsafe:!0})},482:(t,e,r)=>{var n=r(5366),i=r(8885).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},5204:(t,e,r)=>{var n=r(5366),i=r(3453),a=r(4186),o=r(9371),s=r(6703),u=r(1804);n({target:"Promise",stat:!0,forced:r(2041)},{allSettled:function(t){var e=this,r=o.f(e),n=r.resolve,c=r.reject,l=s((function(){var r=a(e.resolve),o=[],s=0,c=1;u(t,(function(t){var a=s++,u=!1;c++,i(r,e,t).then((function(t){u||(u=!0,o[a]={status:"fulfilled",value:t},--c||n(o))}),(function(t){u||(u=!0,o[a]={status:"rejected",reason:t},--c||n(o))}))})),--c||n(o)}));return l.error&&c(l.value),r.promise}})},6195:(t,e,r)=>{var n=r(5366),i=r(3453),a=r(4186),o=r(9371),s=r(6703),u=r(1804);n({target:"Promise",stat:!0,forced:r(2041)},{all:function(t){var e=this,r=o.f(e),n=r.resolve,c=r.reject,l=s((function(){var r=a(e.resolve),o=[],s=0,l=1;u(t,(function(t){var a=s++,u=!1;l++,i(r,e,t).then((function(t){u||(u=!0,o[a]=t,--l||n(o))}),c)})),--l||n(o)}));return l.error&&c(l.value),r.promise}})},1459:(t,e,r)=>{var n=r(5366),i=r(8507),a=r(9492).CONSTRUCTOR,o=r(5318),s=r(8711),u=r(3749),c=r(8552),l=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(o)){var h=s("Promise").prototype.catch;l.catch!==h&&c(l,"catch",h,{unsafe:!0})}},9236:(t,e,r)=>{var n,i,a,o=r(5366),s=r(8507),u=r(4529),c=r(4032),l=r(3453),h=r(8552),f=r(9415),d=r(6911),v=r(5409),p=r(4186),y=r(3749),g=r(2674),m=r(3399),b=r(1365),w=r(1369).set,k=r(755),x=r(4885),A=r(6703),_=r(3529),E=r(8301),S=r(5318),O=r(9492),T=r(9371),P="Promise",L=O.CONSTRUCTOR,M=O.REJECTION_EVENT,C=O.SUBCLASSING,j=E.getterFor(P),I=E.set,R=S&&S.prototype,F=S,D=R,N=c.TypeError,W=c.document,B=c.process,G=T.f,H=G,U=!!(W&&W.createEvent&&c.dispatchEvent),z="unhandledrejection",V=function(t){var e;return!(!g(t)||!y(e=t.then))&&e},q=function(t,e){var r,n,i,a=e.value,o=1===e.state,s=o?t.ok:t.fail,u=t.resolve,c=t.reject,h=t.domain;try{s?(o||(2===e.rejection&&J(e),e.rejection=1),!0===s?r=a:(h&&h.enter(),r=s(a),h&&(h.exit(),i=!0)),r===t.promise?c(new N("Promise-chain cycle")):(n=V(r))?l(n,r,u,c):u(r)):c(a)}catch(t){h&&!i&&h.exit(),c(t)}},Y=function(t,e){t.notified||(t.notified=!0,k((function(){for(var r,n=t.reactions;r=n.get();)q(r,t);t.notified=!1,e&&!t.rejection&&K(t)})))},X=function(t,e,r){var n,i;U?((n=W.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!M&&(i=c["on"+t])?i(n):t===z&&x("Unhandled promise rejection",r)},K=function(t){l(w,c,(function(){var e,r=t.facade,n=t.value;if(Q(t)&&(e=A((function(){u?B.emit("unhandledRejection",n,r):X(z,r,n)})),t.rejection=u||Q(t)?2:1,e.error))throw e.value}))},Q=function(t){return 1!==t.rejection&&!t.parent},J=function(t){l(w,c,(function(){var e=t.facade;u?B.emit("rejectionHandled",e):X("rejectionhandled",e,t.value)}))},$=function(t,e,r){return function(n){t(e,n,r)}},Z=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,Y(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new N("Promise can't be resolved itself");var n=V(e);n?k((function(){var r={done:!1};try{l(n,e,$(tt,r,t),$(Z,r,t))}catch(e){Z(r,e,t)}})):(t.value=e,t.state=1,Y(t,!1))}catch(e){Z({done:!1},e,t)}}};if(L&&(D=(F=function(t){m(this,D),p(t),l(n,this);var e=j(this);try{t($(tt,e),$(Z,e))}catch(t){Z(e,t)}}).prototype,(n=function(t){I(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new _,rejection:!1,state:0,value:null})}).prototype=h(D,"then",(function(t,e){var r=j(this),n=G(b(this,F));return r.parent=!0,n.ok=!y(t)||t,n.fail=y(e)&&e,n.domain=u?B.domain:void 0,0===r.state?r.reactions.add(n):k((function(){q(n,r)})),n.promise})),i=function(){var t=new n,e=j(t);this.promise=t,this.resolve=$(tt,e),this.reject=$(Z,e)},T.f=G=function(t){return t===F||void 0===t?new i(t):H(t)},!s&&y(S)&&R!==Object.prototype)){a=R.then,C||h(R,"then",(function(t,e){var r=this;return new F((function(t,e){l(a,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete R.constructor}catch(t){}f&&f(R,D)}o({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:F}),d(F,P,!1,!0),v(P)},2431:(t,e,r)=>{var n=r(5366),i=r(8507),a=r(5318),o=r(3455),s=r(8711),u=r(3749),c=r(1365),l=r(1774),h=r(8552),f=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),r=u(t);return this.then(r?function(r){return l(e,t()).then((function(){return r}))}:t,r?function(r){return l(e,t()).then((function(){throw r}))}:t)}}),!i&&u(a)){var d=s("Promise").prototype.finally;f.finally!==d&&h(f,"finally",d,{unsafe:!0})}},1234:(t,e,r)=>{r(9236),r(6195),r(1459),r(5167),r(5257),r(1128)},5167:(t,e,r)=>{var n=r(5366),i=r(3453),a=r(4186),o=r(9371),s=r(6703),u=r(1804);n({target:"Promise",stat:!0,forced:r(2041)},{race:function(t){var e=this,r=o.f(e),n=r.reject,c=s((function(){var o=a(e.resolve);u(t,(function(t){i(o,e,t).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},5257:(t,e,r)=>{var n=r(5366),i=r(9371);n({target:"Promise",stat:!0,forced:r(9492).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},1128:(t,e,r)=>{var n=r(5366),i=r(8711),a=r(8507),o=r(5318),s=r(9492).CONSTRUCTOR,u=r(1774),c=i("Promise"),l=a&&!s;n({target:"Promise",stat:!0,forced:a||s},{resolve:function(t){return u(l&&this===c?o:this,t)}})},9732:(t,e,r)=>{var n=r(5366),i=r(9371);n({target:"Promise",stat:!0},{withResolvers:function(){var t=i.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})},489:(t,e,r)=>{var n=r(5366),i=r(8711),a=r(3881),o=r(2230),s=r(9052),u=r(7447),c=r(2674),l=r(5304),h=r(3455),f=i("Reflect","construct"),d=Object.prototype,v=[].push,p=h((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),y=!h((function(){f((function(){}))})),g=p||y;n({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){s(t),u(e);var r=arguments.length<3?t:s(arguments[2]);if(y&&!p)return f(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return a(v,n,e),new(a(o,t,n))}var i=r.prototype,h=l(c(i)?i:d),g=a(t,h,e);return c(g)?g:h}})},7288:(t,e,r)=>{var n=r(5366),i=r(3453),a=r(2674),o=r(7447),s=r(3007),u=r(1139),c=r(2611);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,l,h=arguments.length<3?e:arguments[2];return o(e)===h?e[r]:(n=u.f(e,r))?s(n)?n.value:void 0===n.get?void 0:i(n.get,h):a(l=c(e))?t(l,r,h):void 0}})},176:(t,e,r)=>{var n=r(5366),i=r(4032),a=r(6911);n({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},4592:(t,e,r)=>{var n=r(2444),i=r(4032),a=r(2608),o=r(5868),s=r(3951),u=r(139),c=r(5304),l=r(3408).f,h=r(6921),f=r(6484),d=r(687),v=r(4554),p=r(1837),y=r(2848),g=r(8552),m=r(3455),b=r(9649),w=r(8301).enforce,k=r(5409),x=r(5811),A=r(3651),_=r(9502),E=x("match"),S=i.RegExp,O=S.prototype,T=i.SyntaxError,P=a(O.exec),L=a("".charAt),M=a("".replace),C=a("".indexOf),j=a("".slice),I=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,F=/a/g,D=new S(R)!==R,N=p.MISSED_STICKY,W=p.UNSUPPORTED_Y;if(o("RegExp",n&&(!D||N||A||_||m((function(){return F[E]=!1,S(R)!==R||S(F)===F||"/a/i"!==String(S(R,"i"))}))))){for(var B=function(t,e){var r,n,i,a,o,l,p=h(O,this),y=f(t),g=void 0===e,m=[],k=t;if(!p&&y&&g&&t.constructor===B)return t;if((y||h(O,t))&&(t=t.source,g&&(e=v(k))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),k=t,A&&"dotAll"in R&&(n=!!e&&C(e,"s")>-1)&&(e=M(e,/s/g,"")),r=e,N&&"sticky"in R&&(i=!!e&&C(e,"y")>-1)&&W&&(e=M(e,/y/g,"")),_&&(a=function(t){for(var e,r=t.length,n=0,i="",a=[],o=c(null),s=!1,u=!1,l=0,h="";n<=r;n++){if("\\"===(e=L(t,n)))e+=L(t,++n);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:if(i+=e,"?:"===j(t,n+1,n+3))continue;P(I,j(t,n+1))&&(n+=2,u=!0),l++;continue;case">"===e&&u:if(""===h||b(o,h))throw new T("Invalid capture group name");o[h]=!0,a[a.length]=[h,l],u=!1,h="";continue}u?h+=e:i+=e}return[i,a]}(t),t=a[0],m=a[1]),o=s(S(t,e),p?this:O,B),(n||i||m.length)&&(l=w(o),n&&(l.dotAll=!0,l.raw=B(function(t){for(var e,r=t.length,n=0,i="",a=!1;n<=r;n++)"\\"!==(e=L(t,n))?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),i+=e):i+="[\\s\\S]":i+=e+L(t,++n);return i}(t),r)),i&&(l.sticky=!0),m.length&&(l.groups=m)),t!==k)try{u(o,"source",""===k?"(?:)":k)}catch(t){}return o},G=l(S),H=0;G.length>H;)y(B,S,G[H++]);O.constructor=B,B.prototype=O,g(i,"RegExp",B,{constructor:!0})}k("RegExp")},8345:(t,e,r)=>{var n=r(2444),i=r(3651),a=r(9872),o=r(8986),s=r(8301).get,u=RegExp.prototype,c=TypeError;n&&i&&o(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!s(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},2823:(t,e,r)=>{var n=r(5366),i=r(9867);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},2865:(t,e,r)=>{var n=r(2444),i=r(1837).MISSED_STICKY,a=r(9872),o=r(8986),s=r(8301).get,u=RegExp.prototype,c=TypeError;n&&i&&o(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!s(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},5594:(t,e,r)=>{r(2823);var n,i,a=r(5366),o=r(3453),s=r(3749),u=r(7447),c=r(687),l=(n=!1,(i=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&n),h=/./.test;a({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=u(this),r=c(t),n=e.exec;if(!s(n))return o(h,e,r);var i=o(n,e,r);return null!==i&&(u(i),!0)}})},8397:(t,e,r)=>{var n=r(2542).PROPER,i=r(8552),a=r(7447),o=r(687),s=r(3455),u=r(4554),c="toString",l=RegExp.prototype,h=l[c],f=s((function(){return"/a/b"!==h.call({source:"a",flags:"b"})})),d=n&&h.name!==c;(f||d)&&i(l,c,(function(){var t=a(this);return"/"+o(t.source)+"/"+o(u(t))}),{unsafe:!0})},4645:(t,e,r)=>{r(9556)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(2042))},5130:(t,e,r)=>{var n=r(5366),i=r(4656);n({target:"Set",proto:!0,real:!0,forced:!r(1716)("difference")},{difference:i})},5636:(t,e,r)=>{var n=r(5366),i=r(3455),a=r(2446);n({target:"Set",proto:!0,real:!0,forced:!r(1716)("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:a})},8509:(t,e,r)=>{var n=r(5366),i=r(4545);n({target:"Set",proto:!0,real:!0,forced:!r(1716)("isDisjointFrom")},{isDisjointFrom:i})},7332:(t,e,r)=>{var n=r(5366),i=r(7918);n({target:"Set",proto:!0,real:!0,forced:!r(1716)("isSubsetOf")},{isSubsetOf:i})},6555:(t,e,r)=>{var n=r(5366),i=r(6111);n({target:"Set",proto:!0,real:!0,forced:!r(1716)("isSupersetOf")},{isSupersetOf:i})},9255:(t,e,r)=>{r(4645)},3296:(t,e,r)=>{var n=r(5366),i=r(4498);n({target:"Set",proto:!0,real:!0,forced:!r(1716)("symmetricDifference")},{symmetricDifference:i})},4594:(t,e,r)=>{var n=r(5366),i=r(9500);n({target:"Set",proto:!0,real:!0,forced:!r(1716)("union")},{union:i})},8653:(t,e,r)=>{var n=r(5366),i=r(2608),a=r(7222),o=r(1211),s=r(687),u=r(3455),c=i("".charAt);n({target:"String",proto:!0,forced:u((function(){return"\ud842"!=="".at(-2)}))},{at:function(t){var e=s(a(this)),r=e.length,n=o(t),i=n>=0?n:r+n;return i<0||i>=r?void 0:c(e,i)}})},9657:(t,e,r)=>{var n,i=r(5366),a=r(2116),o=r(1139).f,s=r(5806),u=r(687),c=r(3631),l=r(7222),h=r(860),f=r(8507),d=a("".slice),v=Math.min,p=h("endsWith");i({target:"String",proto:!0,forced:!(!f&&!p&&(n=o(String.prototype,"endsWith"),n&&!n.writable)||p)},{endsWith:function(t){var e=u(l(this));c(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,i=void 0===r?n:v(s(r),n),a=u(t);return d(e,i-a.length,i)===a}})},2217:(t,e,r)=>{var n=r(5366),i=r(2608),a=r(9002),o=RangeError,s=String.fromCharCode,u=String.fromCodePoint,c=i([].join);n({target:"String",stat:!0,arity:1,forced:!!u&&1!==u.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,i=0;n>i;){if(e=+arguments[i++],a(e,1114111)!==e)throw new o(e+" is not a valid code point");r[i]=e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320)}return c(r,"")}})},2467:(t,e,r)=>{var n=r(5366),i=r(2608),a=r(3631),o=r(7222),s=r(687),u=r(860),c=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(s(o(this)),s(a(t)),arguments.length>1?arguments[1]:void 0)}})},7460:(t,e,r)=>{var n=r(6903).charAt,i=r(687),a=r(8301),o=r(656),s=r(9393),u="String Iterator",c=a.set,l=a.getterFor(u);o(String,"String",(function(t){c(this,{type:u,string:i(t),index:0})}),(function(){var t,e=l(this),r=e.string,i=e.index;return i>=r.length?s(void 0,!0):(t=n(r,i),e.index+=t.length,s(t,!1))}))},1281:(t,e,r)=>{var n=r(3453),i=r(4364),a=r(7447),o=r(6021),s=r(5806),u=r(687),c=r(7222),l=r(8622),h=r(8149),f=r(4410);i("match",(function(t,e,r){return[function(e){var r=c(this),i=o(e)?void 0:l(e,t);return i?n(i,e,r):new RegExp(e)[t](u(r))},function(t){var n=a(this),i=u(t),o=r(e,n,i);if(o.done)return o.value;if(!n.global)return f(n,i);var c=n.unicode;n.lastIndex=0;for(var l,d=[],v=0;null!==(l=f(n,i));){var p=u(l[0]);d[v]=p,""===p&&(n.lastIndex=h(i,s(n.lastIndex),c)),v++}return 0===v?null:d}]}))},4853:(t,e,r)=>{var n=r(5366),i=r(6437).end;n({target:"String",proto:!0,forced:r(4903)},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},9484:(t,e,r)=>{var n=r(5366),i=r(6437).start;n({target:"String",proto:!0,forced:r(4903)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},6794:(t,e,r)=>{var n=r(5366),i=r(3453),a=r(2608),o=r(7222),s=r(3749),u=r(6021),c=r(6484),l=r(687),h=r(8622),f=r(4554),d=r(3966),v=r(5811),p=r(8507),y=v("replace"),g=TypeError,m=a("".indexOf),b=a("".replace),w=a("".slice),k=Math.max;n({target:"String",proto:!0},{replaceAll:function(t,e){var r,n,a,v,x,A,_,E,S,O,T=o(this),P=0,L="";if(!u(t)){if((r=c(t))&&(n=l(o(f(t))),!~m(n,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(a=h(t,y))return i(a,t,T,e);if(p&&r)return b(l(T),t,e)}for(v=l(T),x=l(t),(A=s(e))||(e=l(e)),_=x.length,E=k(1,_),S=m(v,x);-1!==S;)O=A?l(e(x,S,v)):d(x,v,S,[],void 0,e),L+=w(v,P,S)+O,P=S+_,S=S+E>v.length?-1:m(v,x,S+E);return P<v.length&&(L+=w(v,P)),L}})},4672:(t,e,r)=>{var n=r(3881),i=r(3453),a=r(2608),o=r(4364),s=r(3455),u=r(7447),c=r(3749),l=r(6021),h=r(1211),f=r(5806),d=r(687),v=r(7222),p=r(8149),y=r(8622),g=r(3966),m=r(4410),b=r(5811)("replace"),w=Math.max,k=Math.min,x=a([].concat),A=a([].push),_=a("".indexOf),E=a("".slice),S="$0"==="a".replace(/./,"$0"),O=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(t,e,r){var a=O?"$":"$0";return[function(t,r){var n=v(this),a=l(t)?void 0:y(t,b);return a?i(a,t,n,r):i(e,d(n),t,r)},function(t,i){var o=u(this),s=d(t);if("string"==typeof i&&-1===_(i,a)&&-1===_(i,"$<")){var l=r(e,o,s,i);if(l.done)return l.value}var v=c(i);v||(i=d(i));var y,b=o.global;b&&(y=o.unicode,o.lastIndex=0);for(var S,O=[];null!==(S=m(o,s))&&(A(O,S),b);)""===d(S[0])&&(o.lastIndex=p(s,f(o.lastIndex),y));for(var T,P="",L=0,M=0;M<O.length;M++){for(var C,j=d((S=O[M])[0]),I=w(k(h(S.index),s.length),0),R=[],F=1;F<S.length;F++)A(R,void 0===(T=S[F])?T:String(T));var D=S.groups;if(v){var N=x([j],R,I,s);void 0!==D&&A(N,D),C=d(n(i,void 0,N))}else C=g(j,s,I,R,D,i);I>=L&&(P+=E(s,L,I)+C,L=I+j.length)}return P+E(s,L)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!S||O)},4072:(t,e,r)=>{var n=r(3453),i=r(2608),a=r(4364),o=r(7447),s=r(6021),u=r(7222),c=r(1365),l=r(8149),h=r(5806),f=r(687),d=r(8622),v=r(4410),p=r(1837),y=r(3455),g=p.UNSUPPORTED_Y,m=Math.min,b=i([].push),w=i("".slice),k=!y((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),x="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;a("split",(function(t,e,r){var i="0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:n(e,this,t,r)}:e;return[function(e,r){var a=u(this),o=s(e)?void 0:d(e,t);return o?n(o,e,a,r):n(i,f(a),e,r)},function(t,n){var a=o(this),s=f(t);if(!x){var u=r(i,a,s,n,i!==e);if(u.done)return u.value}var d=c(a,RegExp),p=a.unicode,y=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(g?"g":"y"),k=new d(g?"^(?:"+a.source+")":a,y),A=void 0===n?4294967295:n>>>0;if(0===A)return[];if(0===s.length)return null===v(k,s)?[s]:[];for(var _=0,E=0,S=[];E<s.length;){k.lastIndex=g?0:E;var O,T=v(k,g?w(s,E):s);if(null===T||(O=m(h(k.lastIndex+(g?E:0)),s.length))===_)E=l(s,E,p);else{if(b(S,w(s,_,E)),S.length===A)return S;for(var P=1;P<=T.length-1;P++)if(b(S,T[P]),S.length===A)return S;E=_=O}}return b(S,w(s,_)),S}]}),x||!k,g)},9264:(t,e,r)=>{var n,i=r(5366),a=r(2116),o=r(1139).f,s=r(5806),u=r(687),c=r(3631),l=r(7222),h=r(860),f=r(8507),d=a("".slice),v=Math.min,p=h("startsWith");i({target:"String",proto:!0,forced:!(!f&&!p&&(n=o(String.prototype,"startsWith"),n&&!n.writable)||p)},{startsWith:function(t){var e=u(l(this));c(t);var r=s(v(arguments.length>1?arguments[1]:void 0,e.length)),n=u(t);return d(e,r,r+n.length)===n}})},98:(t,e,r)=>{r(3185);var n=r(5366),i=r(2882);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},3185:(t,e,r)=>{var n=r(5366),i=r(2882);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},9210:(t,e,r)=>{var n=r(5366),i=r(9418).trim;n({target:"String",proto:!0,forced:r(3794)("trim")},{trim:function(){return i(this)}})},4172:(t,e,r)=>{r(5343)("asyncIterator")},2873:(t,e,r)=>{var n=r(5366),i=r(4032),a=r(3453),o=r(2608),s=r(8507),u=r(2444),c=r(6943),l=r(3455),h=r(9649),f=r(6921),d=r(7447),v=r(3637),p=r(6201),y=r(687),g=r(4004),m=r(5304),b=r(496),w=r(3408),k=r(6442),x=r(6005),A=r(1139),_=r(1601),E=r(9217),S=r(9221),O=r(8552),T=r(8986),P=r(4593),L=r(2343),M=r(2645),C=r(5936),j=r(5811),I=r(4559),R=r(5343),F=r(3042),D=r(6911),N=r(8301),W=r(5645).forEach,B=L("hidden"),G="Symbol",H="prototype",U=N.set,z=N.getterFor(G),V=Object[H],q=i.Symbol,Y=q&&q[H],X=i.RangeError,K=i.TypeError,Q=i.QObject,J=A.f,$=_.f,Z=k.f,tt=S.f,et=o([].push),rt=P("symbols"),nt=P("op-symbols"),it=P("wks"),at=!Q||!Q[H]||!Q[H].findChild,ot=function(t,e,r){var n=J(V,e);n&&delete V[e],$(t,e,r),n&&t!==V&&$(V,e,n)},st=u&&l((function(){return 7!==m($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?ot:$,ut=function(t,e){var r=rt[t]=m(Y);return U(r,{type:G,tag:t,description:e}),u||(r.description=e),r},ct=function(t,e,r){t===V&&ct(nt,e,r),d(t);var n=p(e);return d(r),h(rt,n)?(r.enumerable?(h(t,B)&&t[B][n]&&(t[B][n]=!1),r=m(r,{enumerable:g(0,!1)})):(h(t,B)||$(t,B,g(1,m(null))),t[B][n]=!0),st(t,n,r)):$(t,n,r)},lt=function(t,e){d(t);var r=v(e),n=b(r).concat(vt(r));return W(n,(function(e){u&&!a(ht,r,e)||ct(t,e,r[e])})),t},ht=function(t){var e=p(t),r=a(tt,this,e);return!(this===V&&h(rt,e)&&!h(nt,e))&&(!(r||!h(this,e)||!h(rt,e)||h(this,B)&&this[B][e])||r)},ft=function(t,e){var r=v(t),n=p(e);if(r!==V||!h(rt,n)||h(nt,n)){var i=J(r,n);return!i||!h(rt,n)||h(r,B)&&r[B][n]||(i.enumerable=!0),i}},dt=function(t){var e=Z(v(t)),r=[];return W(e,(function(t){h(rt,t)||h(M,t)||et(r,t)})),r},vt=function(t){var e=t===V,r=Z(e?nt:v(t)),n=[];return W(r,(function(t){!h(rt,t)||e&&!h(V,t)||et(n,rt[t])})),n};c||(O(Y=(q=function(){if(f(Y,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,e=C(t),r=function(t){var n=void 0===this?i:this;n===V&&a(r,nt,t),h(n,B)&&h(n[B],e)&&(n[B][e]=!1);var o=g(1,t);try{st(n,e,o)}catch(t){if(!(t instanceof X))throw t;ot(n,e,o)}};return u&&at&&st(V,e,{configurable:!0,set:r}),ut(e,t)})[H],"toString",(function(){return z(this).tag})),O(q,"withoutSetter",(function(t){return ut(C(t),t)})),S.f=ht,_.f=ct,E.f=lt,A.f=ft,w.f=k.f=dt,x.f=vt,I.f=function(t){return ut(j(t),t)},u&&(T(Y,"description",{configurable:!0,get:function(){return z(this).description}}),s||O(V,"propertyIsEnumerable",ht,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),W(b(it),(function(t){R(t)})),n({target:G,stat:!0,forced:!c},{useSetter:function(){at=!0},useSimple:function(){at=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?m(t):lt(m(t),e)},defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt}),F(),D(q,G),M[B]=!0},4551:(t,e,r)=>{var n=r(5366),i=r(2444),a=r(4032),o=r(2608),s=r(9649),u=r(3749),c=r(6921),l=r(687),h=r(8986),f=r(2924),d=a.Symbol,v=d&&d.prototype;if(i&&u(d)&&(!("description"in v)||void 0!==d().description)){var p={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(v,this)?new d(t):void 0===t?d():d(t);return""===t&&(p[e]=!0),e};f(y,d),y.prototype=v,v.constructor=y;var g="Symbol(description detection)"===String(d("description detection")),m=o(v.valueOf),b=o(v.toString),w=/^Symbol\((.*)\)[^)]+$/,k=o("".replace),x=o("".slice);h(v,"description",{configurable:!0,get:function(){var t=m(this);if(s(p,t))return"";var e=b(t),r=g?x(e,7,-1):k(e,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:y})}},4182:(t,e,r)=>{var n=r(5366),i=r(8711),a=r(9649),o=r(687),s=r(4593),u=r(8592),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=o(t);if(a(c,e))return c[e];var r=i("Symbol")(e);return c[e]=r,l[r]=e,r}})},7651:(t,e,r)=>{r(2873),r(4182),r(7876),r(9750),r(1309)},7876:(t,e,r)=>{var n=r(5366),i=r(9649),a=r(2277),o=r(8055),s=r(4593),u=r(8592),c=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!a(t))throw new TypeError(o(t)+" is not a symbol");if(i(c,t))return c[t]}})},5268:(t,e,r)=>{var n=r(5343),i=r(3042);n("toPrimitive"),i()},5997:(t,e,r)=>{var n=r(8711),i=r(5343),a=r(6911);i("toStringTag"),a(n("Symbol"),"Symbol")},3740:(t,e,r)=>{var n=r(4356),i=r(7878),a=r(1211),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(t){var e=o(this),r=i(e),n=a(t),s=n>=0?n:r+n;return s<0||s>=r?void 0:e[s]}))},6542:(t,e,r)=>{var n=r(2608),i=r(4356),a=n(r(6677)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(t,e){return a(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},5738:(t,e,r)=>{var n=r(4356),i=r(5645).every,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},2900:(t,e,r)=>{var n=r(4356),i=r(9557),a=r(1198),o=r(1179),s=r(3453),u=r(2608),c=r(3455),l=n.aTypedArray,h=n.exportTypedArrayMethod,f=u("".slice);h("fill",(function(t){var e=arguments.length;l(this);var r="Big"===f(o(this),0,3)?a(t):+t;return s(i,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),c((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})))},2051:(t,e,r)=>{var n=r(4356),i=r(5645).filter,a=r(85),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(t){var e=i(o(this),t,arguments.length>1?arguments[1]:void 0);return a(this,e)}))},4211:(t,e,r)=>{var n=r(4356),i=r(5645).findIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},5294:(t,e,r)=>{var n=r(4356),i=r(767).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},9791:(t,e,r)=>{var n=r(4356),i=r(767).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},3198:(t,e,r)=>{var n=r(4356),i=r(5645).find,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},4306:(t,e,r)=>{r(8975)("Float32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},6473:(t,e,r)=>{r(8975)("Float64",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},1526:(t,e,r)=>{var n=r(4356),i=r(5645).forEach,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(t){i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},6032:(t,e,r)=>{var n=r(4356),i=r(7921).includes,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},3659:(t,e,r)=>{var n=r(4356),i=r(7921).indexOf,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},1237:(t,e,r)=>{r(8975)("Int32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},932:(t,e,r)=>{var n=r(4032),i=r(3455),a=r(2608),o=r(4356),s=r(9024),u=r(5811)("iterator"),c=n.Uint8Array,l=a(s.values),h=a(s.keys),f=a(s.entries),d=o.aTypedArray,v=o.exportTypedArrayMethod,p=c&&c.prototype,y=!i((function(){p[u].call([1])})),g=!!p&&p.values&&p[u]===p.values&&"values"===p.values.name,m=function(){return l(d(this))};v("entries",(function(){return f(d(this))}),y),v("keys",(function(){return h(d(this))}),y),v("values",m,y||!g,{name:"values"}),v(u,m,y||!g,{name:"values"})},8553:(t,e,r)=>{var n=r(4356),i=r(2608),a=n.aTypedArray,o=n.exportTypedArrayMethod,s=i([].join);o("join",(function(t){return s(a(this),t)}))},7612:(t,e,r)=>{var n=r(4356),i=r(3881),a=r(3499),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return i(a,o(this),e>1?[t,arguments[1]]:[t])}))},8579:(t,e,r)=>{var n=r(4356),i=r(5645).map,a=r(580),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(a(t))(e)}))}))},7576:(t,e,r)=>{var n=r(4356),i=r(4734).right,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return i(a(this),t,e,e>1?arguments[1]:void 0)}))},7719:(t,e,r)=>{var n=r(4356),i=r(4734).left,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return i(a(this),t,e,e>1?arguments[1]:void 0)}))},2891:(t,e,r)=>{var n=r(4356),i=n.aTypedArray,a=n.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var t,e=this,r=i(e).length,n=o(r/2),a=0;a<n;)t=e[a],e[a++]=e[--r],e[r]=t;return e}))},2605:(t,e,r)=>{var n=r(4032),i=r(3453),a=r(4356),o=r(7878),s=r(8402),u=r(4165),c=r(3455),l=n.RangeError,h=n.Int8Array,f=h&&h.prototype,d=f&&f.set,v=a.aTypedArray,p=a.exportTypedArrayMethod,y=!c((function(){var t=new Uint8ClampedArray(2);return i(d,t,{length:1,0:3},1),3!==t[1]})),g=y&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));p("set",(function(t){v(this);var e=s(arguments.length>1?arguments[1]:void 0,1),r=u(t);if(y)return i(d,this,r,e);var n=this.length,a=o(r),c=0;if(a+e>n)throw new l("Wrong length");for(;c<a;)this[e+c]=r[c++]}),!y||g)},4863:(t,e,r)=>{var n=r(4356),i=r(580),a=r(3455),o=r(4224),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",(function(t,e){for(var r=o(s(this),t,e),n=i(this),a=0,u=r.length,c=new n(u);u>a;)c[a]=r[a++];return c}),a((function(){new Int8Array(1).slice()})))},9637:(t,e,r)=>{var n=r(4356),i=r(5645).some,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},2709:(t,e,r)=>{var n=r(4032),i=r(2116),a=r(3455),o=r(4186),s=r(5272),u=r(4356),c=r(7085),l=r(5123),h=r(6415),f=r(1911),d=u.aTypedArray,v=u.exportTypedArrayMethod,p=n.Uint16Array,y=p&&i(p.prototype.sort),g=!(!y||a((function(){y(new p(2),null)}))&&a((function(){y(new p(2),{})}))),m=!!y&&!a((function(){if(h)return h<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var t,e,r=new p(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(y(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));v("sort",(function(t){return void 0!==t&&o(t),m?y(this,t):s(d(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!m||g)},8941:(t,e,r)=>{var n=r(4032),i=r(3881),a=r(4356),o=r(3455),s=r(4224),u=n.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,h=[].toLocaleString,f=!!u&&o((function(){h.call(new u(1))}));l("toLocaleString",(function(){return i(h,f?s(c(this)):c(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!==new u([1,2]).toLocaleString()}))||!o((function(){u.prototype.toLocaleString.call([1,2])})))},1579:(t,e,r)=>{var n=r(6444),i=r(4356),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;o("toReversed",(function(){return n(a(this),s(this))}))},6236:(t,e,r)=>{var n=r(4356),i=r(2608),a=r(4186),o=r(7434),s=n.aTypedArray,u=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,l=i(n.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&a(t);var e=s(this),r=o(u(e),e);return l(r,t)}))},7716:(t,e,r)=>{var n=r(4356).exportTypedArrayMethod,i=r(3455),a=r(4032),o=r(2608),s=a.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var h=u.toString!==c;n("toString",c,h)},2044:(t,e,r)=>{r(8975)("Uint32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},7329:(t,e,r)=>{r(8975)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},1913:(t,e,r)=>{var n=r(920),i=r(4356),a=r(5415),o=r(1211),s=r(1198),u=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();l("with",{with:function(t,e){var r=u(this),i=o(t),l=a(r)?s(e):+e;return n(r,c(r),i,l)}}.with,!h)},6722:(t,e,r)=>{var n,i=r(568),a=r(4032),o=r(2608),s=r(4183),u=r(5227),c=r(9556),l=r(8153),h=r(2674),f=r(8301).enforce,d=r(3455),v=r(6206),p=Object,y=Array.isArray,g=p.isExtensible,m=p.isFrozen,b=p.isSealed,w=p.freeze,k=p.seal,x=!a.ActiveXObject&&"ActiveXObject"in a,A=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},_=c("WeakMap",A,l),E=_.prototype,S=o(E.set);if(v)if(x){n=l.getConstructor(A,"WeakMap",!0),u.enable();var O=o(E.delete),T=o(E.has),P=o(E.get);s(E,{delete:function(t){if(h(t)&&!g(t)){var e=f(this);return e.frozen||(e.frozen=new n),O(this,t)||e.frozen.delete(t)}return O(this,t)},has:function(t){if(h(t)&&!g(t)){var e=f(this);return e.frozen||(e.frozen=new n),T(this,t)||e.frozen.has(t)}return T(this,t)},get:function(t){if(h(t)&&!g(t)){var e=f(this);return e.frozen||(e.frozen=new n),T(this,t)?P(this,t):e.frozen.get(t)}return P(this,t)},set:function(t,e){if(h(t)&&!g(t)){var r=f(this);r.frozen||(r.frozen=new n),T(this,t)?S(this,t,e):r.frozen.set(t,e)}else S(this,t,e);return this}})}else i&&d((function(){var t=w([]);return S(new _,t,1),!m(t)}))&&s(E,{set:function(t,e){var r;return y(t)&&(m(t)?r=w:b(t)&&(r=k)),S(this,t,e),r&&r(t),this}})},8492:(t,e,r)=>{r(6722)},1176:(t,e,r)=>{r(9556)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(8153))},7121:(t,e,r)=>{r(1176)},4192:(t,e,r)=>{var n=r(5366),i=r(4032),a=r(3399),o=r(7447),s=r(3749),u=r(2611),c=r(8986),l=r(3552),h=r(3455),f=r(9649),d=r(5811),v=r(2857).IteratorPrototype,p=r(2444),y=r(8507),g="constructor",m="Iterator",b=d("toStringTag"),w=TypeError,k=i[m],x=y||!s(k)||k.prototype!==v||!h((function(){k({})})),A=function(){if(a(this,v),u(this)===v)throw new w("Abstract class Iterator not directly constructable")},_=function(t,e){p?c(v,t,{configurable:!0,get:function(){return e},set:function(e){if(o(this),this===v)throw new w("You can't redefine this property");f(this,t)?this[t]=e:l(this,t,e)}}):v[t]=e};f(v,b)||_(b,m),!x&&f(v,g)&&v[g]!==Object||_(g,A),A.prototype=v,n({global:!0,constructor:!0,forced:x},{Iterator:A})},7895:(t,e,r)=>{var n=r(5366),i=r(3453),a=r(7447),o=r(3447),s=r(821),u=r(5590),c=r(2342),l=r(8507),h=c((function(){for(var t,e=this.iterator,r=this.next;this.remaining;)if(this.remaining--,t=a(i(r,e)),this.done=!!t.done)return;if(t=a(i(r,e)),!(this.done=!!t.done))return t.value}));n({target:"Iterator",proto:!0,real:!0,forced:l},{drop:function(t){a(this);var e=u(s(+t));return new h(o(this),{remaining:e})}})},463:(t,e,r)=>{var n=r(5366),i=r(1804),a=r(4186),o=r(7447),s=r(3447);n({target:"Iterator",proto:!0,real:!0},{every:function(t){o(this),a(t);var e=s(this),r=0;return!i(e,(function(e,n){if(!t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},8856:(t,e,r)=>{var n=r(5366),i=r(3453),a=r(4186),o=r(7447),s=r(3447),u=r(2342),c=r(3535),l=r(8507),h=u((function(){for(var t,e,r=this.iterator,n=this.predicate,a=this.next;;){if(t=o(i(a,r)),this.done=!!t.done)return;if(e=t.value,c(r,n,[e,this.counter++],!0))return e}}));n({target:"Iterator",proto:!0,real:!0,forced:l},{filter:function(t){return o(this),a(t),new h(s(this),{predicate:t})}})},9166:(t,e,r)=>{var n=r(5366),i=r(3453),a=r(4186),o=r(7447),s=r(3447),u=r(1750),c=r(2342),l=r(5235),h=r(8507),f=c((function(){for(var t,e,r=this.iterator,n=this.mapper;;){if(e=this.inner)try{if(!(t=o(i(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){l(r,"throw",t)}if(t=o(i(this.next,r)),this.done=!!t.done)return;try{this.inner=u(n(t.value,this.counter++),!1)}catch(t){l(r,"throw",t)}}}));n({target:"Iterator",proto:!0,real:!0,forced:h},{flatMap:function(t){return o(this),a(t),new f(s(this),{mapper:t,inner:null})}})},1565:(t,e,r)=>{var n=r(5366),i=r(1804),a=r(4186),o=r(7447),s=r(3447);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){o(this),a(t);var e=s(this),r=0;i(e,(function(e){t(e,r++)}),{IS_RECORD:!0})}})},5342:(t,e,r)=>{var n=r(5366),i=r(4009);n({target:"Iterator",proto:!0,real:!0,forced:r(8507)},{map:i})},9582:(t,e,r)=>{var n=r(5366),i=r(1804),a=r(4186),o=r(7447),s=r(3447);n({target:"Iterator",proto:!0,real:!0},{some:function(t){o(this),a(t);var e=s(this),r=0;return i(e,(function(e,n){if(t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},31:(t,e,r)=>{var n=r(5366),i=r(2444),a=r(4032),o=r(8711),s=r(2608),u=r(3453),c=r(3749),l=r(2674),h=r(5448),f=r(9649),d=r(687),v=r(7878),p=r(3552),y=r(3455),g=r(1448),m=r(6943),b=a.JSON,w=a.Number,k=a.SyntaxError,x=b&&b.parse,A=o("Object","keys"),_=Object.getOwnPropertyDescriptor,E=s("".charAt),S=s("".slice),O=s(/./.exec),T=s([].push),P=/^\d$/,L=/^[1-9]$/,M=/^[\d-]$/,C=/^[\t\n\r ]$/,j=function(t,e,r,n){var i,a,o,s,c,d=t[e],p=n&&d===n.value,y=p&&"string"==typeof n.source?{source:n.source}:{};if(l(d)){var g=h(d),m=p?n.nodes:g?[]:{};if(g)for(i=m.length,o=v(d),s=0;s<o;s++)I(d,s,j(d,""+s,r,s<i?m[s]:void 0));else for(a=A(d),o=v(a),s=0;s<o;s++)c=a[s],I(d,c,j(d,c,r,f(m,c)?m[c]:void 0))}return u(r,t,e,d,y)},I=function(t,e,r){if(i){var n=_(t,e);if(n&&!n.configurable)return}void 0===r?delete t[e]:p(t,e,r)},R=function(t,e,r,n){this.value=t,this.end=e,this.source=r,this.nodes=n},F=function(t,e){this.source=t,this.index=e};F.prototype={fork:function(t){return new F(this.source,t)},parse:function(){var t=this.source,e=this.skip(C,this.index),r=this.fork(e),n=E(t,e);if(O(M,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case'"':return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new k('Unexpected character: "'+n+'" at: '+e)},node:function(t,e,r,n,i){return new R(e,n,t?null:S(this.source,r,n),i)},object:function(){for(var t=this.source,e=this.index+1,r=!1,n={},i={};e<t.length;){if(e=this.until(['"',"}"],e),"}"===E(t,e)&&!r){e++;break}var a=this.fork(e).string(),o=a.value;e=a.end,e=this.until([":"],e)+1,e=this.skip(C,e),a=this.fork(e).parse(),p(i,o,a),p(n,o,a.value),e=this.until([",","}"],a.end);var s=E(t,e);if(","===s)r=!0,e++;else if("}"===s){e++;break}}return this.node(1,n,this.index,e,i)},array:function(){for(var t=this.source,e=this.index+1,r=!1,n=[],i=[];e<t.length;){if(e=this.skip(C,e),"]"===E(t,e)&&!r){e++;break}var a=this.fork(e).parse();if(T(i,a),T(n,a.value),e=this.until([",","]"],a.end),","===E(t,e))r=!0,e++;else if("]"===E(t,e)){e++;break}}return this.node(1,n,this.index,e,i)},string:function(){var t=this.index,e=g(this.source,this.index+1);return this.node(0,e.value,t,e.end)},number:function(){var t=this.source,e=this.index,r=e;if("-"===E(t,r)&&r++,"0"===E(t,r))r++;else{if(!O(L,E(t,r)))throw new k("Failed to parse number at: "+r);r=this.skip(P,r+1)}if(!("."===E(t,r)&&(r=this.skip(P,r+1)),"e"!==E(t,r)&&"E"!==E(t,r)||(r++,"+"!==E(t,r)&&"-"!==E(t,r)||r++,r!==(r=this.skip(P,r)))))throw new k("Failed to parse number's exponent value at: "+r);return this.node(0,w(S(t,e,r)),e,r)},keyword:function(t){var e=""+t,r=this.index,n=r+e.length;if(S(this.source,r,n)!==e)throw new k("Failed to parse value at: "+r);return this.node(0,t,r,n)},skip:function(t,e){for(var r=this.source;e<r.length&&O(t,E(r,e));e++);return e},until:function(t,e){e=this.skip(C,e);for(var r=E(this.source,e),n=0;n<t.length;n++)if(t[n]===r)return e;throw new k('Unexpected character: "'+r+'" at: '+e)}};var D=y((function(){var t,e="9007199254740993";return x(e,(function(e,r,n){t=n.source})),t!==e})),N=m&&!y((function(){return 1/x("-0 \t")!=-1/0}));n({target:"JSON",stat:!0,forced:D},{parse:function(t,e){return N&&!c(e)?x(t):function(t,e){t=d(t);var r=new F(t,0,""),n=r.parse(),i=n.value,a=r.skip(C,n.end);if(a<t.length)throw new k('Unexpected extra character: "'+E(t,a)+'" after the parsed data at: '+a);return c(e)?j({"":i},"",e,n):i}(t,e)}})},6625:(t,e,r)=>{var n=r(5366),i=r(4032),a=r(8711),o=r(2608),s=r(3453),u=r(3455),c=r(687),l=r(7900),h=r(2996).c2i,f=/[^\d+/a-z]/i,d=/[\t\n\f\r ]+/g,v=/[=]{1,2}$/,p=a("atob"),y=String.fromCharCode,g=o("".charAt),m=o("".replace),b=o(f.exec),w=!!p&&!u((function(){return"hi"!==p("aGk=")})),k=w&&u((function(){return""!==p(" ")})),x=w&&!u((function(){p("a")})),A=w&&!u((function(){p()})),_=w&&1!==p.length;n({global:!0,bind:!0,enumerable:!0,forced:!w||k||x||A||_},{atob:function(t){if(l(arguments.length,1),w&&!k&&!x)return s(p,i,t);var e,r,n,o=m(c(t),d,""),u="",A=0,_=0;if(o.length%4==0&&(o=m(o,v,"")),(e=o.length)%4==1||b(f,o))throw new(a("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;A<e;)r=g(o,A++),n=_%4?64*n+h[r]:h[r],_++%4&&(u+=y(255&n>>(-2*_&6)));return u}})},8316:(t,e,r)=>{var n=r(4032),i=r(2760),a=r(4784),o=r(3147),s=r(139),u=function(t){if(t&&t.forEach!==o)try{s(t,"forEach",o)}catch(e){t.forEach=o}};for(var c in i)i[c]&&u(n[c]&&n[c].prototype);u(a)},3577:(t,e,r)=>{var n=r(4032),i=r(2760),a=r(4784),o=r(9024),s=r(139),u=r(6911),c=r(5811)("iterator"),l=o.values,h=function(t,e){if(t){if(t[c]!==l)try{s(t,c,l)}catch(e){t[c]=l}if(u(t,e,!0),i[e])for(var r in o)if(t[r]!==o[r])try{s(t,r,o[r])}catch(e){t[r]=o[r]}}};for(var f in i)h(n[f]&&n[f].prototype,f);h(a,"DOMTokenList")},4967:(t,e,r)=>{var n=r(5366),i=r(8711),a=r(9685),o=r(3455),s=r(5304),u=r(4004),c=r(1601).f,l=r(8552),h=r(8986),f=r(9649),d=r(3399),v=r(7447),p=r(2912),y=r(8363),g=r(4090),m=r(3633),b=r(8301),w=r(2444),k=r(8507),x="DOMException",A="DATA_CLONE_ERR",_=i("Error"),E=i(x)||function(){try{(new(i("MessageChannel")||a("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name===A&&25===t.code)return t.constructor}}(),S=E&&E.prototype,O=_.prototype,T=b.set,P=b.getterFor(x),L="stack"in new _(x),M=function(t){return f(g,t)&&g[t].m?g[t].c:0},C=function(){d(this,j);var t=arguments.length,e=y(t<1?void 0:arguments[0]),r=y(t<2?void 0:arguments[1],"Error"),n=M(r);if(T(this,{type:x,name:r,message:e,code:n}),w||(this.name=r,this.message=e,this.code=n),L){var i=new _(e);i.name=x,c(this,"stack",u(1,m(i.stack,1)))}},j=C.prototype=s(O),I=function(t){return{enumerable:!0,configurable:!0,get:t}},R=function(t){return I((function(){return P(this)[t]}))};w&&(h(j,"code",R("code")),h(j,"message",R("message")),h(j,"name",R("name"))),c(j,"constructor",u(1,C));var F=o((function(){return!(new E instanceof _)})),D=F||o((function(){return O.toString!==p||"2: 1"!==String(new E(1,2))})),N=F||o((function(){return 25!==new E(1,"DataCloneError").code})),W=F||25!==E[A]||25!==S[A],B=k?D||N||W:F;n({global:!0,constructor:!0,forced:B},{DOMException:B?C:E});var G=i(x),H=G.prototype;for(var U in D&&(k||E===G)&&l(H,"toString",p),N&&w&&E===G&&h(H,"code",I((function(){return M(v(this).name)}))),g)if(f(g,U)){var z=g[U],V=z.s,q=u(6,z.c);f(G,V)||c(G,V,q),f(H,V)||c(H,V,q)}},6403:(t,e,r)=>{var n=r(5366),i=r(4032),a=r(8711),o=r(4004),s=r(1601).f,u=r(9649),c=r(3399),l=r(3951),h=r(8363),f=r(4090),d=r(3633),v=r(2444),p=r(8507),y="DOMException",g=a("Error"),m=a(y),b=function(){c(this,w);var t=arguments.length,e=h(t<1?void 0:arguments[0]),r=h(t<2?void 0:arguments[1],"Error"),n=new m(e,r),i=new g(e);return i.name=y,s(n,"stack",o(1,d(i.stack,1))),l(n,this,b),n},w=b.prototype=m.prototype,k="stack"in new g(y),x="stack"in new m(1,2),A=m&&v&&Object.getOwnPropertyDescriptor(i,y),_=!(!A||A.writable&&A.configurable),E=k&&!_&&!x;n({global:!0,constructor:!0,forced:p||E},{DOMException:E?b:m});var S=a(y),O=S.prototype;if(O.constructor!==S)for(var T in p||s(O,"constructor",o(1,S)),f)if(u(f,T)){var P=f[T],L=P.s;u(S,L)||s(S,L,o(6,P.c))}},3355:(t,e,r)=>{var n=r(8711),i="DOMException";r(6911)(n(i),i)},9734:(t,e,r)=>{r(9024),r(2217);var n=r(5366),i=r(4032),a=r(5725),o=r(8711),s=r(3453),u=r(2608),c=r(2444),l=r(8200),h=r(8552),f=r(8986),d=r(4183),v=r(6911),p=r(282),y=r(8301),g=r(3399),m=r(3749),b=r(9649),w=r(4864),k=r(1179),x=r(7447),A=r(2674),_=r(687),E=r(5304),S=r(4004),O=r(6961),T=r(7507),P=r(9393),L=r(7900),M=r(5811),C=r(5272),j=M("iterator"),I="URLSearchParams",R=I+"Iterator",F=y.set,D=y.getterFor(I),N=y.getterFor(R),W=a("fetch"),B=a("Request"),G=a("Headers"),H=B&&B.prototype,U=G&&G.prototype,z=i.TypeError,V=i.encodeURIComponent,q=String.fromCharCode,Y=o("String","fromCodePoint"),X=parseInt,K=u("".charAt),Q=u([].join),J=u([].push),$=u("".replace),Z=u([].shift),tt=u([].splice),et=u("".split),rt=u("".slice),nt=u(/./.exec),it=/\+/g,at=/^[0-9a-f]+$/i,ot=function(t,e){var r=rt(t,e,e+2);return nt(at,r)?X(r,16):NaN},st=function(t){for(var e=0,r=128;r>0&&0!=(t&r);r>>=1)e++;return e},ut=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},ct=function(t){for(var e=(t=$(t,it," ")).length,r="",n=0;n<e;){var i=K(t,n);if("%"===i){if("%"===K(t,n+1)||n+3>e){r+="%",n++;continue}var a=ot(t,n+1);if(a!=a){r+=i,n++;continue}n+=2;var o=st(a);if(0===o)i=q(a);else{if(1===o||o>4){r+="",n++;continue}for(var s=[a],u=1;u<o&&!(3+ ++n>e||"%"!==K(t,n));){var c=ot(t,n+1);if(c!=c){n+=3;break}if(c>191||c<128)break;J(s,c),n+=2,u++}if(s.length!==o){r+="";continue}var l=ut(s);null===l?r+="":i=Y(l)}}r+=i,n++}return r},lt=/[!'()~]|%20/g,ht={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ft=function(t){return ht[t]},dt=function(t){return $(V(t),lt,ft)},vt=p((function(t,e){F(this,{type:R,target:D(t).entries,index:0,kind:e})}),I,(function(){var t=N(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,P(void 0,!0);var n=e[r];switch(t.kind){case"keys":return P(n.key,!1);case"values":return P(n.value,!1)}return P([n.key,n.value],!1)}),!0),pt=function(t){this.entries=[],this.url=null,void 0!==t&&(A(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===K(t,0)?rt(t,1):t:_(t)))};pt.prototype={type:I,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,i,a,o,u,c=this.entries,l=T(t);if(l)for(r=(e=O(t,l)).next;!(n=s(r,e)).done;){if(a=(i=O(x(n.value))).next,(o=s(a,i)).done||(u=s(a,i)).done||!s(a,i).done)throw new z("Expected sequence with length 2");J(c,{key:_(o.value),value:_(u.value)})}else for(var h in t)b(t,h)&&J(c,{key:h,value:_(t[h])})},parseQuery:function(t){if(t)for(var e,r,n=this.entries,i=et(t,"&"),a=0;a<i.length;)(e=i[a++]).length&&(r=et(e,"="),J(n,{key:ct(Z(r)),value:ct(Q(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],J(r,dt(t.key)+"="+dt(t.value));return Q(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var yt=function(){g(this,gt);var t=F(this,new pt(arguments.length>0?arguments[0]:void 0));c||(this.size=t.entries.length)},gt=yt.prototype;if(d(gt,{append:function(t,e){var r=D(this);L(arguments.length,2),J(r.entries,{key:_(t),value:_(e)}),c||this.length++,r.updateURL()},delete:function(t){for(var e=D(this),r=L(arguments.length,1),n=e.entries,i=_(t),a=r<2?void 0:arguments[1],o=void 0===a?a:_(a),s=0;s<n.length;){var u=n[s];if(u.key!==i||void 0!==o&&u.value!==o)s++;else if(tt(n,s,1),void 0!==o)break}c||(this.size=n.length),e.updateURL()},get:function(t){var e=D(this).entries;L(arguments.length,1);for(var r=_(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=D(this).entries;L(arguments.length,1);for(var r=_(t),n=[],i=0;i<e.length;i++)e[i].key===r&&J(n,e[i].value);return n},has:function(t){for(var e=D(this).entries,r=L(arguments.length,1),n=_(t),i=r<2?void 0:arguments[1],a=void 0===i?i:_(i),o=0;o<e.length;){var s=e[o++];if(s.key===n&&(void 0===a||s.value===a))return!0}return!1},set:function(t,e){var r=D(this);L(arguments.length,1);for(var n,i=r.entries,a=!1,o=_(t),s=_(e),u=0;u<i.length;u++)(n=i[u]).key===o&&(a?tt(i,u--,1):(a=!0,n.value=s));a||J(i,{key:o,value:s}),c||(this.size=i.length),r.updateURL()},sort:function(){var t=D(this);C(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=D(this).entries,n=w(t,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new vt(this,"keys")},values:function(){return new vt(this,"values")},entries:function(){return new vt(this,"entries")}},{enumerable:!0}),h(gt,j,gt.entries,{name:"entries"}),h(gt,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),c&&f(gt,"size",{get:function(){return D(this).entries.length},configurable:!0,enumerable:!0}),v(yt,I),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:yt}),!l&&m(G)){var mt=u(U.has),bt=u(U.set),wt=function(t){if(A(t)){var e,r=t.body;if(k(r)===I)return e=t.headers?new G(t.headers):new G,mt(e,"content-type")||bt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(t,{body:S(0,_(r)),headers:S(0,e)})}return t};if(m(W)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return W(t,arguments.length>1?wt(arguments[1]):{})}}),m(B)){var kt=function(t){return g(this,H),new B(t,arguments.length>1?wt(arguments[1]):{})};H.constructor=kt,kt.prototype=H,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:kt})}}t.exports={URLSearchParams:yt,getState:D}},1531:(t,e,r)=>{var n=r(8552),i=r(2608),a=r(687),o=r(7900),s=URLSearchParams,u=s.prototype,c=i(u.append),l=i(u.delete),h=i(u.forEach),f=i([].push),d=new s("a=1&a=2&b=3");d.delete("a",1),d.delete("b",void 0),d+""!="a=2"&&n(u,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=[];h(this,(function(t,e){f(n,{key:e,value:t})})),o(e,1);for(var i,s=a(t),u=a(r),d=0,v=0,p=!1,y=n.length;d<y;)i=n[d++],p||i.key===s?(p=!0,l(this,i.key)):v++;for(;v<y;)(i=n[v++]).key===s&&i.value===u||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},3678:(t,e,r)=>{var n=r(8552),i=r(2608),a=r(687),o=r(7900),s=URLSearchParams,u=s.prototype,c=i(u.getAll),l=i(u.has),h=new s("a=1");!h.has("a",2)&&h.has("a",void 0)||n(u,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=c(this,t);o(e,1);for(var i=a(r),s=0;s<n.length;)if(n[s++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},4520:(t,e,r)=>{r(9734)},4145:(t,e,r)=>{var n=r(2444),i=r(2608),a=r(8986),o=URLSearchParams.prototype,s=i(o.forEach);n&&!("size"in o)&&a(o,"size",{get:function(){var t=0;return s(this,(function(){t++})),t},configurable:!0,enumerable:!0})},161:(t,e,r)=>{r(7460);var n,i=r(5366),a=r(2444),o=r(8200),s=r(4032),u=r(4864),c=r(2608),l=r(8552),h=r(8986),f=r(3399),d=r(9649),v=r(8069),p=r(3948),y=r(4224),g=r(6903).codeAt,m=r(5141),b=r(687),w=r(6911),k=r(7900),x=r(9734),A=r(8301),_=A.set,E=A.getterFor("URL"),S=x.URLSearchParams,O=x.getState,T=s.URL,P=s.TypeError,L=s.parseInt,M=Math.floor,C=Math.pow,j=c("".charAt),I=c(/./.exec),R=c([].join),F=c(1..toString),D=c([].pop),N=c([].push),W=c("".replace),B=c([].shift),G=c("".split),H=c("".slice),U=c("".toLowerCase),z=c([].unshift),V="Invalid scheme",q="Invalid host",Y="Invalid port",X=/[a-z]/i,K=/[\d+-.a-z]/i,Q=/\d/,J=/^0x/i,$=/^[0-7]+$/,Z=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,nt=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,at=/[\t\n\r]/g,ot=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)z(e,t%256),t=M(t/256);return R(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,a=0;a<8;a++)0!==t[a]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r?n:e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=F(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},st={},ut=v({},st,{" ":1,'"':1,"<":1,">":1,"`":1}),ct=v({},ut,{"#":1,"?":1,"{":1,"}":1}),lt=v({},ct,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ht=function(t,e){var r=g(t,0);return r>32&&r<127&&!d(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(t,e){var r;return 2===t.length&&I(X,j(t,0))&&(":"===(r=j(t,1))||!e&&"|"===r)},vt=function(t){var e;return t.length>1&&dt(H(t,0,2))&&(2===t.length||"/"===(e=j(t,2))||"\\"===e||"?"===e||"#"===e)},pt=function(t){return"."===t||"%2e"===U(t)},yt={},gt={},mt={},bt={},wt={},kt={},xt={},At={},_t={},Et={},St={},Ot={},Tt={},Pt={},Lt={},Mt={},Ct={},jt={},It={},Rt={},Ft={},Dt=function(t,e,r){var n,i,a,o=b(t);if(e){if(i=this.parse(o))throw new P(i);this.searchParams=null}else{if(void 0!==r&&(n=new Dt(r,!0)),i=this.parse(o,null,n))throw new P(i);(a=O(new S)).bindURL(this),this.searchParams=a}};Dt.prototype={type:"URL",parse:function(t,e,r){var i,a,o,s,u,c=this,l=e||yt,h=0,f="",v=!1,g=!1,m=!1;for(t=b(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=W(t,nt,""),t=W(t,it,"$1")),t=W(t,at,""),i=p(t);h<=i.length;){switch(a=i[h],l){case yt:if(!a||!I(X,a)){if(e)return V;l=mt;continue}f+=U(a),l=gt;break;case gt:if(a&&(I(K,a)||"+"===a||"-"===a||"."===a))f+=U(a);else{if(":"!==a){if(e)return V;f="",l=mt,h=0;continue}if(e&&(c.isSpecial()!==d(ft,f)||"file"===f&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=f,e)return void(c.isSpecial()&&ft[c.scheme]===c.port&&(c.port=null));f="","file"===c.scheme?l=Pt:c.isSpecial()&&r&&r.scheme===c.scheme?l=bt:c.isSpecial()?l=At:"/"===i[h+1]?(l=wt,h++):(c.cannotBeABaseURL=!0,N(c.path,""),l=It)}break;case mt:if(!r||r.cannotBeABaseURL&&"#"!==a)return V;if(r.cannotBeABaseURL&&"#"===a){c.scheme=r.scheme,c.path=y(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,l=Ft;break}l="file"===r.scheme?Pt:kt;continue;case bt:if("/"!==a||"/"!==i[h+1]){l=kt;continue}l=_t,h++;break;case wt:if("/"===a){l=Et;break}l=jt;continue;case kt:if(c.scheme=r.scheme,a===n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=y(r.path),c.query=r.query;else if("/"===a||"\\"===a&&c.isSpecial())l=xt;else if("?"===a)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=y(r.path),c.query="",l=Rt;else{if("#"!==a){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=y(r.path),c.path.length--,l=jt;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=y(r.path),c.query=r.query,c.fragment="",l=Ft}break;case xt:if(!c.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,l=jt;continue}l=Et}else l=_t;break;case At:if(l=_t,"/"!==a||"/"!==j(f,h+1))continue;h++;break;case _t:if("/"!==a&&"\\"!==a){l=Et;continue}break;case Et:if("@"===a){v&&(f="%40"+f),v=!0,o=p(f);for(var w=0;w<o.length;w++){var k=o[w];if(":"!==k||m){var x=ht(k,lt);m?c.password+=x:c.username+=x}else m=!0}f=""}else if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&c.isSpecial()){if(v&&""===f)return"Invalid authority";h-=p(f).length+1,f="",l=St}else f+=a;break;case St:case Ot:if(e&&"file"===c.scheme){l=Mt;continue}if(":"!==a||g){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&c.isSpecial()){if(c.isSpecial()&&""===f)return q;if(e&&""===f&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(f))return s;if(f="",l=Ct,e)return;continue}"["===a?g=!0:"]"===a&&(g=!1),f+=a}else{if(""===f)return q;if(s=c.parseHost(f))return s;if(f="",l=Tt,e===Ot)return}break;case Tt:if(!I(Q,a)){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&c.isSpecial()||e){if(""!==f){var A=L(f,10);if(A>65535)return Y;c.port=c.isSpecial()&&A===ft[c.scheme]?null:A,f=""}if(e)return;l=Ct;continue}return Y}f+=a;break;case Pt:if(c.scheme="file","/"===a||"\\"===a)l=Lt;else{if(!r||"file"!==r.scheme){l=jt;continue}switch(a){case n:c.host=r.host,c.path=y(r.path),c.query=r.query;break;case"?":c.host=r.host,c.path=y(r.path),c.query="",l=Rt;break;case"#":c.host=r.host,c.path=y(r.path),c.query=r.query,c.fragment="",l=Ft;break;default:vt(R(y(i,h),""))||(c.host=r.host,c.path=y(r.path),c.shortenPath()),l=jt;continue}}break;case Lt:if("/"===a||"\\"===a){l=Mt;break}r&&"file"===r.scheme&&!vt(R(y(i,h),""))&&(dt(r.path[0],!0)?N(c.path,r.path[0]):c.host=r.host),l=jt;continue;case Mt:if(a===n||"/"===a||"\\"===a||"?"===a||"#"===a){if(!e&&dt(f))l=jt;else if(""===f){if(c.host="",e)return;l=Ct}else{if(s=c.parseHost(f))return s;if("localhost"===c.host&&(c.host=""),e)return;f="",l=Ct}continue}f+=a;break;case Ct:if(c.isSpecial()){if(l=jt,"/"!==a&&"\\"!==a)continue}else if(e||"?"!==a)if(e||"#"!==a){if(a!==n&&(l=jt,"/"!==a))continue}else c.fragment="",l=Ft;else c.query="",l=Rt;break;case jt:if(a===n||"/"===a||"\\"===a&&c.isSpecial()||!e&&("?"===a||"#"===a)){if(".."===(u=U(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"===a||"\\"===a&&c.isSpecial()||N(c.path,"")):pt(f)?"/"===a||"\\"===a&&c.isSpecial()||N(c.path,""):("file"===c.scheme&&!c.path.length&&dt(f)&&(c.host&&(c.host=""),f=j(f,0)+":"),N(c.path,f)),f="","file"===c.scheme&&(a===n||"?"===a||"#"===a))for(;c.path.length>1&&""===c.path[0];)B(c.path);"?"===a?(c.query="",l=Rt):"#"===a&&(c.fragment="",l=Ft)}else f+=ht(a,ct);break;case It:"?"===a?(c.query="",l=Rt):"#"===a?(c.fragment="",l=Ft):a!==n&&(c.path[0]+=ht(a,st));break;case Rt:e||"#"!==a?a!==n&&("'"===a&&c.isSpecial()?c.query+="%27":c.query+="#"===a?"%23":ht(a,st)):(c.fragment="",l=Ft);break;case Ft:a!==n&&(c.fragment+=ht(a,ut))}h++}},parseHost:function(t){var e,r,n;if("["===j(t,0)){if("]"!==j(t,t.length-1))return q;if(e=function(t){var e,r,n,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,f=function(){return j(t,h)};if(":"===f()){if(":"!==j(t,1))return;h+=2,l=++c}for(;f();){if(8===c)return;if(":"!==f()){for(e=r=0;r<4&&I(tt,f());)e=16*e+L(f(),16),h++,r++;if("."===f()){if(0===r)return;if(h-=r,c>6)return;for(n=0;f();){if(i=null,n>0){if(!("."===f()&&n<4))return;h++}if(!I(Q,f()))return;for(;I(Q,f());){if(a=L(f(),10),null===i)i=a;else{if(0===i)return;i=10*i+a}if(i>255)return;h++}u[c]=256*u[c]+i,2!=++n&&4!==n||c++}if(4!==n)return;break}if(":"===f()){if(h++,!f())return}else if(f())return;u[c++]=e}else{if(null!==l)return;h++,l=++c}}if(null!==l)for(o=c-l,c=7;0!==c&&o>0;)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s;else if(8!==c)return;return u}(H(t,1,-1)),!e)return q;this.host=e}else if(this.isSpecial()){if(t=m(t),I(et,t))return q;if(e=function(t){var e,r,n,i,a,o,s,u=G(t,".");if(u.length&&""===u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""===(i=u[n]))return t;if(a=10,i.length>1&&"0"===j(i,0)&&(a=I(J,i)?16:8,i=H(i,8===a?1:2)),""===i)o=0;else{if(!I(10===a?Z:8===a?$:tt,i))return t;o=L(i,a)}N(r,o)}for(n=0;n<e;n++)if(o=r[n],n===e-1){if(o>=C(256,5-e))return null}else if(o>255)return null;for(s=D(r),n=0;n<r.length;n++)s+=r[n]*C(256,3-n);return s}(t),null===e)return q;this.host=e}else{if(I(rt,t))return q;for(e="",r=p(t),n=0;n<r.length;n++)e+=ht(r[n],st);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return d(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&dt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,a=t.port,o=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=ot(i),null!==a&&(c+=":"+a)):"file"===e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+R(o,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(t){var e=this.parse(t);if(e)throw new P(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Nt(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+ot(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(b(t)+":",yt)},getUsername:function(){return this.username},setUsername:function(t){var e=p(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=ht(e[r],lt)}},getPassword:function(){return this.password},setPassword:function(t){var e=p(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=ht(e[r],lt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ot(t):ot(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,St)},getHostname:function(){var t=this.host;return null===t?"":ot(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Ot)},getPort:function(){var t=this.port;return null===t?"":b(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=b(t))?this.port=null:this.parse(t,Tt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+R(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Ct))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=b(t))?this.query=null:("?"===j(t,0)&&(t=H(t,1)),this.query="",this.parse(t,Rt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=b(t))?("#"===j(t,0)&&(t=H(t,1)),this.fragment="",this.parse(t,Ft)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Nt=function(t){var e=f(this,Wt),r=k(arguments.length,1)>1?arguments[1]:void 0,n=_(e,new Dt(t,!1,r));a||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Wt=Nt.prototype,Bt=function(t,e){return{get:function(){return E(this)[t]()},set:e&&function(t){return E(this)[e](t)},configurable:!0,enumerable:!0}};if(a&&(h(Wt,"href",Bt("serialize","setHref")),h(Wt,"origin",Bt("getOrigin")),h(Wt,"protocol",Bt("getProtocol","setProtocol")),h(Wt,"username",Bt("getUsername","setUsername")),h(Wt,"password",Bt("getPassword","setPassword")),h(Wt,"host",Bt("getHost","setHost")),h(Wt,"hostname",Bt("getHostname","setHostname")),h(Wt,"port",Bt("getPort","setPort")),h(Wt,"pathname",Bt("getPathname","setPathname")),h(Wt,"search",Bt("getSearch","setSearch")),h(Wt,"searchParams",Bt("getSearchParams")),h(Wt,"hash",Bt("getHash","setHash"))),l(Wt,"toJSON",(function(){return E(this).serialize()}),{enumerable:!0}),l(Wt,"toString",(function(){return E(this).serialize()}),{enumerable:!0}),T){var Gt=T.createObjectURL,Ht=T.revokeObjectURL;Gt&&l(Nt,"createObjectURL",u(Gt,T)),Ht&&l(Nt,"revokeObjectURL",u(Ht,T))}w(Nt,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Nt})},5728:(t,e,r)=>{r(161)},4136:(t,e,r)=>{var n=r(5366),i=r(3453);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n,i=globalThis.pdfjsLib={};function a(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function l(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e,r){return e=p(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}r.d(i,{AbortException:()=>Y,AnnotationEditorLayer:()=>Ak,AnnotationEditorParamsType:()=>_,AnnotationEditorType:()=>A,AnnotationEditorUIManager:()=>Kn,AnnotationLayer:()=>np,AnnotationMode:()=>x,CMapCompressionType:()=>T,ColorPicker:()=>Tg,DOMSVGFactory:()=>me,DrawLayer:()=>Vk,FeatureTest:()=>J,GlobalWorkerOptions:()=>mu,ImageKind:()=>S,InvalidPDFException:()=>U,MissingPDFException:()=>z,OPS:()=>P,OutputScale:()=>Fe,PDFDataRangeTransport:()=>rf,PDFDateString:()=>Le,PDFWorker:()=>pf,PasswordResponses:()=>L,PermissionFlag:()=>E,PixelsPerInch:()=>Vt,RenderingCancelledException:()=>we,TextLayer:()=>uh,UnexpectedResponseException:()=>V,Util:()=>Z,VerbosityLevel:()=>O,XfaLayer:()=>td,build:()=>Bf,createValidAbsoluteUrl:()=>N,fetchData:()=>ve,getDocument:()=>$h,getFilenameFromUrl:()=>Ae,getPdfFilenameFromUrl:()=>_e,getXfaPageViewport:()=>Me,isDataScheme:()=>ke,isPdfFile:()=>xe,noContextMenu:()=>Te,normalizeUnicode:()=>it,setLayerDimensions:()=>Re,shadow:()=>W,version:()=>Wf}),r(8169),r(7651),r(4551),r(5268),r(184),r(3234),r(6746),r(8551),r(9024),r(9138),r(750),r(5015),r(6209),r(9261),r(3700),r(3632),r(7316),r(1425),r(3379),r(489),r(2823),r(5594),r(8397),r(2467),r(1281),r(9484),r(4672),r(6794),r(9264),r(7329),r(2044),r(3740),r(6542),r(5738),r(2900),r(2051),r(3198),r(4211),r(9791),r(5294),r(1526),r(6032),r(3659),r(932),r(8553),r(7612),r(8579),r(7719),r(7576),r(2891),r(2605),r(4863),r(9637),r(2709),r(8941),r(1579),r(6236),r(7716),r(1913),r(3577),r(5728),r(4136),r(4520),r(1531),r(3678),r(4145);var m=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),b=[1,0,0,1,0,0],w=[.001,0,0,.001,0,0],k=1.35,x={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},A={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},_={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},E={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},S={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},O={ERRORS:0,WARNINGS:1,INFOS:5},T={NONE:0,BINARY:1},P={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},L={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},M=O.WARNINGS;function C(t){Number.isInteger(t)&&(M=t)}function j(){return M}function I(t){M>=O.INFOS&&console.log("Info: ".concat(t))}function R(t){M>=O.WARNINGS&&console.log("Warning: ".concat(t))}function F(t){throw new Error(t)}function D(t,e){t||F(e)}function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(r&&"string"==typeof t){if(r.addDefaultProtocol&&t.startsWith("www.")){var n=t.match(/\./g);(null==n?void 0:n.length)>=2&&(t="http://".concat(t))}if(r.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch(t){}}var i=e?new URL(t,e):new URL(t);if(function(t){switch(null==t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(t){}return null}function W(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}var B=function(){function t(t,e){this.message=t,this.name=e}return t.prototype=new Error,t.constructor=t,t}(),G=function(t){function e(t,r){var n;return f(this,e),(n=d(this,e,[t,"PasswordException"])).code=r,n}return y(e,B),l(e)}(),H=function(t){function e(t,r){var n;return f(this,e),(n=d(this,e,[t,"UnknownErrorException"])).details=r,n}return y(e,B),l(e)}(),U=function(t){function e(t){return f(this,e),d(this,e,[t,"InvalidPDFException"])}return y(e,B),l(e)}(),z=function(t){function e(t){return f(this,e),d(this,e,[t,"MissingPDFException"])}return y(e,B),l(e)}(),V=function(t){function e(t,r){var n;return f(this,e),(n=d(this,e,[t,"UnexpectedResponseException"])).status=r,n}return y(e,B),l(e)}(),q=function(t){function e(t){return f(this,e),d(this,e,[t,"FormatError"])}return y(e,B),l(e)}(),Y=function(t){function e(t){return f(this,e),d(this,e,[t,"AbortException"])}return y(e,B),l(e)}();function X(t){"object"==typeof t&&void 0!==(null==t?void 0:t.length)||F("Invalid argument for bytesToString");var e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);for(var n=[],i=0;i<e;i+=r){var a=Math.min(i+r,e),o=t.subarray(i,a);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function K(t){"string"!=typeof t&&F("Invalid argument for stringToBytes");for(var e=t.length,r=new Uint8Array(e),n=0;n<e;++n)r[n]=255&t.charCodeAt(n);return r}function Q(t){var e,r=Object.create(null),n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=s(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}(t);try{for(n.s();!(e=n.n()).done;){var i=o(e.value,2),a=i[0],u=i[1];r[a]=u}}catch(t){n.e(t)}finally{n.f()}return r}var J=function(){return l((function t(){f(this,t)}),null,[{key:"isLittleEndian",get:function(){return W(this,"isLittleEndian",((t=new Uint8Array(4))[0]=1,1===new Uint32Array(t.buffer,0,1)[0]));var t}},{key:"isEvalSupported",get:function(){return W(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}},{key:"isOffscreenCanvasSupported",get:function(){return W(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}},{key:"platform",get:function(){var t,e;return"undefined"!=typeof navigator&&"string"==typeof(null===(t=navigator)||void 0===t?void 0:t.platform)?W(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"==typeof(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&navigator.userAgent.includes("Firefox")}):W(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}},{key:"isCSSRoundSupported",get:function(){var t,e;return W(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(e=t.supports)||void 0===e?void 0:e.call(t,"width: round(1.5px, 1px)"))}}])}(),$=Array.from(Array(256).keys(),(function(t){return t.toString(16).padStart(2,"0")})),Z=function(){function t(){f(this,t)}return l(t,null,[{key:"makeHexColor",value:function(t,e,r){return"#".concat($[t]).concat($[e]).concat($[r])}},{key:"scaleMinMax",value:function(t,e){var r;t[0]?(t[0]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[3],e[3]*=t[3]):(r=e[0],e[0]=e[1],e[1]=r,r=e[2],e[2]=e[3],e[3]=r,t[1]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}},{key:"transform",value:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}},{key:"applyTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}},{key:"applyInverseTransform",value:function(t,e){var r=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/r,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/r]}},{key:"getAxialAlignedBoundingBox",value:function(t,e){var r=this.applyTransform(t,e),n=this.applyTransform(t.slice(2,4),e),i=this.applyTransform([t[0],t[3]],e),a=this.applyTransform([t[2],t[1]],e);return[Math.min(r[0],n[0],i[0],a[0]),Math.min(r[1],n[1],i[1],a[1]),Math.max(r[0],n[0],i[0],a[0]),Math.max(r[1],n[1],i[1],a[1])]}},{key:"inverseTransform",value:function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}},{key:"singularValueDecompose2dScale",value:function(t){var e=[t[0],t[2],t[1],t[3]],r=t[0]*e[0]+t[1]*e[2],n=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],o=(r+a)/2,s=Math.sqrt(Math.pow(r+a,2)-4*(r*a-i*n))/2,u=o+s||1,c=o-s||1;return[Math.sqrt(u),Math.sqrt(c)]}},{key:"normalizeRect",value:function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}},{key:"intersect",value:function(t,e){var r=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),n=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(r>n)return null;var i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>a?null:[r,i,n,a]}},{key:"bezierBoundingBox",value:function(e,r,n,i,o,s,u,c,l){return l?(l[0]=Math.min(l[0],e,u),l[1]=Math.min(l[1],r,c),l[2]=Math.max(l[2],e,u),l[3]=Math.max(l[3],r,c)):l=[Math.min(e,u),Math.min(r,c),Math.max(e,u),Math.max(r,c)],a(t,this,et).call(this,e,n,o,u,r,i,s,c,3*(3*(n-o)-e+u),6*(e-2*n+o),3*(n-e),l),a(t,this,et).call(this,e,n,o,u,r,i,s,c,3*(3*(i-s)-r+c),6*(r-2*i+s),3*(i-r),l),l}}])}();function tt(t,e,r,n,i,a,o,s,u,c){if(!(u<=0||u>=1)){var l=1-u,h=u*u,f=h*u,d=l*(l*(l*t+3*u*e)+3*h*r)+f*n,v=l*(l*(l*i+3*u*a)+3*h*o)+f*s;c[0]=Math.min(c[0],d),c[1]=Math.min(c[1],v),c[2]=Math.max(c[2],d),c[3]=Math.max(c[3],v)}}function et(t,e,r,i,o,s,u,c,l,h,f,d){if(Math.abs(l)<1e-12)Math.abs(h)>=1e-12&&a(n,this,tt).call(this,t,e,r,i,o,s,u,c,-f/h,d);else{var v=Math.pow(h,2)-4*f*l;if(!(v<0)){var p=Math.sqrt(v),y=2*l;a(n,this,tt).call(this,t,e,r,i,o,s,u,c,(-h+p)/y,d),a(n,this,tt).call(this,t,e,r,i,o,s,u,c,(-h-p)/y,d)}}}n=Z;var rt=null,nt=null;function it(t){return rt||(rt=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,nt=new Map([["","t"]])),t.replaceAll(rt,(function(t,e,r){return e?e.normalize("NFKC"):nt.get(r)}))}var at="pdfjs_internal_id_";function ot(){ot=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function st(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ut(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){st(a,n,i,o,s,"next",t)}function s(t){st(a,n,i,o,s,"throw",t)}o(void 0)}))}}function ct(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dt(n.key),n)}}function ft(t,e,r){return e&&ht(t.prototype,e),r&&ht(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dt(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}r(4172),r(5997),r(456),r(5550),r(4413),r(7531),r(1999),r(702),r(1234),r(2431),r(9732),r(9255),r(5130),r(5636),r(8509),r(7332),r(6555),r(3296),r(4594),r(8492),r(7121),r(8856),r(5342),r(4192),r(1565),r(8316),r(4967),r(6403),r(3355),r(6851),r(9750),r(8674),r(3821),r(9657),r(6347),r(122),r(8653),r(9210),r(7895),r(463),r(9582),r(31),r(3177),r(4592),r(8345),r(2865),r(4853),r(4072);var vt,pt=function(){return ft((function t(){lt(this,t)}),[{key:"addFilter",value:function(t){return"none"}},{key:"addHCMFilter",value:function(t,e){return"none"}},{key:"addAlphaFilter",value:function(t){return"none"}},{key:"addLuminosityFilter",value:function(t){return"none"}},{key:"addHighlightHCMFilter",value:function(t,e,r,n,i){return"none"}},{key:"destroy",value:function(){}}])}(),yt=new WeakMap,gt=function(){return ft((function t(e){var r,n,i=e.enableHWA,a=void 0!==i&&i;lt(this,t),function(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}(this,yt,!1),n=a,(r=yt).set(ct(r,this),n)}),[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");var r,n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:(r=yt,this,!r.get(ct(r,this)))})}}},{key:"reset",value:function(t,e,r){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||r<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=r}},{key:"destroy",value:function(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}},{key:"_createCanvas",value:function(t,e){F("Abstract method `_createCanvas` called.")}}])}(),mt=function(){return ft((function t(e){var r=e.baseUrl,n=void 0===r?null:r,i=e.isCompressed,a=void 0===i||i;lt(this,t),this.baseUrl=n,this.isCompressed=a}),[{key:"fetch",value:(t=ut(ot().mark((function t(e){var r,n,i,a=this;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.name,this.baseUrl){t.next=3;break}throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");case 3:if(r){t.next=5;break}throw new Error("CMap name must be specified.");case 5:return n=this.baseUrl+r+(this.isCompressed?".bcmap":""),i=this.isCompressed?T.BINARY:T.NONE,t.abrupt("return",this._fetchData(n,i).catch((function(t){throw new Error("Unable to load ".concat(a.isCompressed?"binary ":"","CMap at: ").concat(n))})));case 8:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(t,e){F("Abstract method `_fetchData` called.")}}]);var t}(),bt=function(){return ft((function t(e){var r=e.baseUrl,n=void 0===r?null:r;lt(this,t),this.baseUrl=n}),[{key:"fetch",value:(t=ut(ot().mark((function t(e){var r,n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.filename,this.baseUrl){t.next=3;break}throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");case 3:if(r){t.next=5;break}throw new Error("Font filename must be specified.");case 5:return n="".concat(this.baseUrl).concat(r),t.abrupt("return",this._fetchData(n).catch((function(t){throw new Error("Unable to load font data at: ".concat(n))})));case 7:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(t){F("Abstract method `_fetchData` called.")}}]);var t}(),wt=function(){return ft((function t(){lt(this,t)}),[{key:"create",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");var n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),r||(n.setAttribute("width","".concat(t,"px")),n.setAttribute("height","".concat(e,"px"))),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),n}},{key:"createElement",value:function(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}},{key:"_createSVG",value:function(t){F("Abstract method `_createSVG` called.")}}])}();function kt(){kt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function xt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=St(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function At(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function _t(t){return function(t){if(Array.isArray(t))return Ot(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||St(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||St(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t,e){if(t){if("string"==typeof t)return Ot(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(t,e):void 0}}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Tt(t,e,r){return e=Lt(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Pt()?Reflect.construct(e,r||[],Lt(t).constructor):e.apply(t,r))}function Pt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Pt=function(){return!!t})()}function Lt(t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lt(t)}function Mt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ct(t,e)}function Ct(t,e){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ct(t,e)}function jt(t,e,r){It(t,e),e.set(t,r)}function It(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rt(t,e,r){return r(Nt(t,e))}function Ft(t,e){return t.get(Nt(t,e))}function Dt(t,e,r){return t.set(Nt(t,e),r),r}function Nt(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ut(n.key),n)}}function Bt(t,e,r){return e&&Wt(t.prototype,e),r&&Wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ht(t,e,r){return(e=Ut(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ut(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}var zt="http://www.w3.org/2000/svg",Vt=Bt((function t(){Gt(this,t)}));vt=Vt,Ht(Vt,"CSS",96),Ht(Vt,"PDF",72),Ht(Vt,"PDF_TO_CSS_UNITS",vt.CSS/vt.PDF);var qt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,$t=new WeakMap,Zt=new WeakSet,te=function(t){function e(t){var r,n,i,a=t.docId,o=t.ownerDocument,s=void 0===o?globalThis.document:o;return Gt(this,e),It(n=r=Tt(this,e),i=Zt),i.add(n),jt(r,qt,void 0),jt(r,Yt,void 0),jt(r,Xt,void 0),jt(r,Kt,void 0),jt(r,Qt,void 0),jt(r,Jt,void 0),jt(r,$t,0),Dt(Kt,r,a),Dt(Qt,r,s),r}return Mt(e,pt),Bt(e,[{key:"addFilter",value:function(t){var e,r;if(!t)return"none";var n=Rt(Zt,this,ee).get(t);if(n)return n;var i=Et(Nt(Zt,this,ie).call(this,t),3),a=i[0],o=i[1],s=i[2],u=1===t.length?a:"".concat(a).concat(o).concat(s);if(n=Rt(Zt,this,ee).get(u))return Rt(Zt,this,ee).set(t,n),n;var c="g_".concat(Ft(Kt,this),"_transfer_map_").concat((Dt($t,this,(e=Ft($t,this),r=e++,e)),r)),l=Nt(Zt,this,ae).call(this,c);Rt(Zt,this,ee).set(t,l),Rt(Zt,this,ee).set(u,l);var h=Nt(Zt,this,ue).call(this,c);return Nt(Zt,this,le).call(this,a,o,s,h),l}},{key:"addHCMFilter",value:function(t,e){var r,n,i="".concat(t,"-").concat(e),a="base",o=Rt(Zt,this,re).get(a);if((null===(r=o)||void 0===r?void 0:r.key)===i)return o.url;if(o?(null===(n=o.filter)||void 0===n||n.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},Rt(Zt,this,re).set(a,o)),!t||!e)return o.url;var s=Nt(Zt,this,fe).call(this,t);t=Z.makeHexColor.apply(Z,_t(s));var u=Nt(Zt,this,fe).call(this,e);if(e=Z.makeHexColor.apply(Z,_t(u)),Rt(Zt,this,ne).style.color="","#000000"===t&&"#ffffff"===e||t===e)return o.url;for(var c=new Array(256),l=0;l<=255;l++){var h=l/255;c[l]=h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4)}var f=c.join(","),d="g_".concat(Ft(Kt,this),"_hcm_filter"),v=o.filter=Nt(Zt,this,ue).call(this,d);Nt(Zt,this,le).call(this,f,f,f,v),Nt(Zt,this,se).call(this,v);var p=function(t,e){for(var r=s[t]/255,n=u[t]/255,i=new Array(e+1),a=0;a<=e;a++)i[a]=r+a/e*(n-r);return i.join(",")};return Nt(Zt,this,le).call(this,p(0,5),p(1,5),p(2,5),v),o.url=Nt(Zt,this,ae).call(this,d),o.url}},{key:"addAlphaFilter",value:function(t){var e,r,n=Rt(Zt,this,ee).get(t);if(n)return n;var i=Et(Nt(Zt,this,ie).call(this,[t]),1)[0],a="alpha_".concat(i);if(n=Rt(Zt,this,ee).get(a))return Rt(Zt,this,ee).set(t,n),n;var o="g_".concat(Ft(Kt,this),"_alpha_map_").concat((Dt($t,this,(e=Ft($t,this),r=e++,e)),r)),s=Nt(Zt,this,ae).call(this,o);Rt(Zt,this,ee).set(t,s),Rt(Zt,this,ee).set(a,s);var u=Nt(Zt,this,ue).call(this,o);return Nt(Zt,this,he).call(this,i,u),s}},{key:"addLuminosityFilter",value:function(t){var e,r,n,i,a=Rt(Zt,this,ee).get(t||"luminosity");if(a)return a;if(t?(n=Et(Nt(Zt,this,ie).call(this,[t]),1)[0],i="luminosity_".concat(n)):i="luminosity",a=Rt(Zt,this,ee).get(i))return Rt(Zt,this,ee).set(t,a),a;var o="g_".concat(Ft(Kt,this),"_luminosity_map_").concat((Dt($t,this,(e=Ft($t,this),r=e++,e)),r)),s=Nt(Zt,this,ae).call(this,o);Rt(Zt,this,ee).set(t,s),Rt(Zt,this,ee).set(i,s);var u=Nt(Zt,this,ue).call(this,o);return Nt(Zt,this,oe).call(this,u),t&&Nt(Zt,this,he).call(this,n,u),s}},{key:"addHighlightHCMFilter",value:function(t,e,r,n,i){var a,o,s="".concat(e,"-").concat(r,"-").concat(n,"-").concat(i),u=Rt(Zt,this,re).get(t);if((null===(a=u)||void 0===a?void 0:a.key)===s)return u.url;if(u?(null===(o=u.filter)||void 0===o||o.remove(),u.key=s,u.url="none",u.filter=null):(u={key:s,url:"none",filter:null},Rt(Zt,this,re).set(t,u)),!e||!r)return u.url;var c=Et([e,r].map(Nt(Zt,this,fe).bind(this)),2),l=c[0],h=c[1],f=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),v=Et([n,i].map(Nt(Zt,this,fe).bind(this)),2),p=v[0],y=v[1];if(d<f){var g=[d,f,y,p];f=g[0],d=g[1],p=g[2],y=g[3]}Rt(Zt,this,ne).style.color="";var m=function(t,e,r){for(var n=new Array(256),i=(d-f)/r,a=t/255,o=(e-t)/(255*r),s=0,u=0;u<=r;u++){for(var c=Math.round(f+u*i),l=a+u*o,h=s;h<=c;h++)n[h]=l;s=c+1}for(var v=s;v<256;v++)n[v]=n[s-1];return n.join(",")},b="g_".concat(Ft(Kt,this),"_hcm_").concat(t,"_filter"),w=u.filter=Nt(Zt,this,ue).call(this,b);return Nt(Zt,this,se).call(this,w),Nt(Zt,this,le).call(this,m(p[0],y[0],5),m(p[1],y[1],5),m(p[2],y[2],5),w),u.url=Nt(Zt,this,ae).call(this,b),u.url}},{key:"destroy",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==Rt(Zt,this,re).size||(Ft(Xt,this)&&(Ft(Xt,this).parentNode.parentNode.remove(),Dt(Xt,this,null)),Ft(Yt,this)&&(Ft(Yt,this).clear(),Dt(Yt,this,null)),Dt($t,this,0))}}])}();function ee(t){return Ft(Yt,t)||Dt(Yt,t,new Map)}function re(t){return Ft(Jt,t)||Dt(Jt,t,new Map)}function ne(t){if(!Ft(Xt,t)){var e=Ft(Qt,t).createElement("div"),r=e.style;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;var n=Ft(Qt,t).createElementNS(zt,"svg");n.setAttribute("width",0),n.setAttribute("height",0),Dt(Xt,t,Ft(Qt,t).createElementNS(zt,"defs")),e.append(n),n.append(Ft(Xt,t)),Ft(Qt,t).body.append(e)}return Ft(Xt,t)}function ie(t){if(1===t.length){for(var e=t[0],r=new Array(256),n=0;n<256;n++)r[n]=e[n]/255;var i=r.join(",");return[i,i,i]}for(var a=Et(t,3),o=a[0],s=a[1],u=a[2],c=new Array(256),l=new Array(256),h=new Array(256),f=0;f<256;f++)c[f]=o[f]/255,l[f]=s[f]/255,h[f]=u[f]/255;return[c.join(","),l.join(","),h.join(",")]}function ae(t){if(void 0===Ft(qt,this)){Dt(qt,this,"");var e=Ft(Qt,this).URL;e!==Ft(Qt,this).baseURI&&(ke(e)?R('#createUrl: ignore "data:"-URL for performance reasons.'):Dt(qt,this,e.split("#",1)[0]))}return"url(".concat(Ft(qt,this),"#").concat(t,")")}function oe(t){var e=Ft(Qt,this).createElementNS(zt,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}function se(t){var e=Ft(Qt,this).createElementNS(zt,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}function ue(t){var e=Ft(Qt,this).createElementNS(zt,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),Rt(Zt,this,ne).append(e),e}function ce(t,e,r){var n=Ft(Qt,this).createElementNS(zt,e);n.setAttribute("type","discrete"),n.setAttribute("tableValues",r),t.append(n)}function le(t,e,r,n){var i=Ft(Qt,this).createElementNS(zt,"feComponentTransfer");n.append(i),Nt(Zt,this,ce).call(this,i,"feFuncR",t),Nt(Zt,this,ce).call(this,i,"feFuncG",e),Nt(Zt,this,ce).call(this,i,"feFuncB",r)}function he(t,e){var r=Ft(Qt,this).createElementNS(zt,"feComponentTransfer");e.append(r),Nt(Zt,this,ce).call(this,r,"feFuncA",t)}function fe(t){return Rt(Zt,this,ne).style.color=t,Ce(getComputedStyle(Rt(Zt,this,ne)).getPropertyValue("color"))}var de=function(t){function e(t){var r,n=t.ownerDocument,i=void 0===n?globalThis.document:n,a=t.enableHWA,o=void 0!==a&&a;return Gt(this,e),(r=Tt(this,e,[{enableHWA:o}]))._document=i,r}return Mt(e,gt),Bt(e,[{key:"_createCanvas",value:function(t,e){var r=this._document.createElement("canvas");return r.width=t,r.height=e,r}}])}();function ve(t){return pe.apply(this,arguments)}function pe(){var t;return t=kt().mark((function t(e){var r,n,i=arguments;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:"text",!Oe(e,document.baseURI)){t.next=14;break}return t.next=4,fetch(e);case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(n.statusText);case 7:t.t0=r,t.next="arraybuffer"===t.t0?10:"blob"===t.t0?11:"json"===t.t0?12:13;break;case 10:return t.abrupt("return",n.arrayBuffer());case 11:return t.abrupt("return",n.blob());case 12:return t.abrupt("return",n.json());case 13:return t.abrupt("return",n.text());case 14:return t.abrupt("return",new Promise((function(t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=r,i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)n(new Error(i.statusText));else{switch(r){case"arraybuffer":case"blob":case"json":return void t(i.response)}t(i.responseText)}},i.send(null)})));case 15:case"end":return t.stop()}}),t)})),pe=function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){At(a,n,i,o,s,"next",t)}function s(t){At(a,n,i,o,s,"throw",t)}o(void 0)}))},pe.apply(this,arguments)}var ye=function(t){function e(){return Gt(this,e),Tt(this,e,arguments)}return Mt(e,mt),Bt(e,[{key:"_fetchData",value:function(t,e){return ve(t,this.isCompressed?"arraybuffer":"text").then((function(t){return{cMapData:t instanceof ArrayBuffer?new Uint8Array(t):K(t),compressionType:e}}))}}])}(),ge=function(t){function e(){return Gt(this,e),Tt(this,e,arguments)}return Mt(e,bt),Bt(e,[{key:"_fetchData",value:function(t){return ve(t,"arraybuffer").then((function(t){return new Uint8Array(t)}))}}])}(),me=function(t){function e(){return Gt(this,e),Tt(this,e,arguments)}return Mt(e,wt),Bt(e,[{key:"_createSVG",value:function(t){return document.createElementNS(zt,t)}}])}(),be=function(){function t(e){var r=e.viewBox,n=e.scale,i=e.rotation,a=e.offsetX,o=void 0===a?0:a,s=e.offsetY,u=void 0===s?0:s,c=e.dontFlip,l=void 0!==c&&c;Gt(this,t),this.viewBox=r,this.scale=n,this.rotation=i,this.offsetX=o,this.offsetY=u;var h,f,d,v,p,y,g,m,b=(r[2]+r[0])/2,w=(r[3]+r[1])/2;switch((i%=360)<0&&(i+=360),i){case 180:h=-1,f=0,d=0,v=1;break;case 90:h=0,f=1,d=1,v=0;break;case 270:h=0,f=-1,d=-1,v=0;break;case 0:h=1,f=0,d=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(d=-d,v=-v),0===h?(p=Math.abs(w-r[1])*n+o,y=Math.abs(b-r[0])*n+u,g=(r[3]-r[1])*n,m=(r[2]-r[0])*n):(p=Math.abs(b-r[0])*n+o,y=Math.abs(w-r[1])*n+u,g=(r[2]-r[0])*n,m=(r[3]-r[1])*n),this.transform=[h*n,f*n,d*n,v*n,p-h*n*b-d*n*w,y-f*n*b-v*n*w],this.width=g,this.height=m}return Bt(t,[{key:"rawDims",get:function(){var t=this.viewBox;return W(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.scale,n=void 0===r?this.scale:r,i=e.rotation,a=void 0===i?this.rotation:i,o=e.offsetX,s=void 0===o?this.offsetX:o,u=e.offsetY,c=void 0===u?this.offsetY:u,l=e.dontFlip,h=void 0!==l&&l;return new t({viewBox:this.viewBox.slice(),scale:n,rotation:a,offsetX:s,offsetY:c,dontFlip:h})}},{key:"convertToViewportPoint",value:function(t,e){return Z.applyTransform([t,e],this.transform)}},{key:"convertToViewportRectangle",value:function(t){var e=Z.applyTransform([t[0],t[1]],this.transform),r=Z.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],r[0],r[1]]}},{key:"convertToPdfPoint",value:function(t,e){return Z.applyInverseTransform([t,e],this.transform)}}])}(),we=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Gt(this,e),(r=Tt(this,e,[t,"RenderingCancelledException"])).extraDelay=n,r}return Mt(e,B),Bt(e)}();function ke(t){for(var e=t.length,r=0;r<e&&""===t[r].trim();)r++;return"data:"===t.substring(r,r+5).toLowerCase()}function xe(t){return"string"==typeof t&&/\.pdf$/i.test(t)}function Ae(t){var e=t.split(/[#?]/,1);return(t=Et(e,1)[0]).substring(t.lastIndexOf("/")+1)}function _e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof t)return e;if(ke(t))return R('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;var r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t),i=r.exec(n[1])||r.exec(n[2])||r.exec(n[3]);if(i&&(i=i[0]).includes("%"))try{i=r.exec(decodeURIComponent(i))[0]}catch(t){}return i||e}var Ee,Se=function(){return Bt((function t(){Gt(this,t),Ht(this,"started",Object.create(null)),Ht(this,"times",[])}),[{key:"time",value:function(t){t in this.started&&R("Timer is already running for ".concat(t)),this.started[t]=Date.now()}},{key:"timeEnd",value:function(t){t in this.started||R("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}},{key:"toString",value:function(){var t,e=[],r=0,n=xt(this.times);try{for(n.s();!(t=n.n()).done;){var i=t.value.name;r=Math.max(i.length,r)}}catch(t){n.e(t)}finally{n.f()}var a,o=xt(this.times);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.name,c=s.start,l=s.end;e.push("".concat(u.padEnd(r)," ").concat(l-c,"ms\n"))}}catch(t){o.e(t)}finally{o.f()}return e.join("")}}])}();function Oe(t,e){try{var r=(e?new URL(t,e):new URL(t)).protocol;return"http:"===r||"https:"===r}catch(t){return!1}}function Te(t){t.preventDefault()}function Pe(t){console.log("Deprecated API usage: "+t)}var Le=function(){return Bt((function t(){Gt(this,t)}),null,[{key:"toDateObject",value:function(t){if(!t||"string"!=typeof t)return null;Ee||(Ee=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var e=Ee.exec(t);if(!e)return null;var r=parseInt(e[1],10),n=parseInt(e[2],10);n=n>=1&&n<=12?n-1:0;var i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;var a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;var o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;var s=parseInt(e[6],10);s=s>=0&&s<=59?s:0;var u=e[7]||"Z",c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;var l=parseInt(e[9],10)||0;return l=l>=0&&l<=59?l:0,"-"===u?(a+=c,o+=l):"+"===u&&(a-=c,o-=l),new Date(Date.UTC(r,n,i,a,o,s))}}])}();function Me(t,e){var r=e.scale,n=void 0===r?1:r,i=e.rotation,a=void 0===i?0:i,o=t.attributes.style,s=o.width,u=o.height,c=[0,0,parseInt(s),parseInt(u)];return new be({viewBox:c,scale:n,rotation:a})}function Ce(t){if(t.startsWith("#")){var e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((function(t){return parseInt(t)})):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((function(t){return parseInt(t)})).slice(0,3):(R('Not a valid color format: "'.concat(t,'"')),[0,0,0])}function je(t){var e=t.getTransform();return[e.a,e.b,e.c,e.d,e.e,e.f]}function Ie(t){var e=t.getTransform().invertSelf();return[e.a,e.b,e.c,e.d,e.e,e.f]}function Re(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof be){var i=e.rawDims,a=i.pageWidth,o=i.pageHeight,s=t.style,u=J.isCSSRoundSupported,c="var(--scale-factor) * ".concat(a,"px"),l="var(--scale-factor) * ".concat(o,"px"),h=u?"round(down, ".concat(c,", var(--scale-round-x, 1px))"):"calc(".concat(c,")"),f=u?"round(down, ".concat(l,", var(--scale-round-y, 1px))"):"calc(".concat(l,")");r&&e.rotation%180!=0?(s.width=f,s.height=h):(s.width=h,s.height=f)}n&&t.setAttribute("data-main-rotation",e.rotation)}var Fe=function(){return Bt((function t(){Gt(this,t);var e=window.devicePixelRatio||1;this.sx=e,this.sy=e}),[{key:"scaled",get:function(){return 1!==this.sx||1!==this.sy}},{key:"symmetric",get:function(){return this.sx===this.sy}}])}();function De(t,e){if(t){if("string"==typeof t)return Ne(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(t,e):void 0}}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function We(){We=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Be(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function He(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ze(n.key),n)}}function Ue(t,e,r){return e&&He(t.prototype,e),r&&He(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ze(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Ve(t,e){Ye(t,e),e.add(t)}function qe(t,e,r){Ye(t,e),e.set(t,r)}function Ye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xe(t,e,r){return r(Je(t,e))}function Ke(t,e){return t.get(Je(t,e))}function Qe(t,e,r){return t.set(Je(t,e),r),r}function Je(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var $e=new WeakMap,Ze=new WeakMap,tr=new WeakMap,er=new WeakMap,rr=new WeakMap,nr=new WeakSet,ir=function(){return Ue((function t(e){Ge(this,t),Ve(this,nr),qe(this,$e,null),qe(this,Ze,null),qe(this,tr,void 0),qe(this,er,null),qe(this,rr,null),Qe(tr,this,e),fr._||(fr._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}),[{key:"render",value:function(){var t=Qe($e,this,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");var e=Ke(tr,this)._uiManager._signal;t.addEventListener("contextmenu",Te,{signal:e}),t.addEventListener("pointerdown",ar,{signal:e});var r=Qe(er,this,document.createElement("div"));r.className="buttons",t.append(r);var n=Ke(tr,this).toolbarPosition;if(n){var i=t.style,a="ltr"===Ke(tr,this)._uiManager.direction?1-n[0]:n[0];i.insetInlineEnd="".concat(100*a,"%"),i.top="calc(".concat(100*n[1],"% + var(--editor-toolbar-vert-offset))")}return Je(nr,this,cr).call(this),t}},{key:"div",get:function(){return Ke($e,this)}},{key:"hide",value:function(){var t;Ke($e,this).classList.add("hidden"),null===(t=Ke(Ze,this))||void 0===t||t.hideDropdown()}},{key:"show",value:function(){var t;Ke($e,this).classList.remove("hidden"),null===(t=Ke(rr,this))||void 0===t||t.shown()}},{key:"addAltText",value:(t=We().mark((function t(e){var r;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.render();case 2:r=t.sent,Je(nr,this,ur).call(this,r),Ke(er,this).prepend(r,Xe(nr,this,lr)),Qe(rr,this,e);case 6:case"end":return t.stop()}}),t,this)})),e=function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){Be(a,n,i,o,s,"next",t)}function s(t){Be(a,n,i,o,s,"throw",t)}o(void 0)}))},function(t){return e.apply(this,arguments)})},{key:"addColorPicker",value:function(t){Qe(Ze,this,t);var e=t.renderButton();Je(nr,this,ur).call(this,e),Ke(er,this).prepend(e,Xe(nr,this,lr))}},{key:"remove",value:function(){var t;Ke($e,this).remove(),null===(t=Ke(Ze,this))||void 0===t||t.destroy(),Qe(Ze,this,null)}}]);var t,e}();function ar(t){t.stopPropagation()}function or(t){Ke(tr,this)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}function sr(t){Ke(tr,this)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}function ur(t){var e=Ke(tr,this)._uiManager._signal;t.addEventListener("focusin",Je(nr,this,or).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",Je(nr,this,sr).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Te,{signal:e})}function cr(){var t=Ke(tr,this),e=t.editorType,r=t._uiManager,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",fr._[e]),Je(nr,this,ur).call(this,n),n.addEventListener("click",(function(t){r.delete()}),{signal:r._signal}),Ke(er,this).append(n)}function lr(t){var e=document.createElement("div");return e.className="divider",e}var hr,fr={_:null},dr=new WeakMap,vr=new WeakMap,pr=new WeakMap,yr=new WeakSet,gr=function(){return Ue((function t(e){Ge(this,t),Ve(this,yr),qe(this,dr,null),qe(this,vr,null),qe(this,pr,void 0),Qe(pr,this,e)}),[{key:"show",value:function(t,e,r){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||De(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Je(yr,this,br).call(this,e,r),2),i=n[0],a=n[1],o=(Ke(vr,this)||Qe(vr,this,Je(yr,this,mr).call(this))).style;t.append(Ke(vr,this)),o.insetInlineEnd="".concat(100*i,"%"),o.top="calc(".concat(100*a,"% + var(--editor-toolbar-vert-offset))")}},{key:"hide",value:function(){Ke(vr,this).remove()}}])}();function mr(){var t=Qe(vr,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Te,{signal:Ke(pr,this)._signal});var e=Qe(dr,this,document.createElement("div"));return e.className="buttons",t.append(e),Je(yr,this,wr).call(this),t}function br(t,e){var r,n=0,i=0,a=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=De(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.y+o.height;if(!(s<n)){var u=o.x+(e?o.width:0);s>n?(i=u,n=s):e?u>i&&(i=u):u<i&&(i=u)}}}catch(t){a.e(t)}finally{a.f()}return[e?1-i:i,n]}function wr(){var t=this,e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");var r=document.createElement("span");e.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");var n=Ke(pr,this)._signal;e.addEventListener("contextmenu",Te,{signal:n}),e.addEventListener("click",(function(){Ke(pr,t).highlightSelection("floating_button")}),{signal:n}),Ke(dr,this).append(e)}function kr(t,e,r){return(e=Mr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xr(t){return function(t){if(Array.isArray(t))return Wr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Nr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||Nr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(){_r=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Er(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Sr(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){Er(a,n,i,o,s,"next",t)}function s(t){Er(a,n,i,o,s,"throw",t)}o(void 0)}))}}function Or(t,e){jr(t,e),e.add(t)}function Tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mr(n.key),n)}}function Lr(t,e,r){return e&&Pr(t.prototype,e),r&&Pr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mr(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Cr(t,e,r){jr(t,e),e.set(t,r)}function jr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ir(t,e){return t.get(Fr(t,e))}function Rr(t,e,r){return t.set(Fr(t,e),r),r}function Fr(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Dr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Nr(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Nr(t,e){if(t){if("string"==typeof t)return Wr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wr(t,e):void 0}}function Wr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Br(t,e,r){var n,i=Dr(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.addEventListener(a,t[a].bind(t))}}catch(t){i.e(t)}finally{i.f()}}var Gr=new WeakMap,Hr=function(){return Lr((function t(){Tr(this,t),Cr(this,Gr,0)}),[{key:"id",get:function(){var t,e;return"".concat("pdfjs_internal_editor_").concat((Rr(Gr,this,(t=Ir(Gr,this),e=t++,t)),e))}}])}(),Ur=new WeakMap,zr=new WeakMap,Vr=new WeakMap,qr=new WeakSet,Yr=function(){return Lr((function t(){Tr(this,t),Or(this,qr),Cr(this,Ur,function(){var t,e;if("undefined"!=typeof crypto&&"function"==typeof(null===(t=crypto)||void 0===t?void 0:t.randomUUID))return crypto.randomUUID();var r=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof(null===(e=crypto)||void 0===e?void 0:e.getRandomValues))crypto.getRandomValues(r);else for(var n=0;n<32;n++)r[n]=Math.floor(255*Math.random());return X(r)}()),Cr(this,zr,0),Cr(this,Vr,null)}),[{key:"getFromFile",value:(n=Sr(_r().mark((function t(e){var r,n,i,a;return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.lastModified,n=e.name,i=e.size,a=e.type,t.abrupt("return",Fr(qr,this,Xr).call(this,"".concat(r,"_").concat(n,"_").concat(i,"_").concat(a),e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"getFromUrl",value:(r=Sr(_r().mark((function t(e){return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Fr(qr,this,Xr).call(this,e,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"getFromBlob",value:(e=Sr(_r().mark((function t(e,r){var n;return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r;case 2:return n=t.sent,t.abrupt("return",Fr(qr,this,Xr).call(this,e,n));case 4:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"getFromId",value:(t=Sr(_r().mark((function t(e){var r,n;return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ir(Vr,this)||Rr(Vr,this,new Map),r=Ir(Vr,this).get(e)){t.next=4;break}return t.abrupt("return",null);case 4:if(!r.bitmap){t.next=7;break}return r.refCounter+=1,t.abrupt("return",r);case 7:if(!r.file){t.next=9;break}return t.abrupt("return",this.getFromFile(r.file));case 9:if(!r.blobPromise){t.next=13;break}return n=r.blobPromise,delete r.blobPromise,t.abrupt("return",this.getFromBlob(r.id,n));case 13:return t.abrupt("return",this.getFromUrl(r.url));case 14:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"getFromCanvas",value:function(t,e){var r,n,i;Ir(Vr,this)||Rr(Vr,this,new Map);var a=Ir(Vr,this).get(t);if(null!==(i=a)&&void 0!==i&&i.bitmap)return a.refCounter+=1,a;var o=new OffscreenCanvas(e.width,e.height);return o.getContext("2d").drawImage(e,0,0),a={bitmap:o.transferToImageBitmap(),id:"image_".concat(Ir(Ur,this),"_").concat((Rr(zr,this,(r=Ir(zr,this),n=r++,r)),n)),refCounter:1,isSvg:!1},Ir(Vr,this).set(t,a),Ir(Vr,this).set(a.id,a),a}},{key:"getSvgUrl",value:function(t){var e=Ir(Vr,this).get(t);return null!=e&&e.isSvg?e.svgUrl:null}},{key:"deleteId",value:function(t){var e;Ir(Vr,this)||Rr(Vr,this,new Map);var r=Ir(Vr,this).get(t);if(r&&(r.refCounter-=1,0===r.refCounter)){var n=r.bitmap;if(!r.url&&!r.file){var i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=i.convertToBlob()}null===(e=n.close)||void 0===e||e.call(n),r.bitmap=null}}},{key:"isValidId",value:function(t){return t.startsWith("image_".concat(Ir(Ur,this),"_"))}}],[{key:"_isSVGFittingCanvas",get:function(){var t=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',W(this,"_isSVGFittingCanvas",e.decode().then((function(){return t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]})))}}]);var t,e,r,n}();function Xr(t,e){return Kr.apply(this,arguments)}function Kr(){return(Kr=Sr(_r().mark((function t(e,r){var n,i,a,o,s,u,c,l,h;return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ir(Vr,this)||Rr(Vr,this,new Map),null!==(i=Ir(Vr,this).get(e))){t.next=4;break}return t.abrupt("return",null);case 4:if(null===(n=i)||void 0===n||!n.bitmap){t.next=7;break}return i.refCounter+=1,t.abrupt("return",i);case 7:if(t.prev=7,i||(i={bitmap:null,id:"image_".concat(Ir(Ur,this),"_").concat((Rr(zr,this,(a=Ir(zr,this),o=a++,a)),o)),refCounter:0,isSvg:!1}),"string"!=typeof r){t.next=16;break}return i.url=r,t.next=13,ve(r,"blob");case 13:s=t.sent,t.next=17;break;case 16:r instanceof File?s=i.file=r:r instanceof Blob&&(s=r);case 17:if("image/svg+xml"!==s.type){t.next=27;break}return u=hr._isSVGFittingCanvas,c=new FileReader,l=new Image,h=new Promise((function(t,e){l.onload=function(){i.bitmap=l,i.isSvg=!0,t()},c.onload=Sr(_r().mark((function t(){var e;return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.svgUrl=c.result,t.next=3,u;case 3:if(!t.sent){t.next=7;break}t.t0="".concat(e,"#svgView(preserveAspectRatio(none))"),t.next=8;break;case 7:t.t0=e;case 8:l.src=t.t0;case 9:case"end":return t.stop()}}),t)}))),l.onerror=c.onerror=e})),c.readAsDataURL(s),t.next=25,h;case 25:t.next=30;break;case 27:return t.next=29,createImageBitmap(s);case 29:i.bitmap=t.sent;case 30:i.refCounter=1,t.next=37;break;case 33:t.prev=33,t.t0=t.catch(7),console.error(t.t0),i=null;case 37:return Ir(Vr,this).set(e,i),i&&Ir(Vr,this).set(i.id,i),t.abrupt("return",i);case 40:case"end":return t.stop()}}),t,this,[[7,33]])})))).apply(this,arguments)}hr=Yr;var Qr=new WeakMap,Jr=new WeakMap,$r=new WeakMap,Zr=new WeakMap,tn=function(){return Lr((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;Tr(this,t),Cr(this,Qr,[]),Cr(this,Jr,!1),Cr(this,$r,void 0),Cr(this,Zr,-1),Rr($r,this,e)}),[{key:"add",value:function(t){var e=t.cmd,r=t.undo,n=t.post,i=t.mustExec,a=t.type,o=void 0===a?NaN:a,s=t.overwriteIfSameType,u=void 0!==s&&s,c=t.keepUndo,l=void 0!==c&&c;if(i&&e(),!Ir(Jr,this)){var h={cmd:e,undo:r,post:n,type:o};if(-1===Ir(Zr,this))return Ir(Qr,this).length>0&&(Ir(Qr,this).length=0),Rr(Zr,this,0),void Ir(Qr,this).push(h);if(u&&Ir(Qr,this)[Ir(Zr,this)].type===o)return l&&(h.undo=Ir(Qr,this)[Ir(Zr,this)].undo),void(Ir(Qr,this)[Ir(Zr,this)]=h);var f=Ir(Zr,this)+1;f===Ir($r,this)?Ir(Qr,this).splice(0,1):(Rr(Zr,this,f),f<Ir(Qr,this).length&&Ir(Qr,this).splice(f)),Ir(Qr,this).push(h)}}},{key:"undo",value:function(){if(-1!==Ir(Zr,this)){Rr(Jr,this,!0);var t=Ir(Qr,this)[Ir(Zr,this)],e=t.undo,r=t.post;e(),null==r||r(),Rr(Jr,this,!1),Rr(Zr,this,Ir(Zr,this)-1)}}},{key:"redo",value:function(){if(Ir(Zr,this)<Ir(Qr,this).length-1){Rr(Zr,this,Ir(Zr,this)+1),Rr(Jr,this,!0);var t=Ir(Qr,this)[Ir(Zr,this)],e=t.cmd,r=t.post;e(),null==r||r(),Rr(Jr,this,!1)}}},{key:"hasSomethingToUndo",value:function(){return-1!==Ir(Zr,this)}},{key:"hasSomethingToRedo",value:function(){return Ir(Zr,this)<Ir(Qr,this).length-1}},{key:"destroy",value:function(){Rr(Qr,this,null)}}])}(),en=new WeakSet,rn=function(){return Lr((function t(e){Tr(this,t),Or(this,en),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;var r,n=J.platform.isMac,i=Dr(e);try{for(i.s();!(r=i.n()).done;){var a,o=Ar(r.value,3),s=o[0],u=o[1],c=o[2],l=void 0===c?{}:c,h=Dr(s);try{for(h.s();!(a=h.n()).done;){var f=a.value,d=f.startsWith("mac+");n&&d?(this.callbacks.set(f.slice(4),{callback:u,options:l}),this.allKeys.add(f.split("+").at(-1))):n||d||(this.callbacks.set(f,{callback:u,options:l}),this.allKeys.add(f.split("+").at(-1)))}}catch(t){h.e(t)}finally{h.f()}}}catch(t){i.e(t)}finally{i.f()}}),[{key:"exec",value:function(t,e){if(this.allKeys.has(e.key)){var r=this.callbacks.get(Fr(en,this,nn).call(this,e));if(r){var n=r.callback,i=r.options,a=i.bubbles,o=void 0!==a&&a,s=i.args,u=void 0===s?[]:s,c=i.checker,l=void 0===c?null:c;l&&!l(t,e)||(n.bind.apply(n,[t].concat(xr(u),[e]))(),o||(e.stopPropagation(),e.preventDefault()))}}}}])}();function nn(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);var e=this.buffer.join("+");return this.buffer.length=0,e}var an=function(){function t(){Tr(this,t)}return Lr(t,[{key:"_colors",get:function(){var t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){var e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);var r,n=xt(t.keys());try{for(n.s();!(r=n.n()).done;){var i=r.value;e.style.color=i;var a=window.getComputedStyle(e).color;t.set(i,Ce(a))}}catch(t){n.e(t)}finally{n.f()}e.remove()}(t),W(this,"_colors",t)}},{key:"convert",value:function(e){var r=Ce(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;var n,i=Dr(this._colors);try{for(i.s();!(n=i.n()).done;){var a=Ar(n.value,2),o=a[0];if(a[1].every((function(t,e){return t===r[e]})))return t._colorsMapping.get(o)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"getHexCode",value:function(t){var e=this._colors.get(t);return e?Z.makeHexColor.apply(Z,xr(e)):t}}])}();kr(an,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var on,sn=new WeakMap,un=new WeakMap,cn=new WeakMap,ln=new WeakMap,hn=new WeakMap,fn=new WeakMap,dn=new WeakMap,vn=new WeakMap,pn=new WeakMap,yn=new WeakMap,gn=new WeakMap,mn=new WeakMap,bn=new WeakMap,wn=new WeakMap,kn=new WeakMap,xn=new WeakMap,An=new WeakMap,_n=new WeakMap,En=new WeakMap,Sn=new WeakMap,On=new WeakMap,Tn=new WeakMap,Pn=new WeakMap,Ln=new WeakMap,Mn=new WeakMap,Cn=new WeakMap,jn=new WeakMap,In=new WeakMap,Rn=new WeakMap,Fn=new WeakMap,Dn=new WeakMap,Nn=new WeakMap,Wn=new WeakMap,Bn=new WeakMap,Gn=new WeakMap,Hn=new WeakMap,Un=new WeakMap,zn=new WeakMap,Vn=new WeakMap,qn=new WeakMap,Yn=new WeakMap,Xn=new WeakSet,Kn=function(){function t(e,r,n,i,a,o,s,u,c,l,h){var f=this;Tr(this,t),Or(this,Xn),Cr(this,sn,new AbortController),Cr(this,un,null),Cr(this,cn,new Map),Cr(this,ln,new Map),Cr(this,hn,null),Cr(this,fn,null),Cr(this,dn,null),Cr(this,vn,new tn),Cr(this,pn,null),Cr(this,yn,0),Cr(this,gn,new Set),Cr(this,mn,null),Cr(this,bn,null),Cr(this,wn,new Set),Cr(this,kn,!1),Cr(this,xn,!1),Cr(this,An,!1),Cr(this,_n,null),Cr(this,En,null),Cr(this,Sn,null),Cr(this,On,null),Cr(this,Tn,!1),Cr(this,Pn,null),Cr(this,Ln,new Hr),Cr(this,Mn,!1),Cr(this,Cn,!1),Cr(this,jn,null),Cr(this,In,null),Cr(this,Rn,null),Cr(this,Fn,null),Cr(this,Dn,A.NONE),Cr(this,Nn,new Set),Cr(this,Wn,null),Cr(this,Bn,null),Cr(this,Gn,null),Cr(this,Hn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),Cr(this,Un,[0,0]),Cr(this,zn,null),Cr(this,Vn,null),Cr(this,qn,null),Cr(this,Yn,null);var d=this._signal=Ir(sn,this).signal;Rr(Vn,this,e),Rr(qn,this,r),Rr(hn,this,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:d}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:d}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:d}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:d}),i._on("setpreference",this.onSetPreference.bind(this),{signal:d}),i._on("switchannotationeditorparams",(function(t){return f.updateParams(t.type,t.value)}),{signal:d}),Fr(Xn,this,ei).call(this),Fr(Xn,this,ui).call(this),Fr(Xn,this,ii).call(this),Rr(fn,this,a.annotationStorage),Rr(_n,this,a.filterFactory),Rr(Bn,this,o),Rr(On,this,s||null),Rr(kn,this,u),Rr(xn,this,c),Rr(An,this,l),Rr(Fn,this,h||null),this.viewParameters={realScale:Vt.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}return Lr(t,[{key:"destroy",value:function(){var t,e,r,n;null===(t=Ir(Yn,this))||void 0===t||t.resolve(),Rr(Yn,this,null),null===(e=Ir(sn,this))||void 0===e||e.abort(),Rr(sn,this,null),this._signal=null;var i,a=Dr(Ir(ln,this).values());try{for(a.s();!(i=a.n()).done;)i.value.destroy()}catch(t){a.e(t)}finally{a.f()}Ir(ln,this).clear(),Ir(cn,this).clear(),Ir(wn,this).clear(),Rr(un,this,null),Ir(Nn,this).clear(),Ir(vn,this).destroy(),null===(r=Ir(hn,this))||void 0===r||r.destroy(),null===(n=Ir(Pn,this))||void 0===n||n.hide(),Rr(Pn,this,null),Ir(En,this)&&(clearTimeout(Ir(En,this)),Rr(En,this,null)),Ir(zn,this)&&(clearTimeout(Ir(zn,this)),Rr(zn,this,null))}},{key:"combinedSignal",value:function(t){return AbortSignal.any([this._signal,t.signal])}},{key:"mlManager",get:function(){return Ir(Fn,this)}},{key:"useNewAltTextFlow",get:function(){return Ir(xn,this)}},{key:"useNewAltTextWhenAddingImage",get:function(){return Ir(An,this)}},{key:"hcmFilter",get:function(){return W(this,"hcmFilter",Ir(Bn,this)?Ir(_n,this).addHCMFilter(Ir(Bn,this).foreground,Ir(Bn,this).background):"none")}},{key:"direction",get:function(){return W(this,"direction",getComputedStyle(Ir(Vn,this)).direction)}},{key:"highlightColors",get:function(){return W(this,"highlightColors",Ir(On,this)?new Map(Ir(On,this).split(",").map((function(t){return t.split("=").map((function(t){return t.trim()}))}))):null)}},{key:"highlightColorNames",get:function(){return W(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(function(t){return t.reverse()}))):null)}},{key:"setMainHighlightColorPicker",value:function(t){Rr(Rn,this,t)}},{key:"editAltText",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(e=Ir(hn,this))||void 0===e||e.editAltText(this,t,r)}},{key:"switchToMode",value:function(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}},{key:"setPreference",value:function(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}},{key:"onSetPreference",value:function(t){var e=t.name,r=t.value;"enableNewAltTextWhenAddingImage"===e&&Rr(An,this,r)}},{key:"onPageChanging",value:function(t){var e=t.pageNumber;Rr(yn,this,e-1)}},{key:"focusMainContainer",value:function(){Ir(Vn,this).focus()}},{key:"findParent",value:function(t,e){var r,n=Dr(Ir(ln,this).values());try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.div.getBoundingClientRect(),o=a.x,s=a.y,u=a.width,c=a.height;if(t>=o&&t<=o+u&&e>=s&&e<=s+c)return i}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"disableUserSelect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ir(qn,this).classList.toggle("noUserSelect",t)}},{key:"addShouldRescale",value:function(t){Ir(wn,this).add(t)}},{key:"removeShouldRescale",value:function(t){Ir(wn,this).delete(t)}},{key:"onScaleChanging",value:function(t){var e=t.scale;this.commitOrRemove(),this.viewParameters.realScale=e*Vt.PDF_TO_CSS_UNITS;var r,n=Dr(Ir(wn,this));try{for(n.s();!(r=n.n()).done;)r.value.onScaleChanging()}catch(t){n.e(t)}finally{n.f()}}},{key:"onRotationChanging",value:function(t){var e=t.pagesRotation;this.commitOrRemove(),this.viewParameters.rotation=e}},{key:"highlightSelection",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=document.getSelection();if(r&&!r.isCollapsed){var n=r.anchorNode,i=r.anchorOffset,a=r.focusNode,o=r.focusOffset,s=r.toString(),u=Fr(Xn,this,Qn).call(this,r).closest(".textLayer"),c=this.getSelectionBoxes(u);if(c){r.empty();var l=Fr(Xn,this,Jn).call(this,u),h=Ir(Dn,this)===A.NONE,f=function(){null==l||l.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:o,text:s}),h&&t.showAllEditors("highlight",!0,!0)};h?this.switchToMode(A.HIGHLIGHT,f):f()}}}},{key:"addToAnnotationStorage",value:function(t){t.isEmpty()||!Ir(fn,this)||Ir(fn,this).has(t.id)||Ir(fn,this).setValue(t.id,t)}},{key:"blur",value:function(){if(this.isShiftKeyDown=!1,Ir(Tn,this)&&(Rr(Tn,this,!1),Fr(Xn,this,ti).call(this,"main_toolbar")),this.hasSelection){var t,e=document.activeElement,r=Dr(Ir(Nn,this));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.div.contains(e)){Rr(In,this,[n,e]),n._focusEventsAllowed=!1;break}}}catch(t){r.e(t)}finally{r.f()}}}},{key:"focus",value:function(){if(Ir(In,this)){var t=Ar(Ir(In,this),2),e=t[0],r=t[1];Rr(In,this,null),r.addEventListener("focusin",(function(){e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),r.focus()}}},{key:"addEditListeners",value:function(){Fr(Xn,this,ii).call(this),Fr(Xn,this,oi).call(this)}},{key:"removeEditListeners",value:function(){Fr(Xn,this,ai).call(this),Fr(Xn,this,si).call(this)}},{key:"dragOver",value:function(t){var e,r=Dr(t.dataTransfer.items);try{for(r.s();!(e=r.n()).done;){var n,i=e.value.type,a=Dr(Ir(bn,this));try{for(a.s();!(n=a.n()).done;)if(n.value.isHandlingMimeForPasting(i))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}catch(t){a.e(t)}finally{a.f()}}}catch(t){r.e(t)}finally{r.f()}}},{key:"drop",value:function(t){var e,r=Dr(t.dataTransfer.items);try{for(r.s();!(e=r.n()).done;){var n,i=e.value,a=Dr(Ir(bn,this));try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.isHandlingMimeForPasting(i.type))return o.paste(i,this.currentLayer),void t.preventDefault()}}catch(t){a.e(t)}finally{a.f()}}}catch(t){r.e(t)}finally{r.f()}}},{key:"copy",value:function(t){var e;if(t.preventDefault(),null===(e=Ir(un,this))||void 0===e||e.commitOrRemove(),this.hasSelection){var r,n=[],i=Dr(Ir(Nn,this));try{for(i.s();!(r=i.n()).done;){var a=r.value.serialize(!0);a&&n.push(a)}}catch(t){i.e(t)}finally{i.f()}0!==n.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}}},{key:"cut",value:function(t){this.copy(t),this.delete()}},{key:"paste",value:(r=Sr(_r().mark((function t(e){var r,n,i,a,o,s,u,c,l,h,f,d,v,p,y,g,m=this;return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),r=e.clipboardData,n=Dr(r.items),t.prev=3,n.s();case 5:if((i=n.n()).done){t.next=27;break}a=i.value,o=Dr(Ir(bn,this)),t.prev=8,o.s();case 10:if((s=o.n()).done){t.next=17;break}if(!(u=s.value).isHandlingMimeForPasting(a.type)){t.next=15;break}return u.paste(a,this.currentLayer),t.abrupt("return");case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),o.e(t.t0);case 22:return t.prev=22,o.f(),t.finish(22);case 25:t.next=5;break;case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(3),n.e(t.t1);case 32:return t.prev=32,n.f(),t.finish(32);case 35:if(c=r.getData("application/pdfjs")){t.next=38;break}return t.abrupt("return");case 38:t.prev=38,c=JSON.parse(c),t.next=46;break;case 42:return t.prev=42,t.t2=t.catch(38),R('paste: "'.concat(t.t2.message,'".')),t.abrupt("return");case 46:if(Array.isArray(c)){t.next=48;break}return t.abrupt("return");case 48:this.unselectAll(),l=this.currentLayer,t.prev=50,h=[],f=Dr(c),t.prev=53,f.s();case 55:if((d=f.n()).done){t.next=65;break}return v=d.value,t.next=59,l.deserialize(v);case 59:if(p=t.sent){t.next=62;break}return t.abrupt("return");case 62:h.push(p);case 63:t.next=55;break;case 65:t.next=70;break;case 67:t.prev=67,t.t3=t.catch(53),f.e(t.t3);case 70:return t.prev=70,f.f(),t.finish(70);case 73:y=function(){for(var t=0,e=h;t<e.length;t++){var r=e[t];Fr(Xn,m,vi).call(m,r)}Fr(Xn,m,yi).call(m,h)},g=function(){for(var t=0,e=h;t<e.length;t++)e[t].remove()},this.addCommands({cmd:y,undo:g,mustExec:!0}),t.next=81;break;case 78:t.prev=78,t.t4=t.catch(50),R('paste: "'.concat(t.t4.message,'".'));case 81:case"end":return t.stop()}}),t,this,[[3,29,32,35],[8,19,22,25],[38,42],[50,78],[53,67,70,73]])}))),function(t){return r.apply(this,arguments)})},{key:"keydown",value:function(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),Ir(Dn,this)===A.NONE||this.isEditorHandlingKeyboard||t._keyboardManager.exec(this,e)}},{key:"keyup",value:function(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,Ir(Tn,this)&&(Rr(Tn,this,!1),Fr(Xn,this,ti).call(this,"main_toolbar")))}},{key:"onEditingAction",value:function(t){var e=t.name;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}},{key:"setEditingState",value:function(t){t?(Fr(Xn,this,ri).call(this),Fr(Xn,this,oi).call(this),Fr(Xn,this,ci).call(this,{isEditing:Ir(Dn,this)!==A.NONE,isEmpty:Fr(Xn,this,pi).call(this),hasSomethingToUndo:Ir(vn,this).hasSomethingToUndo(),hasSomethingToRedo:Ir(vn,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(Fr(Xn,this,ni).call(this),Fr(Xn,this,si).call(this),Fr(Xn,this,ci).call(this,{isEditing:!1}),this.disableUserSelect(!1))}},{key:"registerEditorTypes",value:function(t){if(!Ir(bn,this)){Rr(bn,this,t);var e,r=Dr(Ir(bn,this));try{for(r.s();!(e=r.n()).done;){var n=e.value;Fr(Xn,this,li).call(this,n.defaultPropertiesToUpdate)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"getId",value:function(){return Ir(Ln,this).id}},{key:"currentLayer",get:function(){return Ir(ln,this).get(Ir(yn,this))}},{key:"getLayer",value:function(t){return Ir(ln,this).get(t)}},{key:"currentPageIndex",get:function(){return Ir(yn,this)}},{key:"addLayer",value:function(t){Ir(ln,this).set(t.pageIndex,t),Ir(Mn,this)?t.enable():t.disable()}},{key:"removeLayer",value:function(t){Ir(ln,this).delete(t.pageIndex)}},{key:"updateMode",value:(e=Sr(_r().mark((function t(e){var r,n,i,a,o,s,u,c=arguments;return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:null,n=c.length>2&&void 0!==c[2]&&c[2],Ir(Dn,this)!==e){t.next=4;break}return t.abrupt("return");case 4:if(!Ir(Yn,this)){t.next=9;break}return t.next=7,Ir(Yn,this).promise;case 7:if(Ir(Yn,this)){t.next=9;break}return t.abrupt("return");case 9:if(Rr(Yn,this,Promise.withResolvers()),Rr(Dn,this,e),e!==A.NONE){t.next=16;break}return this.setEditingState(!1),Fr(Xn,this,di).call(this),Ir(Yn,this).resolve(),t.abrupt("return");case 16:return this.setEditingState(!0),t.next=19,Fr(Xn,this,hi).call(this);case 19:this.unselectAll(),i=Dr(Ir(ln,this).values());try{for(i.s();!(a=i.n()).done;)a.value.updateMode(e)}catch(t){i.e(t)}finally{i.f()}if(r){t.next=26;break}return n&&this.addNewEditorFromKeyboard(),Ir(Yn,this).resolve(),t.abrupt("return");case 26:o=Dr(Ir(cn,this).values());try{for(o.s();!(s=o.n()).done;)(u=s.value).annotationElementId===r?(this.setSelected(u),u.enterInEditMode()):u.unselect()}catch(t){o.e(t)}finally{o.f()}Ir(Yn,this).resolve();case 29:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"addNewEditorFromKeyboard",value:function(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}},{key:"updateToolbar",value:function(t){t!==Ir(Dn,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}},{key:"updateParams",value:function(t,e){var r;if(Ir(bn,this)){switch(t){case _.CREATE:return void this.currentLayer.addNewEditor();case _.HIGHLIGHT_DEFAULT_COLOR:null===(r=Ir(Rn,this))||void 0===r||r.updateColor(e);break;case _.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Ir(Gn,this)||Rr(Gn,this,new Map)).set(t,e),this.showAllEditors("highlight",e)}var n,i=Dr(Ir(Nn,this));try{for(i.s();!(n=i.n()).done;)n.value.updateParams(t,e)}catch(t){i.e(t)}finally{i.f()}var a,o=Dr(Ir(bn,this));try{for(o.s();!(a=o.n()).done;)a.value.updateDefaultParams(t,e)}catch(t){o.e(t)}finally{o.f()}}}},{key:"showAllEditors",value:function(t,e){var r,n,i,a=Dr(Ir(cn,this).values());try{for(a.s();!(i=a.n()).done;){var o=i.value;o.editorType===t&&o.show(e)}}catch(t){a.e(t)}finally{a.f()}(null===(r=null===(n=Ir(Gn,this))||void 0===n?void 0:n.get(_.HIGHLIGHT_SHOW_ALL))||void 0===r||r)!==e&&Fr(Xn,this,li).call(this,[[_.HIGHLIGHT_SHOW_ALL,e]])}},{key:"enableWaiting",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Ir(Cn,this)!==t){Rr(Cn,this,t);var e,r=Dr(Ir(ln,this).values());try{for(r.s();!(e=r.n()).done;){var n=e.value;t?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",t)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"getEditors",value:function(t){var e,r=[],n=Dr(Ir(cn,this).values());try{for(n.s();!(e=n.n()).done;){var i=e.value;i.pageIndex===t&&r.push(i)}}catch(t){n.e(t)}finally{n.f()}return r}},{key:"getEditor",value:function(t){return Ir(cn,this).get(t)}},{key:"addEditor",value:function(t){Ir(cn,this).set(t.id,t)}},{key:"removeEditor",value:function(t){var e,r=this;t.div.contains(document.activeElement)&&(Ir(En,this)&&clearTimeout(Ir(En,this)),Rr(En,this,setTimeout((function(){r.focusMainContainer(),Rr(En,r,null)}),0))),Ir(cn,this).delete(t.id),this.unselect(t),t.annotationElementId&&Ir(gn,this).has(t.annotationElementId)||null===(e=Ir(fn,this))||void 0===e||e.remove(t.id)}},{key:"addDeletedAnnotationElement",value:function(t){Ir(gn,this).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}},{key:"isDeletedAnnotationElement",value:function(t){return Ir(gn,this).has(t)}},{key:"removeDeletedAnnotationElement",value:function(t){Ir(gn,this).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}},{key:"setActiveEditor",value:function(t){Ir(un,this)!==t&&(Rr(un,this,t),t&&Fr(Xn,this,li).call(this,t.propertiesToUpdate))}},{key:"updateUI",value:function(t){(function(t){var e,r=null,n=Dr(Ir(Nn,t));try{for(n.s();!(e=n.n()).done;)r=e.value}catch(t){n.e(t)}finally{n.f()}return r})(Fr(Xn,this))===t&&Fr(Xn,this,li).call(this,t.propertiesToUpdate)}},{key:"toggleSelected",value:function(t){if(Ir(Nn,this).has(t))return Ir(Nn,this).delete(t),t.unselect(),void Fr(Xn,this,ci).call(this,{hasSelectedEditor:this.hasSelection});Ir(Nn,this).add(t),t.select(),Fr(Xn,this,li).call(this,t.propertiesToUpdate),Fr(Xn,this,ci).call(this,{hasSelectedEditor:!0})}},{key:"setSelected",value:function(t){var e,r=Dr(Ir(Nn,this));try{for(r.s();!(e=r.n()).done;){var n=e.value;n!==t&&n.unselect()}}catch(t){r.e(t)}finally{r.f()}Ir(Nn,this).clear(),Ir(Nn,this).add(t),t.select(),Fr(Xn,this,li).call(this,t.propertiesToUpdate),Fr(Xn,this,ci).call(this,{hasSelectedEditor:!0})}},{key:"isSelected",value:function(t){return Ir(Nn,this).has(t)}},{key:"firstSelectedEditor",get:function(){return Ir(Nn,this).values().next().value}},{key:"unselect",value:function(t){t.unselect(),Ir(Nn,this).delete(t),Fr(Xn,this,ci).call(this,{hasSelectedEditor:this.hasSelection})}},{key:"hasSelection",get:function(){return 0!==Ir(Nn,this).size}},{key:"isEnterHandled",get:function(){return 1===Ir(Nn,this).size&&this.firstSelectedEditor.isEnterHandled}},{key:"undo",value:function(){Ir(vn,this).undo(),Fr(Xn,this,ci).call(this,{hasSomethingToUndo:Ir(vn,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Fr(Xn,this,pi).call(this)})}},{key:"redo",value:function(){Ir(vn,this).redo(),Fr(Xn,this,ci).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ir(vn,this).hasSomethingToRedo(),isEmpty:Fr(Xn,this,pi).call(this)})}},{key:"addCommands",value:function(t){Ir(vn,this).add(t),Fr(Xn,this,ci).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Fr(Xn,this,pi).call(this)})}},{key:"delete",value:function(){var t=this;if(this.commitOrRemove(),this.hasSelection){var e=xr(Ir(Nn,this));this.addCommands({cmd:function(){var t,r=Dr(e);try{for(r.s();!(t=r.n()).done;)t.value.remove()}catch(t){r.e(t)}finally{r.f()}},undo:function(){var r,n=Dr(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;Fr(Xn,t,vi).call(t,i)}}catch(t){n.e(t)}finally{n.f()}},mustExec:!0})}}},{key:"commitOrRemove",value:function(){var t;null===(t=Ir(un,this))||void 0===t||t.commitOrRemove()}},{key:"hasSomethingToControl",value:function(){return Ir(un,this)||this.hasSelection}},{key:"selectAll",value:function(){var t,e=Dr(Ir(Nn,this));try{for(e.s();!(t=e.n()).done;)t.value.commit()}catch(t){e.e(t)}finally{e.f()}Fr(Xn,this,yi).call(this,Ir(cn,this).values())}},{key:"unselectAll",value:function(){if((!Ir(un,this)||(Ir(un,this).commitOrRemove(),Ir(Dn,this)===A.NONE))&&this.hasSelection){var t,e=Dr(Ir(Nn,this));try{for(e.s();!(t=e.n()).done;)t.value.unselect()}catch(t){e.e(t)}finally{e.f()}Ir(Nn,this).clear(),Fr(Xn,this,ci).call(this,{hasSelectedEditor:!1})}}},{key:"translateSelectedEditors",value:function(t,e){var r=this;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),this.hasSelection){Ir(Un,this)[0]+=t,Ir(Un,this)[1]+=e;var n=Ar(Ir(Un,this),2),i=n[0],a=n[1],o=xr(Ir(Nn,this));Ir(zn,this)&&clearTimeout(Ir(zn,this)),Rr(zn,this,setTimeout((function(){Rr(zn,r,null),Ir(Un,r)[0]=Ir(Un,r)[1]=0,r.addCommands({cmd:function(){var t,e=Dr(o);try{for(e.s();!(t=e.n()).done;){var n=t.value;Ir(cn,r).has(n.id)&&n.translateInPage(i,a)}}catch(t){e.e(t)}finally{e.f()}},undo:function(){var t,e=Dr(o);try{for(e.s();!(t=e.n()).done;){var n=t.value;Ir(cn,r).has(n.id)&&n.translateInPage(-i,-a)}}catch(t){e.e(t)}finally{e.f()}},mustExec:!1})}),1e3));var s,u=Dr(o);try{for(u.s();!(s=u.n()).done;)s.value.translateInPage(t,e)}catch(t){u.e(t)}finally{u.f()}}}},{key:"setUpDragSession",value:function(){if(this.hasSelection){this.disableUserSelect(!0),Rr(mn,this,new Map);var t,e=Dr(Ir(Nn,this));try{for(e.s();!(t=e.n()).done;){var r=t.value;Ir(mn,this).set(r,{savedX:r.x,savedY:r.y,savedPageIndex:r.pageIndex,newX:0,newY:0,newPageIndex:-1})}}catch(t){e.e(t)}finally{e.f()}}}},{key:"endDragSession",value:function(){var t=this;if(!Ir(mn,this))return!1;this.disableUserSelect(!1);var e=Ir(mn,this);Rr(mn,this,null);var r,n=!1,i=Dr(e);try{for(i.s();!(r=i.n()).done;){var a=Ar(r.value,2),o=a[0],s=o.x,u=o.y,c=o.pageIndex,l=a[1];l.newX=s,l.newY=u,l.newPageIndex=c,n||(n=s!==l.savedX||u!==l.savedY||c!==l.savedPageIndex)}}catch(t){i.e(t)}finally{i.f()}if(!n)return!1;var h=function(e,r,n,i){if(Ir(cn,t).has(e.id)){var a=Ir(ln,t).get(i);a?e._setParentAndPosition(a,r,n):(e.pageIndex=i,e.x=r,e.y=n)}};return this.addCommands({cmd:function(){var t,r=Dr(e);try{for(r.s();!(t=r.n()).done;){var n=Ar(t.value,2),i=n[0],a=n[1],o=a.newX,s=a.newY,u=a.newPageIndex;h(i,o,s,u)}}catch(t){r.e(t)}finally{r.f()}},undo:function(){var t,r=Dr(e);try{for(r.s();!(t=r.n()).done;){var n=Ar(t.value,2),i=n[0],a=n[1],o=a.savedX,s=a.savedY,u=a.savedPageIndex;h(i,o,s,u)}}catch(t){r.e(t)}finally{r.f()}},mustExec:!0}),!0}},{key:"dragSelectedEditors",value:function(t,e){if(Ir(mn,this)){var r,n=Dr(Ir(mn,this).keys());try{for(n.s();!(r=n.n()).done;)r.value.drag(t,e)}catch(t){n.e(t)}finally{n.f()}}}},{key:"rebuild",value:function(t){if(null===t.parent){var e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}},{key:"isEditorHandlingKeyboard",get:function(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===Ir(Nn,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}},{key:"isActive",value:function(t){return Ir(un,this)===t}},{key:"getActive",value:function(){return Ir(un,this)}},{key:"getMode",value:function(){return Ir(Dn,this)}},{key:"imageManager",get:function(){return W(this,"imageManager",new Yr)}},{key:"getSelectionBoxes",value:function(t){if(!t)return null;for(var e=document.getSelection(),r=0,n=e.rangeCount;r<n;r++)if(!t.contains(e.getRangeAt(r).commonAncestorContainer))return null;var i,a=t.getBoundingClientRect(),o=a.x,s=a.y,u=a.width,c=a.height;switch(t.getAttribute("data-main-rotation")){case"90":i=function(t,e,r,n){return{x:(e-s)/c,y:1-(t+r-o)/u,width:n/c,height:r/u}};break;case"180":i=function(t,e,r,n){return{x:1-(t+r-o)/u,y:1-(e+n-s)/c,width:r/u,height:n/c}};break;case"270":i=function(t,e,r,n){return{x:1-(e+n-s)/c,y:(t-o)/u,width:n/c,height:r/u}};break;default:i=function(t,e,r,n){return{x:(t-o)/u,y:(e-s)/c,width:r/u,height:n/c}}}for(var l=[],h=0,f=e.rangeCount;h<f;h++){var d=e.getRangeAt(h);if(!d.collapsed){var v,p=Dr(d.getClientRects());try{for(p.s();!(v=p.n()).done;){var y=v.value,g=y.x,m=y.y,b=y.width,w=y.height;0!==b&&0!==w&&l.push(i(g,m,b,w))}}catch(t){p.e(t)}finally{p.f()}}}return 0===l.length?null:l}},{key:"addChangedExistingAnnotation",value:function(t){var e=t.annotationElementId,r=t.id;(Ir(dn,this)||Rr(dn,this,new Map)).set(e,r)}},{key:"removeChangedExistingAnnotation",value:function(t){var e,r=t.annotationElementId;null===(e=Ir(dn,this))||void 0===e||e.delete(r)}},{key:"renderAnnotationElement",value:function(t){var e,r=null===(e=Ir(dn,this))||void 0===e?void 0:e.get(t.data.id);if(r){var n=Ir(fn,this).getRawValue(r);n&&(Ir(Dn,this)!==A.NONE||n.hasBeenModified)&&n.renderAnnotationElement(t)}}}],[{key:"_keyboardManager",get:function(){var e=t.prototype,r=function(t){return Ir(Vn,t).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl()},n=function(t,e){var r=e.target;if(r instanceof HTMLInputElement){var n=r.type;return"text"!==n&&"number"!==n}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return W(this,"_keyboardManager",new rn([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:function(t,e){var r=e.target;return!(r instanceof HTMLButtonElement)&&Ir(Vn,t).contains(r)&&!t.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:function(t,e){return!(e.target instanceof HTMLButtonElement)&&Ir(Vn,t).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:r}]]))}}]);var e,r}();function Qn(t){var e=t.anchorNode;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}function Jn(t){var e=this.currentLayer;if(e.hasTextLayer(t))return e;var r,n=Dr(Ir(ln,this).values());try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.hasTextLayer(t))return i}}catch(t){n.e(t)}finally{n.f()}return null}function $n(){var t=document.getSelection();if(t&&!t.isCollapsed){var e=Fr(Xn,this,Qn).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(e);r&&(Ir(Pn,this)||Rr(Pn,this,new gr(this)),Ir(Pn,this).show(e,r,"ltr"===this.direction))}}function Zn(){var t,e=this,r=document.getSelection();if(r&&!r.isCollapsed){var n=r.anchorNode;if(n!==Ir(Wn,this)){var i,a=Fr(Xn,this,Qn).call(this,r).closest(".textLayer");if(a){if(null===(t=Ir(Pn,this))||void 0===t||t.hide(),Rr(Wn,this,n),Fr(Xn,this,ci).call(this,{hasSelectedText:!0}),(Ir(Dn,this)===A.HIGHLIGHT||Ir(Dn,this)===A.NONE)&&(Ir(Dn,this)===A.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Rr(Tn,this,this.isShiftKeyDown),!this.isShiftKeyDown)){var o=Ir(Dn,this)===A.HIGHLIGHT?Fr(Xn,this,Jn).call(this,a):null;null==o||o.toggleDrawing();var s=new AbortController,u=this.combinedSignal(s),c=function(t){"pointerup"===t.type&&0!==t.button||(s.abort(),null==o||o.toggleDrawing(!0),"pointerup"===t.type&&Fr(Xn,e,ti).call(e,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:u}),window.addEventListener("blur",c,{signal:u})}}else Ir(Wn,this)&&(null===(i=Ir(Pn,this))||void 0===i||i.hide(),Rr(Wn,this,null),Fr(Xn,this,ci).call(this,{hasSelectedText:!1}))}}else{var l;Ir(Wn,this)&&(null===(l=Ir(Pn,this))||void 0===l||l.hide(),Rr(Wn,this,null),Fr(Xn,this,ci).call(this,{hasSelectedText:!1}))}}function ti(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Ir(Dn,this)===A.HIGHLIGHT?this.highlightSelection(t):Ir(kn,this)&&Fr(Xn,this,$n).call(this)}function ei(){document.addEventListener("selectionchange",Fr(Xn,this,Zn).bind(this),{signal:this._signal})}function ri(){if(!Ir(Sn,this)){Rr(Sn,this,new AbortController);var t=this.combinedSignal(Ir(Sn,this));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}}function ni(){var t;null===(t=Ir(Sn,this))||void 0===t||t.abort(),Rr(Sn,this,null)}function ii(){if(!Ir(jn,this)){Rr(jn,this,new AbortController);var t=this.combinedSignal(Ir(jn,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}}function ai(){var t;null===(t=Ir(jn,this))||void 0===t||t.abort(),Rr(jn,this,null)}function oi(){if(!Ir(pn,this)){Rr(pn,this,new AbortController);var t=this.combinedSignal(Ir(pn,this));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}}function si(){var t;null===(t=Ir(pn,this))||void 0===t||t.abort(),Rr(pn,this,null)}function ui(){var t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}function ci(t){var e=this;Object.entries(t).some((function(t){var r=Ar(t,2),n=r[0],i=r[1];return Ir(Hn,e)[n]!==i}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ir(Hn,this),t)}),Ir(Dn,this)===A.HIGHLIGHT&&!1===t.hasSelectedEditor&&Fr(Xn,this,li).call(this,[[_.HIGHLIGHT_FREE,!0]]))}function li(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}function hi(){return fi.apply(this,arguments)}function fi(){return(fi=Sr(_r().mark((function t(){var e,r,n,i,a,o;return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ir(Mn,this)){t.next=9;break}Rr(Mn,this,!0),e=[],r=Dr(Ir(ln,this).values());try{for(r.s();!(n=r.n()).done;)i=n.value,e.push(i.enable())}catch(t){r.e(t)}finally{r.f()}return t.next=7,Promise.all(e);case 7:a=Dr(Ir(cn,this).values());try{for(a.s();!(o=a.n()).done;)o.value.enable()}catch(t){a.e(t)}finally{a.f()}case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function di(){if(this.unselectAll(),Ir(Mn,this)){Rr(Mn,this,!1);var t,e=Dr(Ir(ln,this).values());try{for(e.s();!(t=e.n()).done;)t.value.disable()}catch(t){e.e(t)}finally{e.f()}var r,n=Dr(Ir(cn,this).values());try{for(n.s();!(r=n.n()).done;)r.value.disable()}catch(t){n.e(t)}finally{n.f()}}}function vi(t){var e=Ir(ln,this).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}function pi(){if(0===Ir(cn,this).size)return!0;if(1===Ir(cn,this).size){var t,e=Dr(Ir(cn,this).values());try{for(e.s();!(t=e.n()).done;)return t.value.isEmpty()}catch(t){e.e(t)}finally{e.f()}}return!1}function yi(t){var e,r=Dr(Ir(Nn,this));try{for(r.s();!(e=r.n()).done;)e.value.unselect()}catch(t){r.e(t)}finally{r.f()}Ir(Nn,this).clear();var n,i=Dr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.isEmpty()||(Ir(Nn,this).add(a),a.select())}}catch(t){i.e(t)}finally{i.f()}Fr(Xn,this,ci).call(this,{hasSelectedEditor:this.hasSelection})}function gi(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return mi(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mi(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function mi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bi(){bi=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function wi(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ki(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){wi(a,n,i,o,s,"next",t)}function s(t){wi(a,n,i,o,s,"throw",t)}o(void 0)}))}}function xi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ai(n.key),n)}}function Ai(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function _i(t,e,r){Ei(t,e),e.set(t,r)}function Ei(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Si(t,e,r){return r(Pi(t,e))}function Oi(t,e){return t.get(Pi(t,e))}function Ti(t,e,r){return t.set(Pi(t,e),r),r}function Pi(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}kr(Kn,"TRANSLATE_SMALL",1),kr(Kn,"TRANSLATE_BIG",10);var Li=new WeakMap,Mi=new WeakMap,Ci=new WeakMap,ji=new WeakMap,Ii=new WeakMap,Ri=new WeakMap,Fi=new WeakMap,Di=new WeakMap,Ni=new WeakMap,Wi=new WeakMap,Bi=new WeakMap,Gi=new WeakSet,Hi=function(){function t(e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ei(this,r=Gi),r.add(this),_i(this,Li,null),_i(this,Mi,!1),_i(this,Ci,null),_i(this,ji,null),_i(this,Ii,null),_i(this,Ri,!1),_i(this,Fi,null),_i(this,Di,null),_i(this,Ni,null),_i(this,Wi,null),_i(this,Bi,!1),Ti(Di,this,e),Ti(Bi,this,e._uiManager.useNewAltTextFlow),Ki._||(Ki._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button-label"}))}return e=t,r=[{key:"render",value:function(){var e=ki(bi().mark((function e(){var r,n,i,a,o=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ti(Ci,this,document.createElement("button"))).className="altText",!Oi(Bi,this)){e.next=9;break}return r.classList.add("new"),e.next=6,t._l10nPromise.get(Ki._.missing);case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,t._l10nPromise.get("pdfjs-editor-alt-text-button-label");case 11:n=e.sent;case 12:return r.textContent=n,r.setAttribute("aria-label",n),r.tabIndex="0",i=Oi(Di,this)._uiManager._signal,r.addEventListener("contextmenu",Te,{signal:i}),r.addEventListener("pointerdown",(function(t){return t.stopPropagation()}),{signal:i}),a=function(t){t.preventDefault(),Oi(Di,o)._uiManager.editAltText(Oi(Di,o)),Oi(Bi,o)&&Oi(Di,o)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:Si(Gi,o,Ui)}})},r.addEventListener("click",a,{capture:!0,signal:i}),r.addEventListener("keydown",(function(t){t.target===r&&"Enter"===t.key&&(Ti(Ri,o,!0),a(t))}),{signal:i}),e.next=23,Pi(Gi,this,zi).call(this);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"finish",value:function(){Oi(Ci,this)&&(Oi(Ci,this).focus({focusVisible:Oi(Ri,this)}),Ti(Ri,this,!1))}},{key:"isEmpty",value:function(){return Oi(Bi,this)?null===Oi(Li,this):!Oi(Li,this)&&!Oi(Mi,this)}},{key:"hasData",value:function(){return Oi(Bi,this)?null!==Oi(Li,this)||!!Oi(Ni,this):this.isEmpty()}},{key:"guessedText",get:function(){return Oi(Ni,this)}},{key:"setGuessedText",value:(i=ki(bi().mark((function e(r){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===Oi(Li,this)){e.next=2;break}return e.abrupt("return");case 2:return Ti(Ni,this,r),e.t0=Ti,e.t1=Wi,e.t2=this,e.next=8,t._l10nPromise.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer")({generatedAltText:r});case 8:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pi(Gi,this,zi).call(this);case 11:case"end":return e.stop()}}),e,this)}))),function(t){return i.apply(this,arguments)})},{key:"toggleAltTextBadge",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!Oi(Bi,this)||Oi(Li,this))return null===(t=Oi(Fi,this))||void 0===t||t.remove(),void Ti(Fi,this,null);if(!Oi(Fi,this)){var r=Ti(Fi,this,document.createElement("div"));r.className="noAltTextBadge",Oi(Di,this).div.append(r)}Oi(Fi,this).classList.toggle("hidden",!e)}},{key:"serialize",value:function(t){var e=Oi(Li,this);return t||Oi(Ni,this)!==e||(e=Oi(Wi,this)),{altText:e,decorative:Oi(Mi,this),guessedText:Oi(Ni,this),textWithDisclaimer:Oi(Wi,this)}}},{key:"data",get:function(){return{altText:Oi(Li,this),decorative:Oi(Mi,this)}},set:function(t){var e=t.altText,r=t.decorative,n=t.guessedText,i=t.textWithDisclaimer,a=t.cancel,o=void 0!==a&&a;n&&(Ti(Ni,this,n),Ti(Wi,this,i)),Oi(Li,this)===e&&Oi(Mi,this)===r||(o||(Ti(Li,this,e),Ti(Mi,this,r)),Pi(Gi,this,zi).call(this))}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Oi(Ci,this)&&(!t&&Oi(Ii,this)&&(clearTimeout(Oi(Ii,this)),Ti(Ii,this,null)),Oi(Ci,this).disabled=!t)}},{key:"shown",value:function(){Oi(Di,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:Si(Gi,this,Ui)}})}},{key:"destroy",value:function(){var t,e;null===(t=Oi(Ci,this))||void 0===t||t.remove(),Ti(Ci,this,null),Ti(ji,this,null),null===(e=Oi(Fi,this))||void 0===e||e.remove(),Ti(Fi,this,null)}}],n=[{key:"initialize",value:function(e){t._l10nPromise||(t._l10nPromise=e)}}],r&&xi(e.prototype,r),n&&xi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,i}();function Ui(t){return(Oi(Li,t)?"added":null===Oi(Li,t)&&t.guessedText&&"review")||"missing"}function zi(){return Vi.apply(this,arguments)}function Vi(){return(Vi=ki(bi().mark((function t(){var e,r,n,i,a,o,s=this;return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Oi(Ci,this)){t.next=3;break}return t.abrupt("return");case 3:if(!Oi(Bi,this)){t.next=11;break}if(e.classList.toggle("done",!!Oi(Li,this)),on._l10nPromise.get(Ki._[Si(Gi,this,Ui)]).then((function(t){e.setAttribute("aria-label",t);var r,n=gi(e.childNodes);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.nodeType===Node.TEXT_NODE){i.textContent=t;break}}}catch(t){n.e(t)}finally{n.f()}})),Oi(Li,this)){t.next=9;break}return null===(r=Oi(ji,this))||void 0===r||r.remove(),t.abrupt("return");case 9:t.next=17;break;case 11:if(Oi(Li,this)||Oi(Mi,this)){t.next=15;break}return e.classList.remove("done"),null===(n=Oi(ji,this))||void 0===n||n.remove(),t.abrupt("return");case 15:e.classList.add("done"),on._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((function(t){e.setAttribute("aria-label",t)}));case 17:if((i=Oi(ji,this))||(Ti(ji,this,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id="alt-text-tooltip-".concat(Oi(Di,this).id),(a=Oi(Di,this)._uiManager._signal).addEventListener("abort",(function(){clearTimeout(Oi(Ii,s)),Ti(Ii,s,null)}),{once:!0}),e.addEventListener("mouseenter",(function(){Ti(Ii,s,setTimeout((function(){Ti(Ii,s,null),Oi(ji,s).classList.add("show"),Oi(Di,s)._reportTelemetry({action:"alt_text_tooltip"})}),100))}),{signal:a}),e.addEventListener("mouseleave",(function(){var t;Oi(Ii,s)&&(clearTimeout(Oi(Ii,s)),Ti(Ii,s,null)),null===(t=Oi(ji,s))||void 0===t||t.classList.remove("show")}),{signal:a})),!Oi(Mi,this)){t.next=25;break}return t.next=22,on._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip");case 22:t.t0=t.sent,t.next=26;break;case 25:t.t0=Oi(Li,this);case 26:i.innerText=t.t0,i.parentNode||e.append(i),null==(o=Oi(Di,this).getImageForAltText())||o.setAttribute("aria-describedby",i.id);case 30:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}on=Hi;var qi,Yi,Xi,Ki={_:null};function Qi(t,e,r){return e=$i(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ji()?Reflect.construct(e,r||[],$i(t).constructor):e.apply(t,r))}function Ji(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ji=function(){return!!t})()}function $i(t){return $i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$i(t)}function Zi(t,e){return Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zi(t,e)}function ta(t){return function(t){if(Array.isArray(t))return sa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||oa(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=oa(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function ra(){ra=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function na(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ia(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){na(a,n,i,o,s,"next",t)}function s(t){na(a,n,i,o,s,"throw",t)}o(void 0)}))}}function aa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||oa(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oa(t,e){if(t){if("string"==typeof t)return sa(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sa(t,e):void 0}}function sa(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ua(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ca(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fa(n.key),n)}}function la(t,e,r){return e&&ca(t.prototype,e),r&&ca(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ha(t,e,r){return(e=fa(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fa(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function da(t,e,r){va(t,e),e.set(t,r)}function va(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pa(t,e,r){return t.set(ga(t,e),r),r}function ya(t,e){return t.get(ga(t,e))}function ga(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}qi=Hi,(Yi=Ai(Yi="_l10nPromise"))in qi?Object.defineProperty(qi,Yi,{value:null,enumerable:!0,configurable:!0,writable:!0}):qi[Yi]=null;var ma=new WeakMap,ba=new WeakMap,wa=new WeakMap,ka=new WeakMap,xa=new WeakMap,Aa=new WeakMap,_a=new WeakMap,Ea=new WeakMap,Sa=new WeakMap,Oa=new WeakMap,Ta=new WeakMap,Pa=new WeakMap,La=new WeakMap,Ma=new WeakMap,Ca=new WeakMap,ja=new WeakMap,Ia=new WeakMap,Ra=new WeakMap,Fa=new WeakMap,Da=new WeakMap,Na=new WeakSet,Wa=function(){function t(e){ua(this,t),function(t,e){va(t,e),e.add(t)}(this,Na),da(this,ma,null),da(this,ba,null),da(this,wa,null),da(this,ka,!1),da(this,xa,!1),da(this,Aa,null),da(this,_a,null),da(this,Ea,null),da(this,Sa,""),da(this,Oa,!1),da(this,Ta,null),da(this,Pa,!1),da(this,La,!1),da(this,Ma,!1),da(this,Ca,null),da(this,ja,0),da(this,Ia,0),da(this,Ra,null),ha(this,"_editToolbar",null),ha(this,"_initialOptions",Object.create(null)),ha(this,"_initialData",null),ha(this,"_isVisible",!0),ha(this,"_uiManager",null),ha(this,"_focusEventsAllowed",!0),da(this,Fa,!1),da(this,Da,t._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;var r=this.parent.viewport,n=r.rotation,i=r.rawDims,a=i.pageWidth,o=i.pageHeight,s=i.pageX,u=i.pageY;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,o],this.pageTranslation=[s,u];var c=aa(this.parentDimensions,2),l=c[0],h=c[1];this.x=e.x/l,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}return la(t,[{key:"editorType",get:function(){return Object.getPrototypeOf(this).constructor._type}},{key:"propertiesToUpdate",get:function(){return[]}},{key:"_isDraggable",get:function(){return ya(Fa,this)},set:function(t){var e;pa(Fa,this,t),null===(e=this.div)||void 0===e||e.classList.toggle("draggable",t)}},{key:"isEnterHandled",get:function(){return!0}},{key:"center",value:function(){var t=aa(this.pageDimensions,2),e=t[0],r=t[1];switch(this.parentRotation){case 90:this.x-=this.height*r/(2*e),this.y+=this.width*e/(2*r);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(2*e),this.y-=this.width*e/(2*r);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}},{key:"addCommands",value:function(t){this._uiManager.addCommands(t)}},{key:"currentLayer",get:function(){return this._uiManager.currentLayer}},{key:"setInBackground",value:function(){this.div.style.zIndex=0}},{key:"setInForeground",value:function(){this.div.style.zIndex=ya(Da,this)}},{key:"setParent",value:function(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):ga(Na,this,to).call(this),this.parent=t}},{key:"focusin",value:function(t){this._focusEventsAllowed&&(ya(Oa,this)?pa(Oa,this,!1):this.parent.setSelected(this))}},{key:"focusout",value:function(t){var e;if(this._focusEventsAllowed&&this.isAttachedToDOM){var r=t.relatedTarget;null!=r&&r.closest("#".concat(this.id))||(t.preventDefault(),null!==(e=this.parent)&&void 0!==e&&e.isMultipleSelection||this.commitOrRemove())}}},{key:"commitOrRemove",value:function(){this.isEmpty()?this.remove():this.commit()}},{key:"commit",value:function(){this.addToAnnotationStorage()}},{key:"addToAnnotationStorage",value:function(){this._uiManager.addToAnnotationStorage(this)}},{key:"setAt",value:function(t,e,r,n){var i=aa(this.parentDimensions,2),a=i[0],o=i[1],s=aa(this.screenToPageTranslation(r,n),2);r=s[0],n=s[1],this.x=(t+r)/a,this.y=(e+n)/o,this.fixAndSetPosition()}},{key:"translate",value:function(t,e){ga(Na,this,Ba).call(this,this.parentDimensions,t,e)}},{key:"translateInPage",value:function(t,e){ya(Ta,this)||pa(Ta,this,[this.x,this.y]),ga(Na,this,Ba).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}},{key:"drag",value:function(t,e){ya(Ta,this)||pa(Ta,this,[this.x,this.y]);var r=aa(this.parentDimensions,2),n=r[0],i=r[1];if(this.x+=t/n,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){var a=this.div.getBoundingClientRect(),o=a.x,s=a.y;this.parent.findNewParent(this,o,s)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}var u=this.x,c=this.y,l=aa(this.getBaseTranslation(),2);u+=l[0],c+=l[1],this.div.style.left="".concat((100*u).toFixed(2),"%"),this.div.style.top="".concat((100*c).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}},{key:"_hasBeenMoved",get:function(){return!!ya(Ta,this)&&(ya(Ta,this)[0]!==this.x||ya(Ta,this)[1]!==this.y)}},{key:"getBaseTranslation",value:function(){var e=aa(this.parentDimensions,2),r=e[0],n=e[1],i=t._borderLineWidth,a=i/r,o=i/n;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}},{key:"_mustFixPosition",get:function(){return!0}},{key:"fixAndSetPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation,e=aa(this.pageDimensions,2),r=e[0],n=e[1],i=this.x,a=this.y,o=this.width,s=this.height;if(o*=r,s*=n,i*=r,a*=n,this._mustFixPosition)switch(t){case 0:i=Math.max(0,Math.min(r-o,i)),a=Math.max(0,Math.min(n-s,a));break;case 90:i=Math.max(0,Math.min(r-s,i)),a=Math.min(n,Math.max(o,a));break;case 180:i=Math.min(r,Math.max(o,i)),a=Math.min(n,Math.max(s,a));break;case 270:i=Math.min(r,Math.max(s,i)),a=Math.max(0,Math.min(n-o,a))}this.x=i/=r,this.y=a/=n;var u=aa(this.getBaseTranslation(),2);i+=u[0],a+=u[1];var c=this.div.style;c.left="".concat((100*i).toFixed(2),"%"),c.top="".concat((100*a).toFixed(2),"%"),this.moveInDOM()}},{key:"screenToPageTranslation",value:function(e,r){return Ga.call(t,e,r,this.parentRotation)}},{key:"pageTranslationToScreen",value:function(e,r){return Ga.call(t,e,r,360-this.parentRotation)}},{key:"parentScale",get:function(){return this._uiManager.viewParameters.realScale}},{key:"parentRotation",get:function(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}},{key:"parentDimensions",get:function(){var t=this.parentScale,e=aa(this.pageDimensions,2);return[e[0]*t,e[1]*t]}},{key:"setDims",value:function(t,e){var r=aa(this.parentDimensions,2),n=r[0],i=r[1];this.div.style.width="".concat((100*t/n).toFixed(2),"%"),ya(xa,this)||(this.div.style.height="".concat((100*e/i).toFixed(2),"%"))}},{key:"fixDims",value:function(){var t=this.div.style,e=t.height,r=t.width,n=r.endsWith("%"),i=!ya(xa,this)&&e.endsWith("%");if(!n||!i){var a=aa(this.parentDimensions,2),o=a[0],s=a[1];n||(t.width="".concat((100*parseFloat(r)/o).toFixed(2),"%")),ya(xa,this)||i||(t.height="".concat((100*parseFloat(e)/s).toFixed(2),"%"))}}},{key:"getInitialTranslation",value:function(){return[0,0]}},{key:"altTextFinish",value:function(){var t;null===(t=ya(wa,this))||void 0===t||t.finish()}},{key:"addEditToolbar",value:(i=ia(ra().mark((function t(){return ra().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._editToolbar&&!ya(La,this)){t.next=2;break}return t.abrupt("return",this._editToolbar);case 2:if(this._editToolbar=new ir(this),this.div.append(this._editToolbar.render()),!ya(wa,this)){t.next=7;break}return t.next=7,this._editToolbar.addAltText(ya(wa,this));case 7:return t.abrupt("return",this._editToolbar);case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"removeEditToolbar",value:function(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(t=ya(wa,this))||void 0===t||t.destroy())}},{key:"addContainer",value:function(t){var e,r=null===(e=this._editToolbar)||void 0===e?void 0:e.div;r?r.before(t):this.div.append(t)}},{key:"getClientDimensions",value:function(){return this.div.getBoundingClientRect()}},{key:"addAltTextButton",value:(n=ia(ra().mark((function e(){return ra().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ya(wa,this)){e.next=2;break}return e.abrupt("return");case 2:return Hi.initialize(t._l10nPromise),pa(wa,this,new Hi(this)),ya(ma,this)&&(ya(wa,this).data=ya(ma,this),pa(ma,this,null)),e.next=7,this.addEditToolbar();case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"altTextData",get:function(){var t;return null===(t=ya(wa,this))||void 0===t?void 0:t.data},set:function(t){ya(wa,this)&&(ya(wa,this).data=t)}},{key:"guessedAltText",get:function(){var t;return null===(t=ya(wa,this))||void 0===t?void 0:t.guessedText}},{key:"setGuessedAltText",value:(r=ia(ra().mark((function t(e){var r;return ra().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(r=ya(wa,this))||void 0===r?void 0:r.setGuessedText(e);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"serializeAltText",value:function(t){var e;return null===(e=ya(wa,this))||void 0===e?void 0:e.serialize(t)}},{key:"hasAltText",value:function(){return!!ya(wa,this)&&!ya(wa,this).isEmpty()}},{key:"hasAltTextData",value:function(){var t,e;return null!==(t=null===(e=ya(wa,this))||void 0===e?void 0:e.hasData())&&void 0!==t&&t}},{key:"render",value:function(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=ya(ka,this)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ga(Na,this,Ka).call(this);var t=aa(this.parentDimensions,2),e=t[0],r=t[1];this.parentRotation%180!=0&&(this.div.style.maxWidth="".concat((100*r/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/r).toFixed(2),"%"));var n=aa(this.getInitialTranslation(),2),i=n[0],a=n[1];return this.translate(i,a),Br(this,this.div,["pointerdown"]),this.div}},{key:"pointerdown",value:function(t){var e=J.platform.isMac;0!==t.button||t.ctrlKey&&e?t.preventDefault():(pa(Oa,this,!0),this._isDraggable?ga(Na,this,Xa).call(this,t):ga(Na,this,Ya).call(this,t))}},{key:"isSelected",get:function(){return this._uiManager.isSelected(this)}},{key:"moveInDOM",value:function(){var t=this;ya(Ca,this)&&clearTimeout(ya(Ca,this)),pa(Ca,this,setTimeout((function(){var e;pa(Ca,t,null),null===(e=t.parent)||void 0===e||e.moveEditorInDOM(t)}),0))}},{key:"_setParentAndPosition",value:function(t,e,r){t.changeParent(this),this.x=e,this.y=r,this.fixAndSetPosition()}},{key:"getRect",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation,n=this.parentScale,i=aa(this.pageDimensions,2),a=i[0],o=i[1],s=aa(this.pageTranslation,2),u=s[0],c=s[1],l=t/n,h=e/n,f=this.x*a,d=this.y*o,v=this.width*a,p=this.height*o;switch(r){case 0:return[f+l+u,o-d-h-p+c,f+l+v+u,o-d-h+c];case 90:return[f+h+u,o-d+l+c,f+h+p+u,o-d+l+v+c];case 180:return[f-l-v+u,o-d+h+c,f-l+u,o-d+h+p+c];case 270:return[f-h-p+u,o-d-l-v+c,f-h+u,o-d-l+c];default:throw new Error("Invalid rotation")}}},{key:"getRectInCurrentCoords",value:function(t,e){var r=aa(t,4),n=r[0],i=r[1],a=r[2],o=r[3],s=a-n,u=o-i;switch(this.rotation){case 0:return[n,e-o,s,u];case 90:return[n,e-i,u,s];case 180:return[a,e-i,s,u];case 270:return[a,e-o,u,s];default:throw new Error("Invalid rotation")}}},{key:"onceAdded",value:function(){}},{key:"isEmpty",value:function(){return!1}},{key:"enableEditMode",value:function(){pa(La,this,!0)}},{key:"disableEditMode",value:function(){pa(La,this,!1)}},{key:"isInEditMode",value:function(){return ya(La,this)}},{key:"shouldGetKeyboardEvents",value:function(){return ya(Ma,this)}},{key:"needsToBeRebuilt",value:function(){return this.div&&!this.isAttachedToDOM}},{key:"rebuild",value:function(){ga(Na,this,Ka).call(this)}},{key:"rotate",value:function(t){}},{key:"serializeDeleted",value:function(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}},{key:"serialize",value:function(){F("An editor must be serializable")}},{key:"hasBeenModified",get:function(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}},{key:"remove",value:function(){var t;if(null===(t=ya(Ea,this))||void 0===t||t.abort(),pa(Ea,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),ya(Ca,this)&&(clearTimeout(ya(Ca,this)),pa(Ca,this,null)),ga(Na,this,to).call(this),this.removeEditToolbar(),ya(Ra,this)){var e,r=ea(ya(Ra,this).values());try{for(r.s();!(e=r.n()).done;){var n=e.value;clearTimeout(n)}}catch(t){r.e(t)}finally{r.f()}pa(Ra,this,null)}this.parent=null}},{key:"isResizable",get:function(){return!1}},{key:"makeResizable",value:function(){this.isResizable&&(ga(Na,this,Ua).call(this),ya(Aa,this).classList.remove("hidden"),Br(this,this.div,["keydown"]))}},{key:"toolbarPosition",get:function(){return null}},{key:"keydown",value:function(e){if(this.isResizable&&e.target===this.div&&"Enter"===e.key){this._uiManager.setSelected(this),pa(_a,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});var r=ya(Aa,this).children;if(!ya(ba,this)){pa(ba,this,Array.from(r));var n,i=ga(Na,this,Qa).bind(this),a=ga(Na,this,Ja).bind(this),o=this._uiManager._signal,s=ea(ya(ba,this));try{for(s.s();!(n=s.n()).done;){var u=n.value,c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",i,{signal:o}),u.addEventListener("blur",a,{signal:o}),u.addEventListener("focus",ga(Na,this,$a).bind(this,c),{signal:o}),u.setAttribute("data-l10n-id",t._l10nResizer[c])}}catch(t){s.e(t)}finally{s.f()}}var l,h=ya(ba,this)[0],f=0,d=ea(r);try{for(d.s();!(l=d.n()).done&&l.value!==h;)f++}catch(t){d.e(t)}finally{d.f()}var v=(360-this.rotation+this.parentRotation)%360/90*(ya(ba,this).length/4);if(v!==f){if(v<f)for(var p=0;p<f-v;p++)ya(Aa,this).append(ya(Aa,this).firstChild);else if(v>f)for(var y=0;y<v-f;y++)ya(Aa,this).firstChild.before(ya(Aa,this).lastChild);var g,m=0,b=ea(r);try{for(b.s();!(g=b.n()).done;){var w=g.value,k=ya(ba,this)[m++].getAttribute("data-resizer-name");w.setAttribute("data-l10n-id",t._l10nResizer[k])}}catch(t){b.e(t)}finally{b.f()}}ga(Na,this,Za).call(this,0),pa(Ma,this,!0),ya(Aa,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}}},{key:"_resizeWithKeyboard",value:function(t,e){ya(Ma,this)&&ga(Na,this,qa).call(this,ya(Sa,this),{movementX:t,movementY:e})}},{key:"_stopResizingWithKeyboard",value:function(){ga(Na,this,to).call(this),this.div.focus()}},{key:"select",value:function(){var t,e,r,n=this;this.makeResizable(),null===(t=this.div)||void 0===t||t.classList.add("selectedEditor"),this._editToolbar?(null===(e=this._editToolbar)||void 0===e||e.show(),null===(r=ya(wa,this))||void 0===r||r.toggleAltTextBadge(!1)):this.addEditToolbar().then((function(){var t,e;null!==(t=n.div)&&void 0!==t&&t.classList.contains("selectedEditor")&&(null===(e=n._editToolbar)||void 0===e||e.show())}))}},{key:"unselect",value:function(){var t,e,r,n,i;null===(t=ya(Aa,this))||void 0===t||t.classList.add("hidden"),null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor"),null!==(r=this.div)&&void 0!==r&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(n=this._editToolbar)||void 0===n||n.hide(),null===(i=ya(wa,this))||void 0===i||i.toggleAltTextBadge(!0)}},{key:"updateParams",value:function(t,e){}},{key:"disableEditing",value:function(){}},{key:"enableEditing",value:function(){}},{key:"enterInEditMode",value:function(){}},{key:"getImageForAltText",value:function(){return null}},{key:"contentDiv",get:function(){return this.div}},{key:"isEditing",get:function(){return ya(Pa,this)},set:function(t){pa(Pa,this,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}},{key:"setAspectRatio",value:function(t,e){pa(xa,this,!0);var r=t/e,n=this.div.style;n.aspectRatio=r,n.height="auto"}},{key:"telemetryInitialData",get:function(){return{action:"added"}}},{key:"telemetryFinalData",get:function(){return null}},{key:"_reportTelemetry",value:function(e){var r=this;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){ya(Ra,this)||pa(Ra,this,new Map);var n=e.action,i=ya(Ra,this).get(n);return i&&clearTimeout(i),i=setTimeout((function(){r._reportTelemetry(e),ya(Ra,r).delete(n),0===ya(Ra,r).size&&pa(Ra,r,null)}),t._telemetryTimeout),void ya(Ra,this).set(n,i)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}},{key:"enable",value:function(){this.div&&(this.div.tabIndex=0),pa(ka,this,!1)}},{key:"disable",value:function(){this.div&&(this.div.tabIndex=-1),pa(ka,this,!0)}},{key:"renderAnnotationElement",value:function(t){var e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){var r=e;(e=document.createElement("div")).classList.add("annotationContent",this.editorType),r.before(e)}}else(e=document.createElement("div")).classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}},{key:"resetAnnotationElement",value:function(t){var e=t.container.firstChild;"DIV"===(null==e?void 0:e.nodeName)&&e.classList.contains("annotationContent")&&e.remove()}}],[{key:"_resizerKeyboardManager",get:function(){var e=t.prototype._resizeWithKeyboard,r=Kn.TRANSLATE_SMALL,n=Kn.TRANSLATE_BIG;return W(this,"_resizerKeyboardManager",new rn([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],t.prototype._stopResizingWithKeyboard]]))}},{key:"_defaultLineColor",get:function(){return W(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}},{key:"deleteAnnotationElement",value:function(t){var e=new eo({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}},{key:"initialize",value:function(e,r,n){if(t._l10nResizer||(t._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),t._l10nPromise||(t._l10nPromise=new Map([].concat(ta(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-new-alt-text-added-button-label","pdfjs-editor-new-alt-text-missing-button-label","pdfjs-editor-new-alt-text-to-review-button-label"].map((function(t){return[t,e.get(t)]}))),ta(["pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer"].map((function(t){return[t,e.get.bind(e,t)]})))))),null!=n&&n.strings){var i,a=ea(n.strings);try{for(a.s();!(i=a.n()).done;){var o=i.value;t._l10nPromise.set(o,e.get(o))}}catch(t){a.e(t)}finally{a.f()}}if(-1===t._borderLineWidth){var s=getComputedStyle(document.documentElement);t._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}}},{key:"updateDefaultParams",value:function(t,e){}},{key:"defaultPropertiesToUpdate",get:function(){return[]}},{key:"isHandlingMimeForPasting",value:function(t){return!1}},{key:"paste",value:function(t,e){F("Not implemented")}},{key:"deserialize",value:(e=ia(ra().mark((function t(e,r,n){var i,a,o,s,u,c,l,h,f,d;return ra().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n})).rotation=e.rotation,pa(ma,i,e.accessibilityData),a=aa(i.pageDimensions,2),o=a[0],s=a[1],u=i.getRectInCurrentCoords(e.rect,s),c=aa(u,4),l=c[0],h=c[1],f=c[2],d=c[3],i.x=l/o,i.y=h/s,i.width=f/o,i.height=d/s,t.abrupt("return",i);case 10:case"end":return t.stop()}}),t,this)}))),function(t,r,n){return e.apply(this,arguments)})},{key:"MIN_SIZE",get:function(){return 16}},{key:"canCreateNewEmptyEditor",value:function(){return!0}}]);var e,r,n,i}();function Ba(t,e,r){var n=aa(t,2),i=n[0],a=n[1],o=aa(this.screenToPageTranslation(e,r),2);e=o[0],r=o[1],this.x+=e/i,this.y+=r/a,this.fixAndSetPosition()}function Ga(t,e,r){switch(r){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}function Ha(t){switch(t){case 90:var e=aa(this.pageDimensions,2),r=e[0],n=e[1];return[0,-r/n,n/r,0];case 180:return[-1,0,0,-1];case 270:var i=aa(this.pageDimensions,2),a=i[0],o=i[1];return[0,a/o,-o/a,0];default:return[1,0,0,1]}}function Ua(){if(!ya(Aa,this)){pa(Aa,this,document.createElement("div")),ya(Aa,this).classList.add("resizers");for(var t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal,r=0,n=t;r<n.length;r++){var i=n[r],a=document.createElement("div");ya(Aa,this).append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",ga(Na,this,za).bind(this,i),{signal:e}),a.addEventListener("contextmenu",Te,{signal:e}),a.tabIndex=-1}this.div.prepend(ya(Aa,this))}}function za(t,e){var r,n=this;e.preventDefault();var i=J.platform.isMac;if(!(0!==e.button||e.ctrlKey&&i)){null===(r=ya(wa,this))||void 0===r||r.toggle(!1);var a=this._isDraggable;this._isDraggable=!1;var o=new AbortController,s=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ga(Na,this,qa).bind(this,t),{passive:!0,capture:!0,signal:s}),window.addEventListener("contextmenu",Te,{signal:s});var u=this.x,c=this.y,l=this.width,h=this.height,f=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;var v=function(){var t;o.abort(),n.parent.togglePointerEvents(!0),null===(t=ya(wa,n))||void 0===t||t.toggle(!0),n._isDraggable=a,n.parent.div.style.cursor=f,n.div.style.cursor=d,ga(Na,n,Va).call(n,u,c,l,h)};window.addEventListener("pointerup",v,{signal:s}),window.addEventListener("blur",v,{signal:s})}}function Va(t,e,r,n){var i=this,a=this.x,o=this.y,s=this.width,u=this.height;a===t&&o===e&&s===r&&u===n||this.addCommands({cmd:function(){i.width=s,i.height=u,i.x=a,i.y=o;var t=aa(i.parentDimensions,2),e=t[0],r=t[1];i.setDims(e*s,r*u),i.fixAndSetPosition()},undo:function(){i.width=r,i.height=n,i.x=t,i.y=e;var a=aa(i.parentDimensions,2),o=a[0],s=a[1];i.setDims(o*r,s*n),i.fixAndSetPosition()},mustExec:!0})}function qa(t,e){var r,n,i=aa(this.parentDimensions,2),a=i[0],o=i[1],s=this.x,u=this.y,c=this.width,l=this.height,h=Xi.MIN_SIZE/a,f=Xi.MIN_SIZE/o,d=function(t){return Math.round(1e4*t)/1e4},v=ga(Na,this,Ha).call(this,this.rotation),p=function(t,e){return[v[0]*t+v[2]*e,v[1]*t+v[3]*e]},y=ga(Na,this,Ha).call(this,360-this.rotation),g=!1,m=!1;switch(t){case"topLeft":g=!0,r=function(t,e){return[0,0]},n=function(t,e){return[t,e]};break;case"topMiddle":r=function(t,e){return[t/2,0]},n=function(t,e){return[t/2,e]};break;case"topRight":g=!0,r=function(t,e){return[t,0]},n=function(t,e){return[0,e]};break;case"middleRight":m=!0,r=function(t,e){return[t,e/2]},n=function(t,e){return[0,e/2]};break;case"bottomRight":g=!0,r=function(t,e){return[t,e]},n=function(t,e){return[0,0]};break;case"bottomMiddle":r=function(t,e){return[t/2,e]},n=function(t,e){return[t/2,0]};break;case"bottomLeft":g=!0,r=function(t,e){return[0,e]},n=function(t,e){return[t,0]};break;case"middleLeft":m=!0,r=function(t,e){return[0,e/2]},n=function(t,e){return[t,e/2]}}var b,w,k=r(c,l),x=n(c,l),A=p.apply(void 0,ta(x)),_=d(s+A[0]),E=d(u+A[1]),S=1,O=1,T=aa(this.screenToPageTranslation(e.movementX,e.movementY),2),P=T[0],L=T[1],M=aa((b=P/a,w=L/o,[y[0]*b+y[2]*w,y[1]*b+y[3]*w]),2);if(P=M[0],L=M[1],g){var C=Math.hypot(c,l);S=O=Math.max(Math.min(Math.hypot(x[0]-k[0]-P,x[1]-k[1]-L)/C,1/c,1/l),h/c,f/l)}else m?S=Math.max(h,Math.min(1,Math.abs(x[0]-k[0]-P)))/c:O=Math.max(f,Math.min(1,Math.abs(x[1]-k[1]-L)))/l;var j=d(c*S),I=d(l*O),R=_-(A=p.apply(void 0,ta(n(j,I))))[0],F=E-A[1];this.width=j,this.height=I,this.x=R,this.y=F,this.setDims(a*j,o*I),this.fixAndSetPosition()}function Ya(t){var e=J.platform.isMac;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Xa(t){var e=this,r=this.isSelected;this._uiManager.setUpDragSession();var n=new AbortController,i=this._uiManager.combinedSignal(n);r&&(this.div.classList.add("moving"),pa(ja,this,t.clientX),pa(Ia,this,t.clientY),window.addEventListener("pointermove",(function(t){var r=t.clientX,n=t.clientY,i=aa(e.screenToPageTranslation(r-ya(ja,e),n-ya(Ia,e)),2),a=i[0],o=i[1];pa(ja,e,r),pa(Ia,e,n),e._uiManager.dragSelectedEditors(a,o)}),{passive:!0,capture:!0,signal:i}));var a=function(){n.abort(),r&&e.div.classList.remove("moving"),pa(Oa,e,!1),e._uiManager.endDragSession()||ga(Na,e,Ya).call(e,t)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})}function Ka(){if(!ya(Ea,this)&&this.div){pa(Ea,this,new AbortController);var t=this._uiManager.combinedSignal(ya(Ea,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}}function Qa(t){Xi._resizerKeyboardManager.exec(this,t)}function Ja(t){var e;ya(Ma,this)&&(null===(e=t.relatedTarget)||void 0===e?void 0:e.parentNode)!==ya(Aa,this)&&ga(Na,this,to).call(this)}function $a(t){pa(Sa,this,ya(Ma,this)?t:"")}function Za(t){if(ya(ba,this)){var e,r=ea(ya(ba,this));try{for(r.s();!(e=r.n()).done;)e.value.tabIndex=t}catch(t){r.e(t)}finally{r.f()}}}function to(){if(pa(Ma,this,!1),ga(Na,this,Za).call(this,-1),ya(_a,this)){var t=ya(_a,this),e=t.savedX,r=t.savedY,n=t.savedWidth,i=t.savedHeight;ga(Na,this,Va).call(this,e,r,n,i),pa(_a,this,null)}}Xi=Wa,ha(Wa,"_l10nPromise",null),ha(Wa,"_l10nResizer",null),ha(Wa,"_borderLineWidth",-1),ha(Wa,"_colorManager",new an),ha(Wa,"_zIndex",1),ha(Wa,"_telemetryTimeout",1e3);var eo=function(t){function e(t){var r;return ua(this,e),(r=Qi(this,e,[t])).annotationElementId=t.annotationElementId,r.deleted=!0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zi(t,e)}(e,Wa),la(e,[{key:"serialize",value:function(){return this.serializeDeleted()}}])}();function ro(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,no(n.key),n)}}function no(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}var io=3285377520,ao=4294901760,oo=65535,so=function(){return function(t,e,r){return e&&ro(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.h1=e?4294967295&e:io,this.h2=e?4294967295&e:io}),[{key:"update",value:function(t){var e,r;if("string"==typeof t){e=new Uint8Array(2*t.length),r=0;for(var n=0,i=t.length;n<i;n++){var a=t.charCodeAt(n);a<=255?e[r++]=a:(e[r++]=a>>>8,e[r++]=255&a)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");r=(e=t.slice()).byteLength}for(var o=r>>2,s=r-4*o,u=new Uint32Array(e.buffer,0,o),c=0,l=0,h=this.h1,f=this.h2,d=3432918353,v=461845907,p=11601,y=13715,g=0;g<o;g++)1&g?h=5*(h=(h^=c=(c=(c=(c=u[g])*d&ao|c*p&oo)<<15|c>>>17)*v&ao|c*y&oo)<<13|h>>>19)+3864292196:f=5*(f=(f^=l=(l=(l=(l=u[g])*d&ao|l*p&oo)<<15|l>>>17)*v&ao|l*y&oo)<<13|f>>>19)+3864292196;switch(c=0,s){case 3:c^=e[4*o+2]<<16;case 2:c^=e[4*o+1]<<8;case 1:c=(c=(c=(c^=e[4*o])*d&ao|c*p&oo)<<15|c>>>17)*v&ao|c*y&oo,1&o?h^=c:f^=c}this.h1=h,this.h2=f}},{key:"hexdigest",value:function(){var t=this.h1,e=this.h2;return t=3981806797*(t^=e>>>1)&ao|36045*t&oo,t=444984403*(t^=(e=4283543511*e&ao|(2950163797*(e<<16|t>>>16)&ao)>>>16)>>>1)&ao|60499*t&oo,((t^=(e=3301882366*e&ao|(3120437893*(e<<16|t>>>16)&ao)>>>16)>>>1)>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}])}();function uo(t,e,r){return e=lo(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,co()?Reflect.construct(e,r||[],lo(t).constructor):e.apply(t,r))}function co(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(co=function(){return!!t})()}function lo(t){return lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lo(t)}function ho(t,e){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ho(t,e)}function fo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||po(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=po(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function po(t,e){if(t){if("string"==typeof t)return yo(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yo(t,e):void 0}}function yo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wo(n.key),n)}}function bo(t,e,r){return e&&mo(t.prototype,e),r&&mo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wo(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function ko(t,e,r){xo(t,e),e.set(t,r)}function xo(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ao(t,e,r){return t.set(Eo(t,e),r),r}function _o(t,e){return t.get(Eo(t,e))}function Eo(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var So=Object.freeze({map:null,hash:"",transfer:void 0}),Oo=new WeakMap,To=new WeakMap,Po=new WeakMap,Lo=new WeakSet,Mo=function(){return bo((function t(){go(this,t),function(t,e){xo(t,e),e.add(t)}(this,Lo),ko(this,Oo,!1),ko(this,To,null),ko(this,Po,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}),[{key:"getValue",value:function(t,e){var r=_o(Po,this).get(t);return void 0===r?e:Object.assign(e,r)}},{key:"getRawValue",value:function(t){return _o(Po,this).get(t)}},{key:"remove",value:function(t){if(_o(Po,this).delete(t),0===_o(Po,this).size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){var e,r=vo(_o(Po,this).values());try{for(r.s();!(e=r.n()).done;)if(e.value instanceof Wa)return}catch(t){r.e(t)}finally{r.f()}this.onAnnotationEditor(null)}}},{key:"setValue",value:function(t,e){var r=_o(Po,this).get(t),n=!1;if(void 0!==r)for(var i=0,a=Object.entries(e);i<a.length;i++){var o=fo(a[i],2),s=o[0],u=o[1];r[s]!==u&&(n=!0,r[s]=u)}else n=!0,_o(Po,this).set(t,e);n&&Eo(Lo,this,Co).call(this),e instanceof Wa&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}},{key:"has",value:function(t){return _o(Po,this).has(t)}},{key:"getAll",value:function(){return _o(Po,this).size>0?Q(_o(Po,this)):null}},{key:"setAll",value:function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var n=fo(r[e],2),i=n[0],a=n[1];this.setValue(i,a)}}},{key:"size",get:function(){return _o(Po,this).size}},{key:"resetModified",value:function(){_o(Oo,this)&&(Ao(Oo,this,!1),"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"print",get:function(){return new Io(this)}},{key:"serializable",get:function(){if(0===_o(Po,this).size)return So;var t,e=new Map,r=new so,n=[],i=Object.create(null),a=!1,o=vo(_o(Po,this));try{for(o.s();!(t=o.n()).done;){var s=fo(t.value,2),u=s[0],c=s[1],l=c instanceof Wa?c.serialize(!1,i):c;l&&(e.set(u,l),r.update("".concat(u,":").concat(JSON.stringify(l))),a||(a=!!l.bitmap))}}catch(t){o.e(t)}finally{o.f()}if(a){var h,f=vo(e.values());try{for(f.s();!(h=f.n()).done;){var d=h.value;d.bitmap&&n.push(d.bitmap)}}catch(t){f.e(t)}finally{f.f()}}return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:So}},{key:"editorStats",get:function(){var t,e=null,r=new Map,n=vo(_o(Po,this).values());try{for(n.s();!(t=n.n()).done;){var i,a=t.value;if(a instanceof Wa){var o=a.telemetryFinalData;if(o){var s=o.type;r.has(s)||r.set(s,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));for(var u=(i=e)[s]||(i[s]=new Map),c=0,l=Object.entries(o);c<l.length;c++){var h,f=fo(l[c],2),d=f[0],v=f[1];if("type"!==d){var p=u.get(d);p||(p=new Map,u.set(d,p));var y=null!==(h=p.get(v))&&void 0!==h?h:0;p.set(v,y+1)}}}}}}catch(t){n.e(t)}finally{n.f()}var g,m=vo(r);try{for(m.s();!(g=m.n()).done;){var b=fo(g.value,2),w=b[0],k=b[1];e[w]=k.computeTelemetryFinalData(e[w])}}catch(t){m.e(t)}finally{m.f()}return e}},{key:"resetModifiedIds",value:function(){Ao(To,this,null)}},{key:"modifiedIds",get:function(){if(_o(To,this))return _o(To,this);var t,e=[],r=vo(_o(Po,this).values());try{for(r.s();!(t=r.n()).done;){var n=t.value;n instanceof Wa&&n.annotationElementId&&n.serialize()&&e.push(n.annotationElementId)}}catch(t){r.e(t)}finally{r.f()}return Ao(To,this,{ids:new Set(e),hash:e.join(",")})}}])}();function Co(){_o(Oo,this)||(Ao(Oo,this,!0),"function"==typeof this.onSetModified&&this.onSetModified())}var jo=new WeakMap,Io=function(t){function e(t){var r;go(this,e),ko(r=uo(this,e),jo,void 0);var n=t.serializable,i=n.map,a=n.hash,o=n.transfer,s=structuredClone(i,o?{transfer:o}:null);return Ao(jo,r,{map:s,hash:a,transfer:o}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ho(t,e)}(e,Mo),bo(e,[{key:"print",get:function(){F("Should not call PrintAnnotationStorage.print")}},{key:"serializable",get:function(){return _o(jo,this)}},{key:"modifiedIds",get:function(){return W(this,"modifiedIds",{ids:new Set,hash:""})}}])}();function Ro(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||Wo(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fo(){Fo=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Do(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function No(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){Do(a,n,i,o,s,"next",t)}function s(t){Do(a,n,i,o,s,"throw",t)}o(void 0)}))}}function Wo(t,e){if(t){if("string"==typeof t)return Bo(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bo(t,e):void 0}}function Bo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ho(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zo(n.key),n)}}function Uo(t,e,r){return e&&Ho(t.prototype,e),r&&Ho(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zo(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Vo(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}r(6625);var qo=new WeakMap,Yo=function(){return Uo((function t(e){var r=e.ownerDocument,n=void 0===r?globalThis.document:r;e.styleElement,Go(this,t),function(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}(this,qo,new Set),this._document=n,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}),[{key:"addNativeFontFace",value:function(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}},{key:"removeNativeFontFace",value:function(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}},{key:"insertRule",value:function(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));var e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}},{key:"clear",value:function(){var t,e=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Wo(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(this.nativeFontFaces);try{for(e.s();!(t=e.n()).done;){var r=t.value;this._document.fonts.delete(r)}}catch(t){e.e(t)}finally{e.f()}this.nativeFontFaces.clear(),Vo(qo,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"loadSystemFont",value:(e=No(Fo().mark((function t(e){var r,n,i,a,o,s;return Fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.systemFontInfo,n=e._inspectFont,r&&!Vo(qo,this).has(r.loadedName)){t.next=3;break}return t.abrupt("return");case 3:if(D(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),!this.isFontLoadingAPISupported){t.next=20;break}return i=r.loadedName,a=r.src,o=r.style,s=new FontFace(i,a,o),this.addNativeFontFace(s),t.prev=8,t.next=11,s.load();case 11:Vo(qo,this).add(i),null==n||n(r),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(8),R("Cannot load system font: ".concat(r.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(s);case 19:return t.abrupt("return");case 20:F("Not implemented: loadSystemFont without the Font Loading API.");case 21:case"end":return t.stop()}}),t,this,[[8,15]])}))),function(t){return e.apply(this,arguments)})},{key:"bind",value:(t=No(Fo().mark((function t(e){var r,n,i=this;return Fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.attached||e.missingFile&&!e.systemFontInfo)){t.next=2;break}return t.abrupt("return");case 2:if(e.attached=!0,!e.systemFontInfo){t.next=7;break}return t.next=6,this.loadSystemFont(e);case 6:case 21:return t.abrupt("return");case 7:if(!this.isFontLoadingAPISupported){t.next=22;break}if(!(r=e.createNativeFontFace())){t.next=21;break}return this.addNativeFontFace(r),t.prev=11,t.next=14,r.loaded;case 14:t.next=21;break;case 16:throw t.prev=16,t.t0=t.catch(11),R("Failed to load font '".concat(r.family,"': '").concat(t.t0,"'.")),e.disableFontFace=!0,t.t0;case 22:if(!(n=e.createFontFaceRule())){t.next=29;break}if(this.insertRule(n),!this.isSyncFontLoadingSupported){t.next=27;break}return t.abrupt("return");case 27:return t.next=29,new Promise((function(t){var r=i._queueLoadingCallback(t);i._prepareFontLoadEvent(e,r)}));case 29:case"end":return t.stop()}}),t,this,[[11,16]])}))),function(e){return t.apply(this,arguments)})},{key:"isFontLoadingAPISupported",get:function(){var t;return W(this,"isFontLoadingAPISupported",!(null===(t=this._document)||void 0===t||!t.fonts))}},{key:"isSyncFontLoadingSupported",get:function(){var t,e=!1;return(m||"undefined"!=typeof navigator&&"string"==typeof(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),W(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(t){var e=this.loadingRequests,r={done:!1,complete:function(){for(D(!r.done,"completeRequest() cannot be called twice."),r.done=!0;e.length>0&&e[0].done;){var t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(r),r}},{key:"_loadTestFont",get:function(){return W(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(t,e){function r(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function n(t,e,r,n){return t.substring(0,e)+n+t.substring(e+r)}var i,a,o=this._document.createElement("canvas");o.width=1,o.height=1;var s,u=o.getContext("2d"),c=0,l="lt".concat(Date.now()).concat(this.loadTestFontId++),h=this._loadTestFont,f=1482184792,d=r(h=n(h,976,l.length,l),16);for(i=0,a=l.length-3;i<a;i+=4)d=d-f+r(l,i)|0;i<l.length&&(d=d-f+r(l+"XXX",i)|0),h=n(h,16,4,(s=d,String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s)));var v="url(data:font/opentype;base64,".concat(btoa(h),");"),p='@font-face {font-family:"'.concat(l,'";src:').concat(v,"}");this.insertRule(p);var y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(var g=0,m=[t.loadedName,l];g<m.length;g++){var b=m[g],w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=b,y.append(w)}this._document.body.append(y),function t(e,r){if(++c>30)return R("Load test font never loaded."),void r();u.font="30px "+e,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?r():setTimeout(t.bind(null,e,r))}(l,(function(){y.remove(),e.complete()}))}}]);var t,e}(),Xo=function(){return Uo((function t(e,r){var n=r.disableFontFace,i=void 0!==n&&n,a=r.inspectFont,o=void 0===a?null:a;for(var s in Go(this,t),this.compiledGlyphs=Object.create(null),e)this[s]=e[s];this.disableFontFace=!0===i,this._inspectFont=o}),[{key:"createNativeFontFace",value:function(){var t,e;if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){var r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}else e=new FontFace(this.loadedName,this.data,{});return null===(t=this._inspectFont)||void 0===t||t.call(this,this),e}},{key:"createFontFaceRule",value:function(){var t;if(!this.data||this.disableFontFace)return null;var e,r=X(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(r),");");if(this.cssFontInfo){var i="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(i+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),e='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(i,"src:").concat(n,"}")}else e='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return null===(t=this._inspectFont)||void 0===t||t.call(this,this,n),e}},{key:"getPathGenerator",value:function(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];var r;try{r=t.get(this.loadedName+"_path_"+e)}catch(t){R('getPathGenerator - ignoring character: "'.concat(t,'".'))}if(!Array.isArray(r)||0===r.length)return this.compiledGlyphs[e]=function(t,e){};for(var n=[],i=function(t){switch(r[t++]){case 0:var e=Ro(r.slice(t,t+6),6),i=e[0],o=e[1],s=e[2],u=e[3],c=e[4],l=e[5];n.push((function(t){return t.bezierCurveTo(i,o,s,u,c,l)})),t+=6;break;case 1:var h=Ro(r.slice(t,t+2),2),f=h[0],d=h[1];n.push((function(t){return t.moveTo(f,d)})),t+=2;break;case 2:var v=Ro(r.slice(t,t+2),2),p=v[0],y=v[1];n.push((function(t){return t.lineTo(p,y)})),t+=2;break;case 3:var g=Ro(r.slice(t,t+4),4),m=g[0],b=g[1],w=g[2],k=g[3];n.push((function(t){return t.quadraticCurveTo(m,b,w,k)})),t+=4;break;case 4:n.push((function(t){return t.restore()}));break;case 5:n.push((function(t){return t.save()}));break;case 6:D(2===n.length,"Scale command is only valid at the third position.");break;case 7:var x=Ro(r.slice(t,t+6),6),A=x[0],_=x[1],E=x[2],S=x[3],O=x[4],T=x[5];n.push((function(t){return t.transform(A,_,E,S,O,T)})),t+=6;break;case 8:var P=Ro(r.slice(t,t+2),2),L=P[0],M=P[1];n.push((function(t){return t.translate(L,M)})),t+=2}a=t},a=0,o=r.length;a<o;)i(a);return this.compiledGlyphs[e]=function(t,e){n[0](t),n[1](t),t.scale(e,-e);for(var r=2,i=n.length;r<i;r++)n[r](t)}}}])}();function Ko(t,e,r){return e=Jo(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qo()?Reflect.construct(e,r||[],Jo(t).constructor):e.apply(t,r))}function Qo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qo=function(){return!!t})()}function Jo(t){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jo(t)}function $o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}function Zo(t,e){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zo(t,e)}function ts(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function es(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ns(n.key),n)}}function rs(t,e,r){return e&&es(t.prototype,e),r&&es(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ns(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function is(){is=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function as(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}if(m){var os=Promise.withResolvers(),ss=null,us=function(){var t,e=(t=is().mark((function t(){var e,r,n,i,a,o;return is().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,import("fs");case 2:return e=t.sent,t.next=5,import("http");case 5:return r=t.sent,t.next=8,import("https");case 8:return n=t.sent,t.next=11,import("url");case 11:return i=t.sent,t.prev=12,t.next=15,import("canvas");case 15:a=t.sent,t.next=20;break;case 18:t.prev=18,t.t0=t.catch(12);case 20:return t.prev=20,t.next=23,import("path2d");case 23:o=t.sent,t.next=28;break;case 26:t.prev=26,t.t1=t.catch(20);case 28:return t.abrupt("return",new Map(Object.entries({fs:e,http:r,https:n,url:i,canvas:a,path2d:o})));case 29:case"end":return t.stop()}}),t,null,[[12,18],[20,26]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){as(a,n,i,o,s,"next",t)}function s(t){as(a,n,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}();us().then((function(t){if(ss=t,os.resolve(),!globalThis.DOMMatrix){var e,r=null===(e=t.get("canvas"))||void 0===e?void 0:e.DOMMatrix;r?globalThis.DOMMatrix=r:R("Cannot polyfill `DOMMatrix`, rendering may be broken.")}if(!globalThis.Path2D){var n,i,a,o=null===(n=t.get("canvas"))||void 0===n?void 0:n.CanvasRenderingContext2D,s=null===(i=t.get("path2d"))||void 0===i?void 0:i.applyPath2DToCanvasRenderingContext,u=null===(a=t.get("path2d"))||void 0===a?void 0:a.Path2D;o&&s&&u?(s(o),globalThis.Path2D=u):R("Cannot polyfill `Path2D`, rendering may be broken.")}}),(function(t){R("loadPackages: ".concat(t)),ss=new Map,os.resolve()}))}var cs=function(){return rs((function t(){ts(this,t)}),null,[{key:"promise",get:function(){return os.promise}},{key:"get",value:function(t){var e;return null===(e=ss)||void 0===e?void 0:e.get(t)}}])}(),ls=function(t){return cs.get("fs").promises.readFile(t).then((function(t){return new Uint8Array(t)}))},hs=function(t){function e(){return ts(this,e),Ko(this,e,arguments)}return $o(e,pt),rs(e)}(),fs=function(t){function e(){return ts(this,e),Ko(this,e,arguments)}return $o(e,gt),rs(e,[{key:"_createCanvas",value:function(t,e){return cs.get("canvas").createCanvas(t,e)}}])}(),ds=function(t){function e(){return ts(this,e),Ko(this,e,arguments)}return $o(e,mt),rs(e,[{key:"_fetchData",value:function(t,e){return ls(t).then((function(t){return{cMapData:t,compressionType:e}}))}}])}(),vs=function(t){function e(){return ts(this,e),Ko(this,e,arguments)}return $o(e,bt),rs(e,[{key:"_fetchData",value:function(t){return ls(t)}}])}();function ps(t){return function(t){if(Array.isArray(t))return ms(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||gs(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ys(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=gs(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function gs(t,e){if(t){if("string"==typeof t)return ms(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ms(t,e):void 0}}function ms(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bs(t,e,r){return e=ks(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ws()?Reflect.construct(e,r||[],ks(t).constructor):e.apply(t,r))}function ws(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ws=function(){return!!t})()}function ks(t){return ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ks(t)}function xs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&As(t,e)}function As(t,e){return As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},As(t,e)}function _s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Es(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Os(n.key),n)}}function Ss(t,e,r){return e&&Es(t.prototype,e),r&&Es(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Os(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}r(1237);var Ts="Fill",Ps="Stroke",Ls="Shading";function Ms(t,e){if(e){var r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}}var Cs=function(){return Ss((function t(){_s(this,t)}),[{key:"getPattern",value:function(){F("Abstract method `getPattern` called.")}}])}(),js=function(t){function e(t){var r;return _s(this,e),(r=bs(this,e))._type=t[1],r._bbox=t[2],r._colorStops=t[3],r._p0=t[4],r._p1=t[5],r._r0=t[6],r._r1=t[7],r.matrix=null,r}return xs(e,Cs),Ss(e,[{key:"_createGradient",value:function(t){var e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var r,n=ys(this._colorStops);try{for(n.s();!(r=n.n()).done;){var i=r.value;e.addColorStop(i[0],i[1])}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getPattern",value:function(t,e,r,n){var i;if(n===Ps||n===Ts){var a=e.current.getClippedPathBoundingBox(n,je(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,s=Math.ceil(a[3]-a[1])||1,u=e.cachedCanvases.getCanvas("pattern",o,s),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),r=Z.transform(r,[1,0,0,1,a[0],a[1]]),c.transform.apply(c,ps(e.baseTransform)),this.matrix&&c.transform.apply(c,ps(this.matrix)),Ms(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=t.createPattern(u.canvas,"no-repeat");var l=new DOMMatrix(r);i.setTransform(l)}else Ms(t,this._bbox),i=this._createGradient(t);return i}}])}();function Is(t,e,r,n,i,a,o,s){var u,c=e.coords,l=e.colors,h=t.data,f=4*t.width;c[r+1]>c[n+1]&&(u=r,r=n,n=u,u=a,a=o,o=u),c[n+1]>c[i+1]&&(u=n,n=i,i=u,u=o,o=s,s=u),c[r+1]>c[n+1]&&(u=r,r=n,n=u,u=a,a=o,o=u);var d=(c[r]+e.offsetX)*e.scaleX,v=(c[r+1]+e.offsetY)*e.scaleY,p=(c[n]+e.offsetX)*e.scaleX,y=(c[n+1]+e.offsetY)*e.scaleY,g=(c[i]+e.offsetX)*e.scaleX,m=(c[i+1]+e.offsetY)*e.scaleY;if(!(v>=m))for(var b,w,k,x,A,_,E,S,O=l[a],T=l[a+1],P=l[a+2],L=l[o],M=l[o+1],C=l[o+2],j=l[s],I=l[s+1],R=l[s+2],F=Math.round(v),D=Math.round(m),N=F;N<=D;N++){if(N<y){var W=N<v?0:(v-N)/(v-y);b=d-(d-p)*W,w=O-(O-L)*W,k=T-(T-M)*W,x=P-(P-C)*W}else{var B;b=p-(p-g)*(B=N>m?1:y===m?0:(y-N)/(y-m)),w=L-(L-j)*B,k=M-(M-I)*B,x=C-(C-R)*B}var G=void 0;A=d-(d-g)*(G=N<v?0:N>m?1:(v-N)/(v-m)),_=O-(O-j)*G,E=T-(T-I)*G,S=P-(P-R)*G;for(var H=Math.round(Math.min(b,A)),U=Math.round(Math.max(b,A)),z=f*N+4*H,V=H;V<=U;V++)(G=(b-V)/(b-A))<0?G=0:G>1&&(G=1),h[z++]=w-(w-_)*G|0,h[z++]=k-(k-E)*G|0,h[z++]=x-(x-S)*G|0,h[z++]=255}}function Rs(t,e,r){var n,i,a=e.coords,o=e.colors;switch(e.type){case"lattice":var s=e.verticesPerRow,u=Math.floor(a.length/s)-1,c=s-1;for(n=0;n<u;n++)for(var l=n*s,h=0;h<c;h++,l++)Is(t,r,a[l],a[l+1],a[l+s],o[l],o[l+1],o[l+s]),Is(t,r,a[l+s+1],a[l+1],a[l+s],o[l+s+1],o[l+1],o[l+s]);break;case"triangles":for(n=0,i=a.length;n<i;n+=3)Is(t,r,a[n],a[n+1],a[n+2],o[n],o[n+1],o[n+2]);break;default:throw new Error("illegal figure")}}var Fs=function(t){function e(t){var r;return _s(this,e),(r=bs(this,e))._coords=t[2],r._colors=t[3],r._figures=t[4],r._bounds=t[5],r._bbox=t[7],r._background=t[8],r.matrix=null,r}return xs(e,Cs),Ss(e,[{key:"_createMeshCanvas",value:function(t,e,r){var n=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-n,o=Math.ceil(this._bounds[3])-i,s=Math.min(Math.ceil(Math.abs(a*t[0]*1.1)),3e3),u=Math.min(Math.ceil(Math.abs(o*t[1]*1.1)),3e3),c=a/s,l=o/u,h={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-i,scaleX:1/c,scaleY:1/l},f=s+4,d=u+4,v=r.getCanvas("mesh",f,d),p=v.context,y=p.createImageData(s,u);if(e)for(var g=y.data,m=0,b=g.length;m<b;m+=4)g[m]=e[0],g[m+1]=e[1],g[m+2]=e[2],g[m+3]=255;var w,k=ys(this._figures);try{for(k.s();!(w=k.n()).done;)Rs(y,w.value,h)}catch(t){k.e(t)}finally{k.f()}return p.putImageData(y,2,2),{canvas:v.canvas,offsetX:n-2*c,offsetY:i-2*l,scaleX:c,scaleY:l}}},{key:"getPattern",value:function(t,e,r,n){var i;if(Ms(t,this._bbox),n===Ls)i=Z.singularValueDecompose2dScale(je(t));else if(i=Z.singularValueDecompose2dScale(e.baseTransform),this.matrix){var a=Z.singularValueDecompose2dScale(this.matrix);i=[i[0]*a[0],i[1]*a[1]]}var o=this._createMeshCanvas(i,n===Ls?null:this._background,e.cachedCanvases);return n!==Ls&&(t.setTransform.apply(t,ps(e.baseTransform)),this.matrix&&t.transform.apply(t,ps(this.matrix))),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}])}(),Ds=function(t){function e(){return _s(this,e),bs(this,e,arguments)}return xs(e,Cs),Ss(e,[{key:"getPattern",value:function(){return"hotpink"}}])}(),Ns=function(){function t(e,r,n,i,a){_s(this,t),this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=a}return Ss(t,[{key:"createPatternCanvas",value:function(t){var e=this.bbox,r=this.operatorList,n=this.paintType,i=this.tilingType,a=this.color,o=this.canvasGraphicsFactory,s=this.xstep,u=this.ystep;s=Math.abs(s),u=Math.abs(u),I("TilingType: "+i);var c=e[0],l=e[1],h=e[2],f=e[3],d=h-c,v=f-l,p=Z.singularValueDecompose2dScale(this.matrix),y=Z.singularValueDecompose2dScale(this.baseTransform),g=p[0]*y[0],m=p[1]*y[1],b=d,w=v,k=!1,x=!1,A=Math.ceil(s*g),_=Math.ceil(u*m);A>=Math.ceil(d*g)?b=s:k=!0,_>=Math.ceil(v*m)?w=u:x=!0;var E=this.getSizeAndScale(b,this.ctx.canvas.width,g),S=this.getSizeAndScale(w,this.ctx.canvas.height,m),O=t.cachedCanvases.getCanvas("pattern",E.size,S.size),T=O.context,P=o.createCanvasGraphics(T);if(P.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(P,n,a),T.translate(-E.scale*c,-S.scale*l),P.transform(E.scale,0,0,S.scale,0,0),T.save(),this.clipBbox(P,c,l,h,f),P.baseTransform=je(P.ctx),P.executeOperatorList(r),P.endDrawing(),T.restore(),k||x){var L=O.canvas;k&&(b=s),x&&(w=u);for(var M=this.getSizeAndScale(b,this.ctx.canvas.width,g),C=this.getSizeAndScale(w,this.ctx.canvas.height,m),j=M.size,R=C.size,F=t.cachedCanvases.getCanvas("pattern-workaround",j,R),D=F.context,N=k?Math.floor(d/s):0,W=x?Math.floor(v/u):0,B=0;B<=N;B++)for(var G=0;G<=W;G++)D.drawImage(L,j*B,R*G,j,R,0,0,j,R);return{canvas:F.canvas,scaleX:M.scale,scaleY:C.scale,offsetX:c,offsetY:l}}return{canvas:O.canvas,scaleX:E.scale,scaleY:S.scale,offsetX:c,offsetY:l}}},{key:"getSizeAndScale",value:function(e,r,n){var i=Math.max(t.MAX_PATTERN_SIZE,r),a=Math.ceil(e*n);return a>=i?a=i:n=a/e,{scale:n,size:a}}},{key:"clipBbox",value:function(t,e,r,n,i){var a=n-e,o=i-r;t.ctx.rect(e,r,a,o),t.current.updateRectMinMax(je(t.ctx),[e,r,n,i]),t.clip(),t.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(t,e,r){var n=t.ctx,i=t.current;switch(e){case 1:var a=this.ctx;n.fillStyle=a.fillStyle,n.strokeStyle=a.strokeStyle,i.fillColor=a.fillStyle,i.strokeColor=a.strokeStyle;break;case 2:var o=Z.makeHexColor(r[0],r[1],r[2]);n.fillStyle=o,n.strokeStyle=o,i.fillColor=o,i.strokeColor=o;break;default:throw new q("Unsupported paint type: ".concat(e))}}},{key:"getPattern",value:function(t,e,r,n){var i=r;n!==Ls&&(i=Z.transform(i,e.baseTransform),this.matrix&&(i=Z.transform(i,this.matrix)));var a=this.createPatternCanvas(e),o=new DOMMatrix(i);o=(o=o.translate(a.offsetX,a.offsetY)).scale(1/a.scaleX,1/a.scaleY);var s=t.createPattern(a.canvas,"repeat");return s.setTransform(o),s}}])}();function Ws(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Bs(t){var e=t.src,r=t.srcPos,n=void 0===r?0:r,i=t.dest,a=t.width,o=t.height,s=t.nonBlackColor,u=void 0===s?4294967295:s,c=t.inverseDecode,l=void 0!==c&&c,h=J.isLittleEndian?4278190080:255,f=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ws(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ws(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(l?[u,h]:[h,u],2),d=f[0],v=f[1],p=a>>3,y=7&a,g=e.length;i=new Uint32Array(i.buffer);for(var m=0,b=0;b<o;b++){for(var w=n+p;n<w;n++){var k=n<g?e[n]:255;i[m++]=128&k?v:d,i[m++]=64&k?v:d,i[m++]=32&k?v:d,i[m++]=16&k?v:d,i[m++]=8&k?v:d,i[m++]=4&k?v:d,i[m++]=2&k?v:d,i[m++]=1&k?v:d}if(0!==y)for(var x=n<g?e[n++]:255,A=0;A<y;A++)i[m++]=x&1<<7-A?v:d}return{srcPos:n,destPos:m}}function Gs(t){return function(t){if(Array.isArray(t))return qs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Vs(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Us(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Vs(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function zs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||Vs(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vs(t,e){if(t){if("string"==typeof t)return qs(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qs(t,e):void 0}}function qs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ys(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qs(n.key),n)}}function Ks(t,e,r){return e&&Xs(t.prototype,e),r&&Xs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qs(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}!function(t,e,r){(e=Os(e))in t?Object.defineProperty(t,e,{value:3e3,enumerable:!0,configurable:!0,writable:!0}):t[e]=3e3}(Ns,"MAX_PATTERN_SIZE");var Js=16,$s=function(){return Ks((function t(e){Ys(this,t),this.canvasFactory=e,this.cache=Object.create(null)}),[{key:"getCanvas",value:function(t,e,r){var n;return void 0!==this.cache[t]?(n=this.cache[t],this.canvasFactory.reset(n,e,r)):(n=this.canvasFactory.create(e,r),this.cache[t]=n),n}},{key:"delete",value:function(t){delete this.cache[t]}},{key:"clear",value:function(){for(var t in this.cache){var e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}])}();function Zs(t,e,r,n,i,a,o,s,u,c){var l=zs(je(t),6),h=l[0],f=l[1],d=l[2],v=l[3],p=l[4],y=l[5];if(0===f&&0===d){var g=o*h+p,m=Math.round(g),b=s*v+y,w=Math.round(b),k=(o+u)*h+p,x=Math.abs(Math.round(k)-m)||1,A=(s+c)*v+y,_=Math.abs(Math.round(A)-w)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(v),m,w),t.drawImage(e,r,n,i,a,0,0,x,_),t.setTransform(h,f,d,v,p,y),[x,_]}if(0===h&&0===v){var E=s*d+p,S=Math.round(E),O=o*f+y,T=Math.round(O),P=(s+c)*d+p,L=Math.abs(Math.round(P)-S)||1,M=(o+u)*f+y,C=Math.abs(Math.round(M)-T)||1;return t.setTransform(0,Math.sign(f),Math.sign(d),0,S,T),t.drawImage(e,r,n,i,a,0,0,C,L),t.setTransform(h,f,d,v,p,y),[C,L]}return t.drawImage(e,r,n,i,a,o,s,u,c),[Math.hypot(h,f)*u,Math.hypot(d,v)*c]}var tu=function(){return Ks((function t(e,r){Ys(this,t),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=b,this.textMatrixScale=1,this.fontMatrix=w,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=0,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,r])}),[{key:"clone",value:function(){var t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}},{key:"updatePathMinMax",value:function(t,e,r){var n=zs(Z.applyTransform([e,r],t),2);e=n[0],r=n[1],this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,r)}},{key:"updateRectMinMax",value:function(t,e){var r=Z.applyTransform(e,t),n=Z.applyTransform(e.slice(2),t),i=Z.applyTransform([e[0],e[3]],t),a=Z.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,r[0],n[0],i[0],a[0]),this.minY=Math.min(this.minY,r[1],n[1],i[1],a[1]),this.maxX=Math.max(this.maxX,r[0],n[0],i[0],a[0]),this.maxY=Math.max(this.maxY,r[1],n[1],i[1],a[1])}},{key:"updateScalingPathMinMax",value:function(t,e){Z.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}},{key:"updateCurvePathMinMax",value:function(t,e,r,n,i,a,o,s,u,c){var l=Z.bezierBoundingBox(e,r,n,i,a,o,s,u,c);c||this.updateRectMinMax(t,l)}},{key:"getPathBoundingBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ps){e||F("Stroke bounding box must include transform.");var n=Z.singularValueDecompose2dScale(e),i=n[0]*this.lineWidth/2,a=n[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}},{key:"updateClipFromPath",value:function(){var t=Z.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}},{key:"isEmptyClip",value:function(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Z.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}])}();function eu(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)t.putImageData(e,0,0);else{var r,n,i,a,o,s=e.height,u=e.width,c=s%Js,l=(s-c)/Js,h=0===c?l:l+1,f=t.createImageData(u,Js),d=0,v=e.data,p=f.data;if(e.kind===S.GRAYSCALE_1BPP){var y=v.byteLength,g=new Uint32Array(p.buffer,0,p.byteLength>>2),m=g.length,b=u+7>>3,w=4294967295,k=J.isLittleEndian?4278190080:255;for(n=0;n<h;n++){for(a=n<l?Js:c,r=0,i=0;i<a;i++){for(var x=y-d,A=0,_=x>b?u:8*x-7,E=-8&_,O=0,T=0;A<E;A+=8)T=v[d++],g[r++]=128&T?w:k,g[r++]=64&T?w:k,g[r++]=32&T?w:k,g[r++]=16&T?w:k,g[r++]=8&T?w:k,g[r++]=4&T?w:k,g[r++]=2&T?w:k,g[r++]=1&T?w:k;for(;A<_;A++)0===O&&(T=v[d++],O=128),g[r++]=T&O?w:k,O>>=1}for(;r<m;)g[r++]=0;t.putImageData(f,0,n*Js)}}else if(e.kind===S.RGBA_32BPP){for(i=0,o=u*Js*4,n=0;n<l;n++)p.set(v.subarray(d,d+o)),d+=o,t.putImageData(f,0,i),i+=Js;n<h&&(o=u*c*4,p.set(v.subarray(d,d+o)),t.putImageData(f,0,i))}else{if(e.kind!==S.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));for(o=u*(a=Js),n=0;n<h;n++){for(n>=l&&(o=u*(a=c)),r=0,i=o;i--;)p[r++]=v[d++],p[r++]=v[d++],p[r++]=v[d++],p[r++]=255;t.putImageData(f,0,n*Js)}}}}function ru(t,e){if(e.bitmap)t.drawImage(e.bitmap,0,0);else for(var r=e.height,n=e.width,i=r%Js,a=(r-i)/Js,o=0===i?a:a+1,s=t.createImageData(n,Js),u=0,c=e.data,l=s.data,h=0;h<o;h++)u=Bs({src:c,srcPos:u,dest:l,width:n,height:h<a?Js:i,nonBlackColor:0}).srcPos,t.putImageData(s,0,h*Js)}function nu(t,e){for(var r=0,n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];r<n.length;r++){var i=n[r];void 0!==t[i]&&(e[i]=t[i])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function iu(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0),!m){var e=t.filter;"none"!==e&&""!==e&&(t.filter="none")}}function au(t,e){if(e)return!0;var r=Z.singularValueDecompose2dScale(t);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);var n=Math.fround((globalThis.devicePixelRatio||1)*Vt.PDF_TO_CSS_UNITS);return r[0]<=n&&r[1]<=n}var ou=["butt","round","square"],su=["miter","round","bevel"],uu={},cu={},lu=new WeakSet,hu=function(){function t(e,r,n,i,a,o,s,u){var c=o.optionalContentConfig,l=o.markedContentStack,h=void 0===l?null:l;Ys(this,t),function(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}(this,lu),this.ctx=e,this.current=new tu(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new $s(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}return Ks(t,[{key:"getObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}},{key:"beginDrawing",value:function(t){var e,r,n=t.transform,i=t.viewport,a=t.transparency,o=void 0!==a&&a,s=t.background,u=void 0===s?null:s,c=this.ctx.canvas.width,l=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=u||"#ffffff",this.ctx.fillRect(0,0,c,l),this.ctx.fillStyle=h,o){var f,d=this.cachedCanvases.getCanvas("transparent",c,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),(f=this.ctx).transform.apply(f,Gs(je(this.compositeCtx)))}this.ctx.save(),iu(this.ctx),n&&((r=this.ctx).transform.apply(r,Gs(n)),this.outputScaleX=n[0],this.outputScaleY=n[0]),(e=this.ctx).transform.apply(e,Gs(i.transform)),this.viewportScale=i.scale,this.baseTransform=je(this.ctx)}},{key:"executeOperatorList",value:function(t,e,r,n){var i=t.argsArray,a=t.fnArray,o=e||0,s=i.length;if(s===o)return o;for(var u,c=s-o>10&&"function"==typeof r,l=c?Date.now()+15:0,h=0,f=this.commonObjs,d=this.objs;;){if(void 0!==n&&o===n.nextBreakPoint)return n.breakIt(o,r),o;if((u=a[o])!==P.dependency)this[u].apply(this,i[o]);else{var v,p=Us(i[o]);try{for(p.s();!(v=p.n()).done;){var y=v.value,g=y.startsWith("g_")?f:d;if(!g.has(y))return g.get(y,r),o}}catch(t){p.e(t)}finally{p.f()}}if(++o===s)return o;if(c&&++h>10){if(Date.now()>l)return r(),o;h=0}}}},{key:"endDrawing",value:function(){Hs(lu,this,fu).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();var t,e=Us(this._cachedBitmapsMap.values());try{for(e.s();!(t=e.n()).done;){var r,n=t.value,i=Us(n.values());try{for(i.s();!(r=i.n()).done;){var a=r.value;"undefined"!=typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement&&(a.width=a.height=0)}}catch(t){i.e(t)}finally{i.f()}n.clear()}}catch(t){e.e(t)}finally{e.f()}this._cachedBitmapsMap.clear(),Hs(lu,this,du).call(this)}},{key:"_scaleImage",value:function(t,e){for(var r,n,i=t.width,a=t.height,o=Math.max(Math.hypot(e[0],e[1]),1),s=Math.max(Math.hypot(e[2],e[3]),1),u=i,c=a,l="prescale1";o>2&&u>1||s>2&&c>1;){var h=u,f=c;o>2&&u>1&&(o/=u/(h=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2))),s>2&&c>1&&(s/=c/(f=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2)),(n=(r=this.cachedCanvases.getCanvas(l,h,f)).context).clearRect(0,0,h,f),n.drawImage(t,0,0,u,c,0,0,h,f),t=r.canvas,u=h,c=f,l="prescale1"===l?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:c}}},{key:"_createMaskCanvas",value:function(t){var e,r,n,i,a=this.ctx,o=t.width,s=t.height,u=this.current.fillColor,c=this.current.patternFill,l=je(a);if((t.bitmap||t.data)&&t.count>1){var h=t.bitmap||t.data.buffer;r=JSON.stringify(c?l:[l.slice(0,4),u]),(e=this._cachedBitmapsMap.get(h))||(e=new Map,this._cachedBitmapsMap.set(h,e));var f=e.get(r);if(f&&!c)return{canvas:f,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])};n=f}n||ru((i=this.cachedCanvases.getCanvas("maskCanvas",o,s)).context,t);var d=Z.transform(l,[1/o,0,0,-1/s,0,0]);d=Z.transform(d,[1,0,0,1,0,-s]);var v=zs(Z.getAxialAlignedBoundingBox([0,0,o,s],d),4),p=v[0],y=v[1],g=v[2],m=v[3],b=Math.round(g-p)||1,w=Math.round(m-y)||1,k=this.cachedCanvases.getCanvas("fillCanvas",b,w),x=k.context,A=p,_=y;x.translate(-A,-_),x.transform.apply(x,Gs(d)),n||(n=(n=this._scaleImage(i.canvas,Ie(x))).img,e&&c&&e.set(r,n)),x.imageSmoothingEnabled=au(je(x),t.interpolate),Zs(x,n,0,0,n.width,n.height,0,0,o,s),x.globalCompositeOperation="source-in";var E=Z.transform(Ie(x),[1,0,0,1,-A,-_]);return x.fillStyle=c?u.getPattern(a,this,E,Ts):u,x.fillRect(0,0,o,s),e&&!c&&(this.cachedCanvases.delete("fillCanvas"),e.set(r,k.canvas)),{canvas:k.canvas,offsetX:Math.round(A),offsetY:Math.round(_)}}},{key:"setLineWidth",value:function(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}},{key:"setLineCap",value:function(t){this.ctx.lineCap=ou[t]}},{key:"setLineJoin",value:function(t){this.ctx.lineJoin=su[t]}},{key:"setMiterLimit",value:function(t){this.ctx.miterLimit=t}},{key:"setDash",value:function(t,e){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(t),r.lineDashOffset=e)}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){var e,r=Us(t);try{for(r.s();!(e=r.n()).done;){var n=zs(e.value,2),i=n[0],a=n[1];switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a)}}}catch(t){r.e(t)}finally{r.f()}}},{key:"inSMaskMode",get:function(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function(){var t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var t=this.ctx.canvas.width,e=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,n=this.cachedCanvases.getCanvas(r,t,e);this.suspendedCtx=this.ctx,this.ctx=n.context;var i=this.ctx;i.setTransform.apply(i,Gs(je(this.suspendedCtx))),nu(this.suspendedCtx,i),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=function(){t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},t.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},t.transform=function(t,r,n,i,a,o){e.transform(t,r,n,i,a,o),this.__originalTransform(t,r,n,i,a,o)},t.setTransform=function(t,r,n,i,a,o){e.setTransform(t,r,n,i,a,o),this.__originalSetTransform(t,r,n,i,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},t.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},t.bezierCurveTo=function(t,r,n,i,a,o){e.bezierCurveTo(t,r,n,i,a,o),this.__originalBezierCurveTo(t,r,n,i,a,o)},t.rect=function(t,r,n,i){e.rect(t,r,n,i),this.__originalRect(t,r,n,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}},{key:"compose",value:function(t){if(this.current.activeSMask){t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var e=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"composeSMask",value:function(t,e,r,n){var i=n[0],a=n[1],o=n[2]-i,s=n[3]-a;0!==o&&0!==s&&(this.genericComposeSMask(e.context,r,o,s,e.subtype,e.backdrop,e.transferMap,i,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(r.canvas,0,0),t.restore())}},{key:"genericComposeSMask",value:function(t,e,r,n,i,a,o,s,u,c,l){var h=t.canvas,f=s-c,d=u-l;if(a)if(f<0||d<0||f+r>h.width||d+n>h.height){var v=this.cachedCanvases.getCanvas("maskExtension",r,n),p=v.context;p.drawImage(h,-f,-d),a.some((function(t){return 0!==t}))&&(p.globalCompositeOperation="destination-atop",p.fillStyle=Z.makeHexColor.apply(Z,Gs(a)),p.fillRect(0,0,r,n),p.globalCompositeOperation="source-over"),h=v.canvas,f=d=0}else if(a.some((function(t){return 0!==t}))){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);var y=new Path2D;y.rect(f,d,r,n),t.clip(y),t.globalCompositeOperation="destination-atop",t.fillStyle=Z.makeHexColor.apply(Z,Gs(a)),t.fillRect(f,d,r,n),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===i&&o?e.filter=this.filterFactory.addAlphaFilter(o):"Luminosity"===i&&(e.filter=this.filterFactory.addLuminosityFilter(o));var g=new Path2D;g.rect(s,u,r,n),e.clip(g),e.globalCompositeOperation="destination-in",e.drawImage(h,f,d,r,n,s,u,r,n),e.restore()}},{key:"save",value:function(){this.inSMaskMode?(nu(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),nu(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(t,e,r,n,i,a){this.ctx.transform(t,e,r,n,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(t,e,r){for(var n,i,a=this.ctx,o=this.current,s=o.x,u=o.y,c=je(a),l=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],h=l?r.slice(0):null,f=0,d=0,v=t.length;f<v;f++)switch(0|t[f]){case P.rectangle:s=e[d++],u=e[d++];var p=e[d++],y=e[d++],g=s+p,m=u+y;a.moveTo(s,u),0===p||0===y?a.lineTo(g,m):(a.lineTo(g,u),a.lineTo(g,m),a.lineTo(s,m)),l||o.updateRectMinMax(c,[s,u,g,m]),a.closePath();break;case P.moveTo:s=e[d++],u=e[d++],a.moveTo(s,u),l||o.updatePathMinMax(c,s,u);break;case P.lineTo:s=e[d++],u=e[d++],a.lineTo(s,u),l||o.updatePathMinMax(c,s,u);break;case P.curveTo:n=s,i=u,s=e[d+4],u=e[d+5],a.bezierCurveTo(e[d],e[d+1],e[d+2],e[d+3],s,u),o.updateCurvePathMinMax(c,n,i,e[d],e[d+1],e[d+2],e[d+3],s,u,h),d+=6;break;case P.curveTo2:n=s,i=u,a.bezierCurveTo(s,u,e[d],e[d+1],e[d+2],e[d+3]),o.updateCurvePathMinMax(c,n,i,s,u,e[d],e[d+1],e[d+2],e[d+3],h),s=e[d+2],u=e[d+3],d+=4;break;case P.curveTo3:n=s,i=u,s=e[d+2],u=e[d+3],a.bezierCurveTo(e[d],e[d+1],s,u,s,u),o.updateCurvePathMinMax(c,n,i,e[d],e[d+1],s,u,s,u,h),d+=4;break;case P.closePath:a.closePath()}l&&o.updateScalingPathMinMax(c,h),o.setCurrentPoint(s,u)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.ctx,r=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof r&&null!=r&&r.getPattern?(e.save(),e.strokeStyle=r.getPattern(e,this,Ie(e),Ps),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.ctx,r=this.current.fillColor,n=!1;this.current.patternFill&&(e.save(),e.fillStyle=r.getPattern(e,this,Ie(e),Ts),n=!0);var i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),n&&e.restore(),t&&this.consumePath(i)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=uu}},{key:"eoClip",value:function(){this.pendingClip=cu}},{key:"beginText",value:function(){this.current.textMatrix=b,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();var r,n=Us(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;e.setTransform.apply(e,Gs(i.transform)),e.translate(i.x,i.y),i.addToPath(e,i.fontSize)}}catch(t){n.e(t)}finally{n.f()}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setFont",value:function(t,e){var r,n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error("Can't find font for ".concat(t));if(i.fontMatrix=n.fontMatrix||w,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||R("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,!n.isType3Font){var a=n.loadedName||"sans-serif",o=(null===(r=n.systemFontInfo)||void 0===r?void 0:r.css)||'"'.concat(a,'", ').concat(n.fallbackName),s="normal";n.black?s="900":n.bold&&(s="bold");var u=n.italic?"italic":"normal",c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font="".concat(u," ").concat(s," ").concat(c,"px ").concat(o)}}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"moveText",value:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"setTextMatrix",value:function(t,e,r,n,i,a){this.current.textMatrix=[t,e,r,n,i,a],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(t,e,r,n){var i,a=this.ctx,o=this.current,s=o.font,u=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,l=3&u,h=!!(4&u),f=o.patternFill&&!s.missingFile;(s.disableFontFace||h||f)&&(i=s.getPathGenerator(this.commonObjs,t)),s.disableFontFace||f?(a.save(),a.translate(e,r),a.beginPath(),i(a,c),n&&a.setTransform.apply(a,Gs(n)),0!==l&&2!==l||a.fill(),1!==l&&2!==l||a.stroke(),a.restore()):(0!==l&&2!==l||a.fillText(t,e,r),1!==l&&2!==l||a.strokeText(t,e,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:je(a),x:e,y:r,fontSize:c,addToPath:i})}},{key:"isFontSubpixelAAEnabled",get:function(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,r=!1,n=3;n<e.length;n+=4)if(e[n]>0&&e[n]<255){r=!0;break}return W(this,"isFontSubpixelAAEnabled",r)}},{key:"showText",value:function(t){var e=this.current,r=e.font;if(r.isType3Font)return this.showType3Text(t);var n=e.fontSize;if(0!==n){var i,a=this.ctx,o=e.fontSizeScale,s=e.charSpacing,u=e.wordSpacing,c=e.fontDirection,l=e.textHScale*c,h=t.length,f=r.vertical,d=f?1:-1,v=r.defaultVMetrics,p=n*e.fontMatrix[0],y=0===e.textRenderingMode&&!r.disableFontFace&&!e.patternFill;if(a.save(),a.transform.apply(a,Gs(e.textMatrix)),a.translate(e.x,e.y+e.textRise),c>0?a.scale(l,-1):a.scale(l,1),e.patternFill){a.save();var g=e.fillColor.getPattern(a,this,Ie(a),Ts);i=je(a),a.restore(),a.fillStyle=g}var m=e.lineWidth,b=e.textMatrixScale;if(0===b||0===m){var w=3&e.textRenderingMode;1!==w&&2!==w||(m=this.getSinglePixelWidth())}else m/=b;if(1!==o&&(a.scale(o,o),m/=o),a.lineWidth=m,r.isInvalidPDFjsFont){var k,x=[],A=0,_=Us(t);try{for(_.s();!(k=_.n()).done;){var E=k.value;x.push(E.unicode),A+=E.width}}catch(t){_.e(t)}finally{_.f()}return a.fillText(x.join(""),0,0),e.x+=A*p*l,a.restore(),void this.compose()}var S,O=0;for(S=0;S<h;++S){var T=t[S];if("number"!=typeof T){var P=!1,L=(T.isSpace?u:0)+s,M=T.fontChar,C=T.accent,j=void 0,I=void 0,R=T.width;if(f){var F=T.vmetric||v,D=-(T.vmetric?F[1]:.5*R)*p,N=F[2]*p;R=F?-F[0]:R,j=D/o,I=(O+N)/o}else j=O/o,I=0;if(r.remeasure&&R>0){var W=1e3*a.measureText(M).width/n*o;if(R<W&&this.isFontSubpixelAAEnabled){var B=R/W;P=!0,a.save(),a.scale(B,1),j/=B}else R!==W&&(j+=(R-W)/2e3*n/o)}if(this.contentVisible&&(T.isInFont||r.missingFile))if(y&&!C)a.fillText(M,j,I);else if(this.paintChar(M,j,I,i),C){var G=j+n*C.offset.x/o,H=I-n*C.offset.y/o;this.paintChar(C.fontChar,G,H,i)}O+=f?R*p-L*c:R*p+L*c,P&&a.restore()}else O+=d*T*n/1e3}f?e.y-=O:e.x+=O*l,a.restore(),this.compose()}}},{key:"showType3Text",value:function(t){var e,r,n,i,a=this.ctx,o=this.current,s=o.font,u=o.fontSize,c=o.fontDirection,l=s.vertical?1:-1,h=o.charSpacing,f=o.wordSpacing,d=o.textHScale*c,v=o.fontMatrix||w,p=t.length;if(3!==o.textRenderingMode&&0!==u){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,Gs(o.textMatrix)),a.translate(o.x,o.y),a.scale(d,c),e=0;e<p;++e)if("number"!=typeof(r=t[e])){var y=(r.isSpace?f:0)+h,g=s.charProcOperatorList[r.operatorListId];g?(this.contentVisible&&(this.processingType3=r,this.save(),a.scale(u,u),a.transform.apply(a,Gs(v)),this.executeOperatorList(g),this.restore()),n=Z.applyTransform([r.width,0],v)[0]*u+y,a.translate(n,0),o.x+=n*d):R('Type3 character "'.concat(r.operatorListId,'" is not available.'))}else i=l*r*u/1e3,this.ctx.translate(i,0),o.x+=i*d;a.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(t,e){}},{key:"setCharWidthAndBounds",value:function(t,e,r,n,i,a){this.ctx.rect(r,n,i-r,a-n),this.ctx.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(e){var r,n=this;if("TilingPattern"===e[0]){var i=e[1],a=this.baseTransform||je(this.ctx),o={createCanvasGraphics:function(e){return new t(e,n.commonObjs,n.objs,n.canvasFactory,n.filterFactory,{optionalContentConfig:n.optionalContentConfig,markedContentStack:n.markedContentStack})}};r=new Ns(e,i,this.ctx,o,a)}else r=this._getPattern(e[1],e[2]);return r}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(t,e,r){this.ctx.strokeStyle=this.current.strokeColor=Z.makeHexColor(t,e,r)}},{key:"setStrokeTransparent",value:function(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}},{key:"setFillRGBColor",value:function(t,e,r){this.ctx.fillStyle=this.current.fillColor=Z.makeHexColor(t,e,r),this.current.patternFill=!1}},{key:"setFillTransparent",value:function(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}},{key:"_getPattern",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=function(t){switch(t[0]){case"RadialAxial":return new js(t);case"Mesh":return new Fs(t);case"Dummy":return new Ds}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t)),this.cachedPatterns.set(t,e)),r&&(e.matrix=r),e}},{key:"shadingFill",value:function(t){if(this.contentVisible){var e=this.ctx;this.save();var r=this._getPattern(t);e.fillStyle=r.getPattern(e,this,Ie(e),Ls);var n=Ie(e);if(n){var i=e.canvas,a=i.width,o=i.height,s=zs(Z.getAxialAlignedBoundingBox([0,0,a,o],n),4),u=s[0],c=s[1],l=s[2],h=s[3];this.ctx.fillRect(u,c,l-u,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){F("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){F("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform.apply(this,Gs(t)),this.baseTransform=je(this.ctx),e)){var r=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],r,n),this.current.updateRectMinMax(je(this.ctx),e),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(t){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var e=this.ctx;t.isolated||I("TODO: Support non-isolated groups."),t.knockout&&R("Knockout groups not supported.");var r=je(e);if(t.matrix&&e.transform.apply(e,Gs(t.matrix)),!t.bbox)throw new Error("Bounding box is required.");var n=Z.getAxialAlignedBoundingBox(t.bbox,je(e)),i=[0,0,e.canvas.width,e.canvas.height];n=Z.intersect(n,i)||[0,0,0,0];var a=Math.floor(n[0]),o=Math.floor(n[1]),s=Math.max(Math.ceil(n[2])-a,1),u=Math.max(Math.ceil(n[3])-o,1);this.current.startNewPathAndClipBox([0,0,s,u]);var c="groupAt"+this.groupLevel;t.smask&&(c+="_smask_"+this.smaskCounter++%2);var l=this.cachedCanvases.getCanvas(c,s,u),h=l.context;h.translate(-a,-o),h.transform.apply(h,Gs(r)),t.smask?this.smaskStack.push({canvas:l.canvas,context:h,offsetX:a,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,o),e.save()),nu(e,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}}},{key:"endGroup",value:function(t){if(this.contentVisible){this.groupLevel--;var e=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{var n;this.ctx.restore();var i=je(this.ctx);this.restore(),this.ctx.save(),(n=this.ctx).setTransform.apply(n,Gs(i));var a=Z.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],i);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}}},{key:"beginAnnotation",value:function(t,e,r,n,i){var a;if(Hs(lu,this,fu).call(this),iu(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&(a=this.ctx).setTransform.apply(a,Gs(this.baseTransform)),e){var o=e[2]-e[0],s=e[3]-e[1];if(i&&this.annotationCanvasMap){(r=r.slice())[4]-=e[0],r[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=o,e[3]=s;var u=zs(Z.singularValueDecompose2dScale(je(this.ctx)),2),c=u[0],l=u[1],h=this.viewportScale,f=Math.ceil(o*this.outputScaleX*h),d=Math.ceil(s*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,d);var v=this.annotationCanvas,p=v.canvas,y=v.context;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(c,0,0,-l,0,s*l),iu(this.ctx)}else iu(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],o,s),this.ctx.clip(),this.ctx.beginPath()}this.current=new tu(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,Gs(r)),this.transform.apply(this,Gs(n))}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx.restore(),Hs(lu,this,du).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}},{key:"paintImageMaskXObject",value:function(t){if(this.contentVisible){var e=t.count;(t=this.getObject(t.data,t)).count=e;var r=this.ctx,n=this.processingType3;if(n&&(void 0===n.compiled&&(n.compiled=function(t){var e=t.width,r=t.height;if(e>1e3||r>1e3)return null;var n,i,a,o,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=e+1,c=new Uint8Array(u*(r+1)),l=e+7&-8,h=new Uint8Array(l*r),f=0,d=Us(t.data);try{for(d.s();!(o=d.n()).done;)for(var v=o.value,p=128;p>0;)h[f++]=v&p?0:255,p>>=1}catch(t){d.e(t)}finally{d.f()}var y=0;for(0!==h[f=0]&&(c[0]=1,++y),i=1;i<e;i++)h[f]!==h[f+1]&&(c[i]=h[f]?2:1,++y),f++;for(0!==h[f]&&(c[i]=2,++y),n=1;n<r;n++){a=n*u,h[(f=n*l)-l]!==h[f]&&(c[a]=h[f]?1:8,++y);var g=(h[f]?4:0)+(h[f-l]?8:0);for(i=1;i<e;i++)s[g=(g>>2)+(h[f+1]?4:0)+(h[f-l+1]?8:0)]&&(c[a+i]=s[g],++y),f++;if(h[f-l]!==h[f]&&(c[a+i]=h[f]?2:4,++y),y>1e3)return null}for(a=n*u,0!==h[f=l*(r-1)]&&(c[a]=8,++y),i=1;i<e;i++)h[f]!==h[f+1]&&(c[a+i]=h[f]?4:8,++y),f++;if(0!==h[f]&&(c[a+i]=4,++y),y>1e3)return null;var m=new Int32Array([0,u,-1,0,-u,0,0,0,1]),b=new Path2D;for(n=0;y&&n<=r;n++){for(var w=n*u,k=w+e;w<k&&!c[w];)w++;if(w!==k){b.moveTo(w%u,n);var x=w,A=c[w];do{var _=m[A];do{w+=_}while(!c[w]);var E=c[w];5!==E&&10!==E?(A=E,c[w]=0):(A=E&51*A>>4,c[w]&=A>>2|A<<2),b.lineTo(w%u,w/u|0),c[w]||--y}while(x!==w);--n}}return h=null,c=null,function(t){t.save(),t.scale(1/e,-1/r),t.translate(0,-r),t.fill(b),t.beginPath(),t.restore()}}(t)),n.compiled))n.compiled(r);else{var i=this._createMaskCanvas(t),a=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,i.offsetX,i.offsetY),r.restore(),this.compose()}}}},{key:"paintImageMaskXObjectRepeat",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){t=this.getObject(t.data,t);var o=this.ctx;o.save();var s=je(o);o.transform(e,r,n,i,0,0);var u=this._createMaskCanvas(t);o.setTransform(1,0,0,1,u.offsetX-s[4],u.offsetY-s[5]);for(var c=0,l=a.length;c<l;c+=2){var h=Z.transform(s,[e,r,n,i,a[c],a[c+1]]),f=zs(Z.applyTransform([0,0],h),2),d=f[0],v=f[1];o.drawImage(u.canvas,d,v)}o.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(t){if(this.contentVisible){var e,r=this.ctx,n=this.current.fillColor,i=this.current.patternFill,a=Us(t);try{for(a.s();!(e=a.n()).done;){var o=e.value,s=o.data,u=o.width,c=o.height,l=o.transform,h=this.cachedCanvases.getCanvas("maskCanvas",u,c),f=h.context;f.save(),ru(f,this.getObject(s,o)),f.globalCompositeOperation="source-in",f.fillStyle=i?n.getPattern(f,this,Ie(r),Ts):n,f.fillRect(0,0,u,c),f.restore(),r.save(),r.transform.apply(r,Gs(l)),r.scale(1,-1),Zs(r,h.canvas,0,0,u,c,0,-1,1,1),r.restore()}}catch(t){a.e(t)}finally{a.f()}this.compose()}}},{key:"paintImageXObject",value:function(t){if(this.contentVisible){var e=this.getObject(t);e?this.paintInlineImageXObject(e):R("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(t,e,r,n){if(this.contentVisible){var i=this.getObject(t);if(i){for(var a=i.width,o=i.height,s=[],u=0,c=n.length;u<c;u+=2)s.push({transform:[e,0,0,r,n[u],n[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(i,s)}else R("Dependent image isn't ready yet")}}},{key:"applyTransferMapsToCanvas",value:function(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}},{key:"applyTransferMapsToBitmap",value:function(t){if("none"===this.current.transferMaps)return t.bitmap;var e=t.bitmap,r=t.width,n=t.height,i=this.cachedCanvases.getCanvas("inlineImage",r,n),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",i.canvas}},{key:"paintInlineImageXObject",value:function(t){if(this.contentVisible){var e,r=t.width,n=t.height,i=this.ctx;if(this.save(),!m){var a=i.filter;"none"!==a&&""!==a&&(i.filter="none")}if(i.scale(1/r,-1/n),t.bitmap)e=this.applyTransferMapsToBitmap(t);else if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)e=t;else{var o=this.cachedCanvases.getCanvas("inlineImage",r,n).context;eu(o,t),e=this.applyTransferMapsToCanvas(o)}var s=this._scaleImage(e,Ie(i));i.imageSmoothingEnabled=au(je(i),t.interpolate),Zs(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,r,n),this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(t,e){if(this.contentVisible){var r,n=this.ctx;if(t.bitmap)r=t.bitmap;else{var i=t.width,a=t.height,o=this.cachedCanvases.getCanvas("inlineImage",i,a).context;eu(o,t),r=this.applyTransferMapsToCanvas(o)}var s,u=Us(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;n.save(),n.transform.apply(n,Gs(c.transform)),n.scale(1,-1),Zs(n,r,c.x,c.y,c.w,c.h,0,-1,1,1),n.restore()}}catch(t){u.e(t)}finally{u.f()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(t){}},{key:"markPointProps",value:function(t,e){}},{key:"beginMarkedContent",value:function(t){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(t){var e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);var r=this.ctx;this.pendingClip&&(e||(this.pendingClip===cu?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(!this._cachedGetSinglePixelWidth){var t=je(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{var e=Math.abs(t[0]*t[3]-t[2]*t[1]),r=Math.hypot(t[0],t[2]),n=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(r,n)/e}}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function(){if(-1===this._cachedScaleForStroking[0]){var t,e,r=this.current.lineWidth,n=this.ctx.getTransform(),i=n.a,a=n.b,o=n.c,s=n.d;if(0===a&&0===o){var u=Math.abs(i),c=Math.abs(s);if(u===c)if(0===r)t=e=1/u;else{var l=u*r;t=e=l<1?1/l:1}else if(0===r)t=1/u,e=1/c;else{var h=u*r,f=c*r;t=h<1?1/h:1,e=f<1?1/f:1}}else{var d=Math.abs(i*s-a*o),v=Math.hypot(i,a),p=Math.hypot(o,s);if(0===r)t=p/d,e=v/d;else{var y=r*d;t=p>y?p/y:1,e=v>y?v/y:1}}this._cachedScaleForStroking[0]=t,this._cachedScaleForStroking[1]=e}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function(t){var e=this.ctx,r=this.current.lineWidth,n=zs(this.getScaleForStroking(),2),i=n[0],a=n[1];if(e.lineWidth=r||1,1!==i||1!==a){var o=e.getLineDash();if(t&&e.save(),e.scale(i,a),o.length>0){var s=Math.max(i,a);e.setLineDash(o.map((function(t){return t/s}))),e.lineDashOffset/=s}e.stroke(),t&&e.restore()}else e.stroke()}},{key:"isContentVisible",value:function(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}])}();function fu(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function du(){if(this.pageColors){var t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){var e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}for(var vu in P)void 0!==hu.prototype[vu]&&(hu.prototype[P[vu]]=hu.prototype[vu]);function pu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yu(n.key),n)}}function yu(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function gu(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var mu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return r&&pu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,0,[{key:"workerPort",get:function(){return gu(t,this,bu)._},set:function(e){if(!("undefined"!=typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");bu._=gu(t,this,e)}},{key:"workerSrc",get:function(){return gu(t,this,wu)._},set:function(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");wu._=gu(t,this,e)}}])}(),bu={_:null},wu={_:""};function ku(){ku=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function xu(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Au(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_u(n.key),n)}}function _u(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Eu(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}r(5204);function Su(t){switch(t instanceof Error||"object"==typeof t&&null!==t||F('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Y(t.message);case"MissingPDFException":return new z(t.message);case"PasswordException":return new G(t.message,t.code);case"UnexpectedResponseException":return new V(t.message,t.status);case"UnknownErrorException":return new H(t.message,t.details);default:return new H(t.message,t.toString())}}var Ou=new WeakSet,Tu=function(){return function(t,e,r){return e&&Au(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}(this,Ou),this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(t){var e=t.data;if(e.targetName===i.sourceName)if(e.stream)Eu(Ou,i,Lu).call(i,e);else if(e.callback){var r=e.callbackId,a=i.callbackCapabilities[r];if(!a)throw new Error("Cannot resolve callback ".concat(r));if(delete i.callbackCapabilities[r],1===e.callback)a.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");a.reject(Su(e.reason))}}else{var o=i.actionHandler[e.action];if(!o)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){var s=i.sourceName,u=e.sourceName;new Promise((function(t){t(o(e.data))})).then((function(t){n.postMessage({sourceName:s,targetName:u,callback:1,callbackId:e.callbackId,data:t})}),(function(t){n.postMessage({sourceName:s,targetName:u,callback:2,callbackId:e.callbackId,reason:Su(t)})}))}else e.streamId?Eu(Ou,i,Pu).call(i,e):o(e.data)}},n.addEventListener("message",this._onComObjOnMessage)}),[{key:"on",value:function(t,e){var r=this.actionHandler;if(r[t])throw new Error('There is already an actionName called "'.concat(t,'"'));r[t]=e}},{key:"send",value:function(t,e,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},r)}},{key:"sendWithPromise",value:function(t,e,r){var n=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[n]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:n,data:e},r)}catch(t){i.reject(t)}return i.promise}},{key:"sendWithStream",value:function(t,e,r,n){var i=this,a=this.streamId++,o=this.sourceName,s=this.targetName,u=this.comObj;return new ReadableStream({start:function(r){var c=Promise.withResolvers();return i.streamControllers[a]={controller:r,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:s,action:t,streamId:a,data:e,desiredSize:r.desiredSize},n),c.promise},pull:function(t){var e=Promise.withResolvers();return i.streamControllers[a].pullCall=e,u.postMessage({sourceName:o,targetName:s,stream:6,streamId:a,desiredSize:t.desiredSize}),e.promise},cancel:function(t){D(t instanceof Error,"cancel must have a valid reason");var e=Promise.withResolvers();return i.streamControllers[a].cancelCall=e,i.streamControllers[a].isClosed=!0,u.postMessage({sourceName:o,targetName:s,stream:1,streamId:a,reason:Su(t)}),e.promise}},r)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}])}();function Pu(t){var e=t.streamId,r=this.sourceName,n=t.sourceName,i=this.comObj,a=this,o=this.actionHandler[t.action],s={enqueue(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var s=this.desiredSize;this.desiredSize-=a,s>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:n,stream:4,streamId:e,chunk:t},o)}},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:n,stream:3,streamId:e}),delete a.streamSinks[e])},error(t){D(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:n,stream:5,streamId:e,reason:Su(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};s.sinkCapability.resolve(),s.ready=s.sinkCapability.promise,this.streamSinks[e]=s,new Promise((function(e){e(o(t.data,s))})).then((function(){i.postMessage({sourceName:r,targetName:n,stream:8,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:r,targetName:n,stream:8,streamId:e,reason:Su(t)})}))}function Lu(t){var e=t.streamId,r=this.sourceName,n=t.sourceName,i=this.comObj,a=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case 8:t.success?a.startCall.resolve():a.startCall.reject(Su(t.reason));break;case 7:t.success?a.pullCall.resolve():a.pullCall.reject(Su(t.reason));break;case 6:if(!o){i.postMessage({sourceName:r,targetName:n,stream:7,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,new Promise((function(t){var e;t(null===(e=o.onPull)||void 0===e?void 0:e.call(o))})).then((function(){i.postMessage({sourceName:r,targetName:n,stream:7,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:r,targetName:n,stream:7,streamId:e,reason:Su(t)})}));break;case 4:if(D(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case 3:if(D(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),Eu(Ou,this,Mu).call(this,a,e);break;case 5:D(a,"error should have stream controller"),a.controller.error(Su(t.reason)),Eu(Ou,this,Mu).call(this,a,e);break;case 2:t.success?a.cancelCall.resolve():a.cancelCall.reject(Su(t.reason)),Eu(Ou,this,Mu).call(this,a,e);break;case 1:if(!o)break;new Promise((function(e){var r;e(null===(r=o.onCancel)||void 0===r?void 0:r.call(o,Su(t.reason)))})).then((function(){i.postMessage({sourceName:r,targetName:n,stream:2,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:r,targetName:n,stream:2,streamId:e,reason:Su(t)})})),o.sinkCapability.reject(Su(t.reason)),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}function Mu(t,e){return Cu.apply(this,arguments)}function Cu(){var t;return t=ku().mark((function t(e,r){var n,i,a;return ku().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(i=e.pullCall)||void 0===i?void 0:i.promise,null===(a=e.cancelCall)||void 0===a?void 0:a.promise]);case 2:delete this.streamControllers[r];case 3:case"end":return t.stop()}}),t,this)})),Cu=function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){xu(a,n,i,o,s,"next",t)}function s(t){xu(a,n,i,o,s,"throw",t)}o(void 0)}))},Cu.apply(this,arguments)}function ju(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Iu(n.key),n)}}function Iu(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Ru(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Fu(t,e){return t.get(Nu(t,e))}function Du(t,e,r){return t.set(Nu(t,e),r),r}function Nu(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Wu=new WeakMap,Bu=new WeakMap,Gu=function(){return function(t,e,r){return e&&ju(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=e.parsedData,n=e.rawData;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ru(this,Wu,void 0),Ru(this,Bu,void 0),Du(Wu,this,r),Du(Bu,this,n)}),[{key:"getRaw",value:function(){return Fu(Bu,this)}},{key:"get",value:function(t){var e;return null!==(e=Fu(Wu,this).get(t))&&void 0!==e?e:null}},{key:"getAll",value:function(){return Q(Fu(Wu,this))}},{key:"has",value:function(t){return Fu(Wu,this).has(t)}}])}();function Hu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||zu(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uu(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=zu(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function zu(t,e){if(t){if("string"==typeof t)return Vu(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vu(t,e):void 0}}function Vu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ku(n.key),n)}}function Xu(t,e,r){return e&&Yu(t.prototype,e),r&&Yu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ku(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Qu(t,e,r){Ju(t,e),e.set(t,r)}function Ju(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $u(t,e){return t.get(tc(t,e))}function Zu(t,e,r){return t.set(tc(t,e),r),r}function tc(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var ec=Symbol("INTERNAL"),rc=new WeakMap,nc=new WeakMap,ic=new WeakMap,ac=new WeakMap,oc=function(){return Xu((function t(e,r){var n=r.name,i=r.intent,a=r.usage;qu(this,t),Qu(this,rc,!1),Qu(this,nc,!1),Qu(this,ic,!1),Qu(this,ac,!0),Zu(rc,this,!!(2&e)),Zu(nc,this,!!(4&e)),this.name=n,this.intent=i,this.usage=a}),[{key:"visible",get:function(){if($u(ic,this))return $u(ac,this);if(!$u(ac,this))return!1;var t=this.usage,e=t.print,r=t.view;return $u(rc,this)?"OFF"!==(null==r?void 0:r.viewState):!$u(nc,this)||"OFF"!==(null==e?void 0:e.printState)}},{key:"_setVisible",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==ec&&F("Internal method `_setVisible` called."),Zu(ic,this,r),Zu(ac,this,e)}}])}(),sc=new WeakMap,uc=new WeakMap,cc=new WeakMap,lc=new WeakMap,hc=new WeakSet,fc=function(){return Xu((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(qu(this,t),function(t,e){Ju(t,e),e.add(t)}(this,hc),Qu(this,sc,null),Qu(this,uc,new Map),Qu(this,cc,null),Qu(this,lc,null),this.renderingIntent=r,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,Zu(lc,this,e.order);var n,i=Uu(e.groups);try{for(i.s();!(n=i.n()).done;){var a=n.value;$u(uc,this).set(a.id,new oc(r,a))}}catch(t){i.e(t)}finally{i.f()}if("OFF"===e.baseState){var o,s=Uu($u(uc,this).values());try{for(s.s();!(o=s.n()).done;)o.value._setVisible(ec,!1)}catch(t){s.e(t)}finally{s.f()}}var u,c=Uu(e.on);try{for(c.s();!(u=c.n()).done;){var l=u.value;$u(uc,this).get(l)._setVisible(ec,!0)}}catch(t){c.e(t)}finally{c.f()}var h,f=Uu(e.off);try{for(f.s();!(h=f.n()).done;){var d=h.value;$u(uc,this).get(d)._setVisible(ec,!1)}}catch(t){f.e(t)}finally{f.f()}Zu(cc,this,this.getHash())}}),[{key:"isVisible",value:function(t){if(0===$u(uc,this).size)return!0;if(!t)return I("Optional content group not defined."),!0;if("OCG"===t.type)return $u(uc,this).has(t.id)?$u(uc,this).get(t.id).visible:(R("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return tc(hc,this,dc).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){var e,r=Uu(t.ids);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(!$u(uc,this).has(n))return R("Optional content group not found: ".concat(n)),!0;if($u(uc,this).get(n).visible)return!0}}catch(t){r.e(t)}finally{r.f()}return!1}if("AllOn"===t.policy){var i,a=Uu(t.ids);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(!$u(uc,this).has(o))return R("Optional content group not found: ".concat(o)),!0;if(!$u(uc,this).get(o).visible)return!1}}catch(t){a.e(t)}finally{a.f()}return!0}if("AnyOff"===t.policy){var s,u=Uu(t.ids);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(!$u(uc,this).has(c))return R("Optional content group not found: ".concat(c)),!0;if(!$u(uc,this).get(c).visible)return!0}}catch(t){u.e(t)}finally{u.f()}return!1}if("AllOff"===t.policy){var l,h=Uu(t.ids);try{for(h.s();!(l=h.n()).done;){var f=l.value;if(!$u(uc,this).has(f))return R("Optional content group not found: ".concat(f)),!0;if($u(uc,this).get(f).visible)return!1}}catch(t){h.e(t)}finally{h.f()}return!0}return R("Unknown optional content policy ".concat(t.policy,".")),!0}return R("Unknown group type ".concat(t.type,".")),!0}},{key:"setVisibility",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=$u(uc,this).get(t);r?(r._setVisible(ec,!!e,!0),Zu(sc,this,null)):R("Optional content group not found: ".concat(t))}},{key:"setOCGState",value:function(t){var e,r,n=t.state,i=(t.preserveRB,Uu(n));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a){case"ON":case"OFF":case"Toggle":e=a;continue}var o=$u(uc,this).get(a);if(o)switch(e){case"ON":o._setVisible(ec,!0);break;case"OFF":o._setVisible(ec,!1);break;case"Toggle":o._setVisible(ec,!o.visible)}}}catch(t){i.e(t)}finally{i.f()}Zu(sc,this,null)}},{key:"hasInitialVisibility",get:function(){return null===$u(cc,this)||this.getHash()===$u(cc,this)}},{key:"getOrder",value:function(){return $u(uc,this).size?$u(lc,this)?$u(lc,this).slice():function(t){return function(t){if(Array.isArray(t))return Vu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||zu(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}($u(uc,this).keys()):null}},{key:"getGroups",value:function(){return $u(uc,this).size>0?Q($u(uc,this)):null}},{key:"getGroup",value:function(t){return $u(uc,this).get(t)||null}},{key:"getHash",value:function(){if(null!==$u(sc,this))return $u(sc,this);var t,e=new so,r=Uu($u(uc,this));try{for(r.s();!(t=r.n()).done;){var n=Hu(t.value,2),i=n[0],a=n[1];e.update("".concat(i,":").concat(a.visible))}}catch(t){r.e(t)}finally{r.f()}return Zu(sc,this,e.hexdigest())}}])}();function dc(t){var e=t.length;if(e<2)return!0;for(var r=t[0],n=1;n<e;n++){var i=t[n],a=void 0;if(Array.isArray(i))a=tc(hc,this,dc).call(this,i);else{if(!$u(uc,this).has(i))return R("Optional content group not found: ".concat(i)),!0;a=$u(uc,this).get(i).visible}switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===r}function vc(){vc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function pc(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function yc(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){pc(a,n,i,o,s,"next",t)}function s(t){pc(a,n,i,o,s,"throw",t)}o(void 0)}))}}function gc(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return mc(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mc(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function mc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xc(n.key),n)}}function kc(t,e,r){return e&&wc(t.prototype,e),r&&wc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xc(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}r(3276);var Ac=function(){return kc((function t(e,r){var n=this,i=r.disableRange,a=void 0!==i&&i,o=r.disableStream,s=void 0!==o&&o;bc(this,t),D(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');var u=e.length,c=e.initialData,l=e.progressiveDone,h=e.contentDispositionFilename;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=h,(null==c?void 0:c.length)>0){var f=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!a,this._contentLength=u,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((function(t,e){n._onReceiveData({begin:t,chunk:e})})),e.addProgressListener((function(t,e){n._onProgress({loaded:t,total:e})})),e.addProgressiveReadListener((function(t){n._onReceiveData({chunk:t})})),e.addProgressiveDoneListener((function(){n._onProgressiveDone()})),e.transportReady()}),[{key:"_onReceiveData",value:function(t){var e=t.begin,r=t.chunk,n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;void 0===e?this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n):D(this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(n),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}},{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"_onProgress",value:function(t){var e,r,n,i;void 0===t.total?null===(e=this._rangeReaders[0])||void 0===e||null===(r=e.onProgress)||void 0===r||r.call(e,{loaded:t.loaded}):null===(n=this._fullRequestReader)||void 0===n||null===(i=n.onProgress)||void 0===i||i.call(n,{loaded:t.loaded,total:t.total})}},{key:"_onProgressiveDone",value:function(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(t){var e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}},{key:"getFullReader",value:function(){D(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;return this._queuedChunks=null,new _c(this,t,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var r=new Ec(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);var r,n=gc(this._rangeReaders.slice(0));try{for(n.s();!(r=n.n()).done;)r.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}this._pdfDataRangeTransport.abort()}}])}(),_c=function(){return kc((function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;bc(this,t),this._stream=e,this._done=n||!1,this._filename=xe(i)?i:null,this._queuedChunks=r||[],this._loaded=0;var a,o=gc(this._queuedChunks);try{for(o.s();!(a=o.n()).done;){var s=a.value;this._loaded+=s.byteLength}}catch(t){o.e(t)}finally{o.f()}this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}),[{key:"_enqueue",value:function(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(t=yc(vc().mark((function t(){var e,r;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._queuedChunks.length>0)){t.next=3;break}return e=this._queuedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 3:if(!this._done){t.next=5;break}return t.abrupt("return",{value:void 0,done:!0});case 5:return r=Promise.withResolvers(),this._requests.push(r),t.abrupt("return",r.promise);case 8:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,r=gc(this._requests);try{for(r.s();!(e=r.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){r.e(t)}finally{r.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]);var t}(),Ec=function(){return kc((function t(e,r,n){bc(this,t),this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}),[{key:"_enqueue",value:function(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});var e,r=gc(this._requests);try{for(r.s();!(e=r.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){r.e(t)}finally{r.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=yc(vc().mark((function t(){var e,r;return vc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._queuedChunk){t.next=4;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:void 0,done:!0});case 6:return r=Promise.withResolvers(),this._requests.push(r),t.abrupt("return",r.promise);case 9:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,r=gc(this._requests);try{for(r.s();!(e=r.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){r.e(t)}finally{r.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]);var t}();function Sc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Oc(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Tc(t,e){var r=new Headers;if(!t||!e||"object"!=typeof e)return r;for(var n in e){var i=e[n];void 0!==i&&r.append(n,i)}return r}function Pc(t){var e=t.responseHeaders,r=t.isHttp,n=t.rangeChunkSize,i=t.disableRange,a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(e.get("Content-Length"),10);return Number.isInteger(o)?(a.suggestedLength=o,o<=2*n||i||!r||"bytes"!==e.get("Accept-Ranges")||"identity"!==(e.get("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a):a}function Lc(t){var e=t.get("Content-Disposition");if(e){var r=function(t){var e=!0,r=a("filename\\*","i").exec(t);if(r){var n=u(r=r[1]);return s(n=l(n=c(n=unescape(n))))}if(r=function(t){for(var e,r=[],n=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(e=n.exec(t));){var i=Sc(e,4),o=i[1],s=i[2],l=i[3];if((o=parseInt(o,10))in r){if(0===o)break}else r[o]=[s,l]}for(var h=[],f=0;f<r.length&&f in r;++f){var d=Sc(r[f],2),v=d[0],p=d[1];p=u(p),v&&(p=unescape(p),0===f&&(p=c(p))),h.push(p)}return h.join("")}(t))return s(l(r));if(r=a("filename","i").exec(t)){var i=u(r=r[1]);return s(i=l(i))}function a(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function o(t,r){if(t){if(!/^[\x00-\xFF]+$/.test(r))return r;try{var n=new TextDecoder(t,{fatal:!0}),i=K(r);r=n.decode(i),e=!1}catch(t){}}return r}function s(t){return e&&/[\x80-\xff]/.test(t)&&(t=o("utf-8",t),e&&(t=o("iso-8859-1",t))),t}function u(t){if(t.startsWith('"')){for(var e=t.slice(1).split('\\"'),r=0;r<e.length;++r){var n=e[r].indexOf('"');-1!==n&&(e[r]=e[r].slice(0,n),e.length=r+1),e[r]=e[r].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function c(t){var e=t.indexOf("'");return-1===e?t:o(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,r,n){if("q"===r||"Q"===r)return o(e,n=(n=n.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{n=atob(n)}catch(t){}return o(e,n)}))}return""}(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch(t){}if(xe(r))return r}return null}function Mc(t,e){return 404===t||0===t&&e.startsWith("file:")?new z('Missing PDF "'+e+'".'):new V("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t)}function Cc(t){return 200===t||206===t}function jc(){jc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Ic(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Rc(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){Ic(a,n,i,o,s,"next",t)}function s(t){Ic(a,n,i,o,s,"throw",t)}o(void 0)}))}}function Fc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Dc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bc(n.key),n)}}function Wc(t,e,r){return e&&Nc(t.prototype,e),r&&Nc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bc(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Gc(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Hc(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(R("getArrayBuffer - unexpected data format: ".concat(t)),new Uint8Array(t).buffer)}var Uc=function(){return Wc((function t(e){Dc(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Tc(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}),[{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function(){return D(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new zc(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var r=new Vc(this,t,e);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Fc(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fc(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(r=n.n()).done;)r.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}}}])}(),zc=function(){return Wc((function t(e){var r=this;Dc(this,t),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;var n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;var i=new Headers(e.headers),a=n.url;fetch(a,Gc(i,this._withCredentials,this._abortController)).then((function(t){if(!Cc(t.status))throw Mc(t.status,a);r._reader=t.body.getReader(),r._headersCapability.resolve();var n=t.headers,i=Pc({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),o=i.allowRangeRequests,s=i.suggestedLength;r._isRangeSupported=o,r._contentLength=s||r._contentLength,r._filename=Lc(n),!r._isStreamingSupported&&r._isRangeSupported&&r.cancel(new Y("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}),[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=Rc(jc().mark((function t(){var e,r,n,i;return jc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._headersCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(r=t.sent,n=r.value,!(i=r.done)){t.next=9;break}return t.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),t.abrupt("return",{value:Hc(n),done:!1});case 12:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}]);var t}(),Vc=function(){return Wc((function t(e,r,n){var i=this;Dc(this,t),this._stream=e,this._reader=null,this._loaded=0;var a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;var o=new Headers(e.headers);o.append("Range","bytes=".concat(r,"-").concat(n-1));var s=a.url;fetch(s,Gc(o,this._withCredentials,this._abortController)).then((function(t){if(!Cc(t.status))throw Mc(t.status,s);i._readCapability.resolve(),i._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}),[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=Rc(jc().mark((function t(){var e,r,n,i;return jc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(r=t.sent,n=r.value,!(i=r.done)){t.next=9;break}return t.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),t.abrupt("return",{value:Hc(n),done:!1});case 12:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}]);var t}();function qc(){qc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Yc(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Xc(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){Yc(a,n,i,o,s,"next",t)}function s(t){Yc(a,n,i,o,s,"throw",t)}o(void 0)}))}}function Kc(t,e){return Jc(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||Zc(t,e)||Qc()}function Qc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jc(t){if(Array.isArray(t))return t}function $c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Zc(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Zc(t,e){if(t){if("string"==typeof t)return tl(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tl(t,e):void 0}}function tl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function el(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,il(n.key),n)}}function nl(t,e,r){return e&&rl(t.prototype,e),r&&rl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function il(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}var al=function(){return nl((function t(e){var r=e.url,n=e.httpHeaders,i=e.withCredentials;el(this,t),this.url=r,this.isHttp=/^https?:/i.test(r),this.headers=Tc(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}),[{key:"requestRange",value:function(t,e,r){var n={begin:t,end:e};for(var i in r)n[i]=r[i];return this.request(n)}},{key:"requestFull",value:function(t){return this.request(t)}},{key:"request",value:function(t){var e=new XMLHttpRequest,r=this.currXhrId++,n=this.pendingRequests[r]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;var i,a=$c(this.headers);try{for(a.s();!(i=a.n()).done;){var o=Kc(i.value,2),s=o[0],u=o[1];e.setRequestHeader(s,u)}}catch(t){a.e(t)}finally{a.f()}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),n.expectedStatus=206):n.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,r),e.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=t.onHeadersReceived,n.onDone=t.onDone,n.onError=t.onError,n.onProgress=t.onProgress,e.send(null),r}},{key:"onProgress",value:function(t,e){var r,n=this.pendingRequests[t];n&&(null===(r=n.onProgress)||void 0===r||r.call(n,e))}},{key:"onStateChange",value:function(t,e){var r=this.pendingRequests[t];if(r){var n=r.xhr;if(n.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4===n.readyState&&t in this.pendingRequests)if(delete this.pendingRequests[t],0===n.status&&this.isHttp){var i;null===(i=r.onError)||void 0===i||i.call(r,n.status)}else{var a=n.status||200;if(200===a&&206===r.expectedStatus||a===r.expectedStatus){var o=function(t){var e=t.response;return"string"!=typeof e?e:K(e).buffer}(n);if(206===a){var s=n.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);r.onDone({begin:parseInt(u[1],10),chunk:o})}else if(o)r.onDone({begin:0,chunk:o});else{var c;null===(c=r.onError)||void 0===c||c.call(r,n.status)}}else{var l;null===(l=r.onError)||void 0===l||l.call(r,n.status)}}}}},{key:"getRequestXhr",value:function(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function(t){return t in this.pendingRequests}},{key:"abortRequest",value:function(t){var e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}])}(),ol=function(){return nl((function t(e){el(this,t),this._source=e,this._manager=new al(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}),[{key:"_onRangeRequestReaderClosed",value:function(t){var e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}},{key:"getFullReader",value:function(){return D(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new sl(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){var r=new ul(this._manager,t,e);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);var r,n=$c(this._rangeRequestReaders.slice(0));try{for(n.s();!(r=n.n()).done;)r.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}}}])}(),sl=function(){return nl((function t(e,r){el(this,t),this._manager=e;var n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}),[{key:"_onHeadersReceived",value:function(){var t=this._fullRequestId,e=this._manager.getRequestXhr(t),r=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map((function(t){var e=function(t){return Jc(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Zc(t)||Qc()}(t.split(": "));return[e[0],e.slice(1).join(": ")]}))),n=Pc({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=n.allowRangeRequests,a=n.suggestedLength;i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Lc(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}},{key:"_onDone",value:function(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var e,r=$c(this._requests);try{for(r.s();!(e=r.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){r.e(t)}finally{r.f()}this._requests.length=0}}},{key:"_onError",value:function(t){this._storedError=Mc(t,this._url),this._headersCapability.reject(this._storedError);var e,r=$c(this._requests);try{for(r.s();!(e=r.n()).done;)e.value.reject(this._storedError)}catch(t){r.e(t)}finally{r.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"read",value:(t=Xc(qc().mark((function t(){var e,r;return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){t.next=5;break}return e=this._cachedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 5:if(!this._done){t.next=7;break}return t.abrupt("return",{value:void 0,done:!0});case 7:return r=Promise.withResolvers(),this._requests.push(r),t.abrupt("return",r.promise);case 10:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0,this._headersCapability.reject(t);var e,r=$c(this._requests);try{for(r.s();!(e=r.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){r.e(t)}finally{r.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]);var t}(),ul=function(){return nl((function t(e,r,n){el(this,t),this._manager=e;var i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(r,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}),[{key:"_close",value:function(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}},{key:"_onDone",value:function(t){var e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;var r,n=$c(this._requests);try{for(n.s();!(r=n.n()).done;)r.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(t){this._storedError=Mc(t,this._url);var e,r=$c(this._requests);try{for(r.s();!(e=r.n()).done;)e.value.reject(this._storedError)}catch(t){r.e(t)}finally{r.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(t){var e;this.isStreamingSupported||null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=Xc(qc().mark((function t(){var e,r;return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){t.next=6;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 6:if(!this._done){t.next=8;break}return t.abrupt("return",{value:void 0,done:!0});case 8:return r=Promise.withResolvers(),this._requests.push(r),t.abrupt("return",r.promise);case 11:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,r=$c(this._requests);try{for(r.s();!(e=r.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){r.e(t)}finally{r.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]);var t}();function cl(t,e,r){return e=hl(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ll()?Reflect.construct(e,r||[],hl(t).constructor):e.apply(t,r))}function ll(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ll=function(){return!!t})()}function hl(t){return hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hl(t)}function fl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dl(t,e)}function dl(t,e){return dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dl(t,e)}function vl(){vl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function pl(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function yl(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){pl(a,n,i,o,s,"next",t)}function s(t){pl(a,n,i,o,s,"throw",t)}o(void 0)}))}}function gl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ml(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kl(n.key),n)}}function wl(t,e,r){return e&&bl(t.prototype,e),r&&bl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kl(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}r(4129);var xl=/^[a-z][a-z0-9\-+.]+:/i;function Al(t,e,r){return"http:"===t.protocol?cs.get("http").request(t,{headers:e},r):cs.get("https").request(t,{headers:e},r)}var _l,El=function(){return wl((function t(e){ml(this,t),this.source=e,this.url=function(t){if(xl.test(t))return new URL(t);var e=cs.get("url");return new URL(e.pathToFileURL(t))}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.headers=Tc(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}),[{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function(){return D(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Ll(this):new Tl(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var r=this.isFsUrl?new Ml(this,t,e):new Pl(this,t,e);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return gl(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gl(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(r=n.n()).done;)r.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}}}])}(),Sl=function(){return wl((function t(e){ml(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;var r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}),[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=yl(vl().mark((function t(){var e,r,n;return vl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(null!==(r=this._readableStream.read())){t.next=10;break}return this._readCapability=Promise.withResolvers(),t.abrupt("return",this.read());case 10:return this._loaded+=r.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(r).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Y("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]);var t}(),Ol=function(){return wl((function t(e){ml(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();var r=e.source;this._isStreamingSupported=!r.disableStream}),[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=yl(vl().mark((function t(){var e,r,n;return vl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(null!==(r=this._readableStream.read())){t.next=10;break}return this._readCapability=Promise.withResolvers(),t.abrupt("return",this.read());case 10:return this._loaded+=r.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),n=new Uint8Array(r).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}]);var t}(),Tl=function(t){function e(t){var r;ml(this,e),r=cl(this,e,[t]);var n=Object.fromEntries(t.headers);return r._request=Al(r._url,n,(function(e){if(404===e.statusCode){var n=new z('Missing PDF "'.concat(r._url,'".'));return r._storedError=n,void r._headersCapability.reject(n)}r._headersCapability.resolve(),r._setReadableStream(e);var i=new Headers(r._readableStream.headers),a=Pc({responseHeaders:i,isHttp:t.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),o=a.allowRangeRequests,s=a.suggestedLength;r._isRangeSupported=o,r._contentLength=s||r._contentLength,r._filename=Lc(i)})),r._request.on("error",(function(t){r._storedError=t,r._headersCapability.reject(t)})),r._request.end(),r}return fl(e,Sl),wl(e)}(),Pl=function(t){function e(t,r,n){var i;ml(this,e),i=cl(this,e,[t]);var a=Object.fromEntries(t.headers);return a.Range="bytes=".concat(r,"-").concat(n-1),i._request=Al(i._url,a,(function(t){if(404!==t.statusCode)i._setReadableStream(t);else{var e=new z('Missing PDF "'.concat(i._url,'".'));i._storedError=e}})),i._request.on("error",(function(t){i._storedError=t})),i._request.end(),i}return fl(e,Ol),wl(e)}(),Ll=function(t){function e(t){var r;ml(this,e),r=cl(this,e,[t]);var n=cs.get("fs");return n.promises.lstat(r._url).then((function(t){r._contentLength=t.size,r._setReadableStream(n.createReadStream(r._url)),r._headersCapability.resolve()}),(function(t){"ENOENT"===t.code&&(t=new z('Missing PDF "'.concat(r._url,'".'))),r._storedError=t,r._headersCapability.reject(t)})),r}return fl(e,Sl),wl(e)}(),Ml=function(t){function e(t,r,n){var i;ml(this,e),i=cl(this,e,[t]);var a=cs.get("fs");return i._setReadableStream(a.createReadStream(i._url,{start:r,end:n-1})),i}return fl(e,Ol),wl(e)}();function Cl(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return jl(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jl(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function jl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Il(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rl(n.key),n)}}function Rl(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Fl(t,e,r){Dl(t,e),e.set(t,r)}function Dl(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nl(t,e){return t.get(Bl(t,e))}function Wl(t,e,r){return t.set(Bl(t,e),r),r}function Bl(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Gl=30,Hl=.8,Ul=new WeakMap,zl=new WeakMap,Vl=new WeakMap,ql=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,$l=new WeakMap,Zl=new WeakMap,th=new WeakMap,eh=new WeakMap,rh=new WeakMap,nh=new WeakMap,ih=new WeakMap,ah=new WeakMap,oh=new WeakMap,sh=new WeakSet,uh=function(){function t(e){var r,n=this,i=e.textContentSource,a=e.container,o=e.viewport;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){Dl(t,e),e.add(t)}(this,sh),Fl(this,Ul,Promise.withResolvers()),Fl(this,zl,null),Fl(this,Vl,!1),Fl(this,ql,!(null===(r=globalThis.FontInspector)||void 0===r||!r.enabled)),Fl(this,Yl,null),Fl(this,Xl,null),Fl(this,Kl,0),Fl(this,Ql,0),Fl(this,Jl,null),Fl(this,$l,null),Fl(this,Zl,0),Fl(this,th,0),Fl(this,eh,Object.create(null)),Fl(this,rh,[]),Fl(this,nh,null),Fl(this,ih,[]),Fl(this,ah,new WeakMap),Fl(this,oh,null),i instanceof ReadableStream)Wl(nh,this,i);else{if("object"!=typeof i)throw new Error('No "textContentSource" parameter specified.');Wl(nh,this,new ReadableStream({start(t){t.enqueue(i),t.close()}}))}Wl(zl,this,Wl($l,this,a)),Wl(th,this,o.scale*(globalThis.devicePixelRatio||1)),Wl(Zl,this,o.rotation),Wl(Xl,this,{div:null,properties:null,ctx:null});var s=o.rawDims,u=s.pageWidth,c=s.pageHeight,l=s.pageX,h=s.pageY;Wl(oh,this,[1,0,0,-1,-l,h+c]),Wl(Ql,this,u),Wl(Kl,this,c),vh.call(t),Re(a,o),Nl(Ul,this).promise.finally((function(){wh._.delete(n),Wl(Xl,n,null),Wl(eh,n,null)})).catch((function(){}))}return function(t,e,r){return e&&Il(t.prototype,e),r&&Il(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"render",value:function(){var t=this,e=function(){Nl(Jl,t).read().then((function(r){var n,i=r.value;r.done?Nl(Ul,t).resolve():(null!==(n=Nl(Yl,t))&&void 0!==n||Wl(Yl,t,i.lang),Object.assign(Nl(eh,t),i.styles),Bl(sh,t,ch).call(t,i.items),e())}),Nl(Ul,t).reject)};return Wl(Jl,this,Nl(nh,this).getReader()),wh._.add(this),e(),Nl(Ul,this).promise}},{key:"update",value:function(e){var r=e.viewport,n=e.onBefore,i=void 0===n?null:n,a=r.scale*(globalThis.devicePixelRatio||1),o=r.rotation;if(o!==Nl(Zl,this)&&(null==i||i(),Wl(Zl,this,o),Re(Nl($l,this),{rotation:o})),a!==Nl(th,this)){null==i||i(),Wl(th,this,a);var s,u={div:null,properties:null,ctx:fh.call(t,Nl(Yl,this))},c=Cl(Nl(ih,this));try{for(c.s();!(s=c.n()).done;){var l=s.value;u.properties=Nl(ah,this).get(l),u.div=l,Bl(sh,this,hh).call(this,u)}}catch(t){c.e(t)}finally{c.f()}}}},{key:"cancel",value:function(){var t,e=new Y("TextLayer task cancelled.");null===(t=Nl(Jl,this))||void 0===t||t.cancel(e).catch((function(){})),Wl(Jl,this,null),Nl(Ul,this).reject(e)}},{key:"textDivs",get:function(){return Nl(ih,this)}},{key:"textContentItemsStr",get:function(){return Nl(rh,this)}}],[{key:"fontFamilyMap",get:function(){var t=J.platform,e=t.isWindows,r=t.isFirefox;return W(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&r?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&r?"Lucida Console, ":"","monospace")]]))}},{key:"cleanup",value:function(){if(!(Bl(t,this,wh)._.size>0)){Bl(t,this,yh)._.clear();var e,r=Cl(Bl(t,this,gh)._.values());try{for(r.s();!(e=r.n()).done;)e.value.canvas.remove()}catch(t){r.e(t)}finally{r.f()}Bl(t,this,gh)._.clear()}}}])}();function ch(t){var e,r;if(!Nl(Vl,this)){null!==(r=(e=Nl(Xl,this)).ctx)&&void 0!==r||(e.ctx=fh.call(_l,Nl(Yl,this)));var n,i=Nl(ih,this),a=Nl(rh,this),o=Cl(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(i.length>1e5)return R("Ignoring additional textDivs for performance reasons."),void Wl(Vl,this,!0);if(void 0!==s.str)a.push(s.str),Bl(sh,this,lh).call(this,s);else if("beginMarkedContentProps"===s.type||"beginMarkedContent"===s.type){var u=Nl(zl,this);Wl(zl,this,document.createElement("span")),Nl(zl,this).classList.add("markedContent"),null!==s.id&&Nl(zl,this).setAttribute("id","".concat(s.id)),u.append(Nl(zl,this))}else"endMarkedContent"===s.type&&Wl(zl,this,Nl(zl,this).parentNode)}}catch(t){o.e(t)}finally{o.f()}}}function lh(t){var e=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};Nl(ih,this).push(e);var n=Z.transform(Nl(oh,this),t.transform),i=Math.atan2(n[1],n[0]),a=Nl(eh,this)[t.fontName];a.vertical&&(i+=Math.PI/2);var o=Nl(ql,this)&&a.fontSubstitution||a.fontFamily;o=_l.fontFamilyMap.get(o)||o;var s,u,c=Math.hypot(n[2],n[3]),l=c*ph.call(_l,o,Nl(Yl,this));0===i?(s=n[4],u=n[5]-l):(s=n[4]+l*Math.sin(i),u=n[5]-l*Math.cos(i));var h="calc(var(--scale-factor)*",f=e.style;Nl(zl,this)===Nl($l,this)?(f.left="".concat((100*s/Nl(Ql,this)).toFixed(2),"%"),f.top="".concat((100*u/Nl(Kl,this)).toFixed(2),"%")):(f.left="".concat(h).concat(s.toFixed(2),"px)"),f.top="".concat(h).concat(u.toFixed(2),"px)")),f.fontSize="".concat(h).concat((bh._*c).toFixed(2),"px)"),f.fontFamily=o,r.fontSize=c,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,Nl(ql,this)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),0!==i&&(r.angle=i*(180/Math.PI));var d=!1;if(t.str.length>1)d=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){var v=Math.abs(t.transform[0]),p=Math.abs(t.transform[3]);v!==p&&Math.max(v,p)/Math.min(v,p)>1.5&&(d=!0)}if(d&&(r.canvasWidth=a.vertical?t.height:t.width),Nl(ah,this).set(e,r),Nl(Xl,this).div=e,Nl(Xl,this).properties=r,Bl(sh,this,hh).call(this,Nl(Xl,this)),r.hasText&&Nl(zl,this).append(e),r.hasEOL){var y=document.createElement("br");y.setAttribute("role","presentation"),Nl(zl,this).append(y)}}function hh(t){var e=t.div,r=t.properties,n=t.ctx,i=e.style,a="";if(bh._>1&&(a="scale(".concat(1/bh._,")")),0!==r.canvasWidth&&r.hasText){var o=i.fontFamily,s=r.canvasWidth,u=r.fontSize;dh.call(_l,n,u*Nl(th,this),o);var c=n.measureText(e.textContent).width;c>0&&(a="scaleX(".concat(s*Nl(th,this)/c,") ").concat(a))}0!==r.angle&&(a="rotate(".concat(r.angle,"deg) ").concat(a)),a.length>0&&(i.transform=a)}function fh(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=Bl(_l,this,gh)._.get(t||(t=""));if(!e){var r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=t,document.body.append(r),e=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),Bl(_l,this,gh)._.set(t,e),Bl(_l,this,mh)._.set(e,{size:0,family:""})}return e}function dh(t,e,r){var n=Bl(_l,this,mh)._.get(t);e===n.size&&r===n.family||(t.font="".concat(e,"px ").concat(r),n.size=e,n.family=r)}function vh(){if(null===Bl(_l,this,bh)._){var t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),bh._=Bl(_l,this,t.getBoundingClientRect().height),t.remove()}}function ph(t,e){var r=Bl(_l,this,yh)._.get(t);if(r)return r;var n=Bl(_l,this,fh).call(this,e);n.canvas.width=n.canvas.height=Gl,Bl(_l,this,dh).call(this,n,Gl,t);var i=n.measureText(""),a=i.fontBoundingBoxAscent,o=Math.abs(i.fontBoundingBoxDescent);if(a){var s=a/(a+o);return Bl(_l,this,yh)._.set(t,s),n.canvas.width=n.canvas.height=0,s}n.strokeStyle="red",n.clearRect(0,0,Gl,Gl),n.strokeText("g",0,0);var u=n.getImageData(0,0,Gl,Gl).data;o=0;for(var c=u.length-1-3;c>=0;c-=4)if(u[c]>0){o=Math.ceil(c/4/Gl);break}n.clearRect(0,0,Gl,Gl),n.strokeText("A",0,Gl),a=0;for(var l=0,h=(u=n.getImageData(0,0,Gl,Gl).data).length;l<h;l+=4)if(u[l]>0){a=Gl-Math.floor(l/4/Gl);break}n.canvas.width=n.canvas.height=0;var f=a?a/(a+o):Hl;return Bl(_l,this,yh)._.set(t,f),f}_l=uh;var yh={_:new Map},gh={_:new Map},mh={_:new WeakMap},bh={_:null},wh={_:new Set};function kh(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ah(n.key),n)}}function Ah(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}var _h,Eh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return r&&xh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,0,[{key:"textContent",value:function(e){var r=[],n={items:r,styles:Object.create(null)};return function e(n){var i;if(n){var a=null,o=n.name;if("#text"===o)a=n.value;else{if(!t.shouldBuildText(o))return;null!=n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?a=n.attributes.textContent:n.value&&(a=n.value)}if(null!==a&&r.push({str:a}),n.children){var s,u=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return kh(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kh(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(n.children);try{for(u.s();!(s=u.n()).done;)e(s.value)}catch(t){u.e(t)}finally{u.f()}}}}(e),n}},{key:"shouldBuildText",value:function(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}])}();function Sh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Oh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sh(Object(r),!0).forEach((function(e){Th(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Th(t,e,r){return(e=qh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ph(t,e,r){return r(Fh(t,e))}function Lh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||Nh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mh(t,e){jh(t,e),e.add(t)}function Ch(t,e,r){jh(t,e),e.set(t,r)}function jh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ih(t,e){return t.get(Fh(t,e))}function Rh(t,e,r){return t.set(Fh(t,e),r),r}function Fh(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Dh(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Nh(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Nh(t,e){if(t){if("string"==typeof t)return Wh(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wh(t,e):void 0}}function Wh(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Bh(){Bh=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Gh(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Hh(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){Gh(a,n,i,o,s,"next",t)}function s(t){Gh(a,n,i,o,s,"throw",t)}o(void 0)}))}}function Uh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qh(n.key),n)}}function Vh(t,e,r){return e&&zh(t.prototype,e),r&&zh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qh(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}var Yh=65536,Xh=m?fs:de,Kh=m?ds:ye,Qh=m?hs:te,Jh=m?vs:ge;function $h(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof r||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});var n=new tf,i=n.docId,a=r.url?function(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch(e){if(m&&"string"==typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(r.url):null,o=r.data?function(t){if(m&&"undefined"!=typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"==typeof t)return K(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"==typeof t&&!isNaN(null==t?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(r.data):null,s=r.httpHeaders||null,u=!0===r.withCredentials,c=null!==(t=r.password)&&void 0!==t?t:null,l=r.range instanceof rf?r.range:null,h=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:Yh,f=r.worker instanceof pf?r.worker:null,d=r.verbosity,v="string"!=typeof r.docBaseUrl||ke(r.docBaseUrl)?null:r.docBaseUrl,p="string"==typeof r.cMapUrl?r.cMapUrl:null,y=!1!==r.cMapPacked,g=r.CMapReaderFactory||Kh,b="string"==typeof r.standardFontDataUrl?r.standardFontDataUrl:null,w=r.StandardFontDataFactory||Jh,k=!0!==r.stopAtErrors,x=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,A=!1!==r.isEvalSupported,_="boolean"==typeof r.isOffscreenCanvasSupported?r.isOffscreenCanvasSupported:!m,E=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,S="boolean"==typeof r.disableFontFace?r.disableFontFace:m,O=!0===r.fontExtraProperties,T=!0===r.enableXfa,P=r.ownerDocument||globalThis.document,L=!0===r.disableRange,M=!0===r.disableStream,j=!0===r.disableAutoFetch,I=!0===r.pdfBug,R=r.CanvasFactory||Xh,F=r.FilterFactory||Qh,D=!0===r.enableHWA,N=l?l.length:null!==(e=r.length)&&void 0!==e?e:NaN,W="boolean"==typeof r.useSystemFonts?r.useSystemFonts:!m&&!S,B="boolean"==typeof r.useWorkerFetch?r.useWorkerFetch:g===ye&&w===ge&&p&&b&&Oe(p,document.baseURI)&&Oe(b,document.baseURI);r.canvasFactory&&Pe("`canvasFactory`-instance option, please use `CanvasFactory` instead."),r.filterFactory&&Pe("`filterFactory`-instance option, please use `FilterFactory` instead."),C(d);var G={canvasFactory:new R({ownerDocument:P,enableHWA:D}),filterFactory:new F({docId:i,ownerDocument:P}),cMapReaderFactory:B?null:new g({baseUrl:p,isCompressed:y}),standardFontDataFactory:B?null:new w({baseUrl:b})};if(!f){var H={verbosity:d,port:mu.workerPort};f=H.port?pf.fromPort(H):new pf(H),n._worker=f}var U={docId:i,apiVersion:"4.7.0",data:o,password:c,disableAutoFetch:j,rangeChunkSize:h,length:N,docBaseUrl:v,enableXfa:T,evaluatorOptions:{maxImageSize:x,disableFontFace:S,ignoreErrors:k,isEvalSupported:A,isOffscreenCanvasSupported:_,canvasMaxAreaInBytes:E,fontExtraProperties:O,useSystemFonts:W,cMapUrl:B?p:null,standardFontDataUrl:B?b:null}},z={disableFontFace:S,fontExtraProperties:O,ownerDocument:P,pdfBug:I,styleElement:null,loadingParams:{disableAutoFetch:j,enableXfa:T}};return f.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");var t,e=f.messageHandler.sendWithPromise("GetDocRequest",U,o?[o.buffer]:null);if(l)t=new Ac(l,{disableRange:L,disableStream:M});else if(!o){if(!a)throw new Error("getDocument - no `url` parameter provided.");var r;r=m?"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&Oe(a)?Uc:El:Oe(a)?Uc:ol,t=new r({url:a,length:N,httpHeaders:s,withCredentials:u,rangeChunkSize:h,disableRange:L,disableStream:M})}return e.then((function(e){if(n.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");var r=new Tu(i,e,f.port),a=new Of(r,n,t,z,G);n._transport=a,r.send("Ready",null)}))})).catch(n._capability.reject),n}function Zh(t){return"object"==typeof t&&Number.isInteger(null==t?void 0:t.num)&&t.num>=0&&Number.isInteger(null==t?void 0:t.gen)&&t.gen>=0}var tf=function(){return Vh((function t(){var e,r;Uh(this,t),this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d".concat((ef._=(e=ef._,r=e++,e),r)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}),[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:(t=Hh(Bh().mark((function t(){var e,r,n;return Bh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.destroyed=!0,t.prev=1,null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),t.next=5,null===(r=this._transport)||void 0===r?void 0:r.destroy();case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(1),null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,t.t0;case 11:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 13:case"end":return t.stop()}}),t,this,[[1,7]])}))),function(){return t.apply(this,arguments)})}]);var t}(),ef={_:0},rf=function(){return Vh((function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Uh(this,t),this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}),[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,e){var r,n=Dh(this._rangeListeners);try{for(n.s();!(r=n.n()).done;)(0,r.value)(t,e)}catch(t){n.e(t)}finally{n.f()}}},{key:"onDataProgress",value:function(t,e){var r=this;this._readyCapability.promise.then((function(){var n,i=Dh(r._progressListeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(t,e)}catch(t){i.e(t)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(t){var e=this;this._readyCapability.promise.then((function(){var r,n=Dh(e._progressiveReadListeners);try{for(n.s();!(r=n.n()).done;)(0,r.value)(t)}catch(t){n.e(t)}finally{n.f()}}))}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then((function(){var e,r=Dh(t._progressiveDoneListeners);try{for(r.s();!(e=r.n()).done;)(0,e.value)()}catch(t){r.e(t)}finally{r.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,e){F("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}])}(),nf=function(){return Vh((function t(e,r){Uh(this,t),this._pdfInfo=e,this._transport=r}),[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"canvasFactory",get:function(){return this._transport.canvasFactory}},{key:"filterFactory",get:function(){return this._transport.filterFactory}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function(){return W(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intent,e=void 0===t?"display":t,r=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getOptionalContentConfig(r)}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"saveDocument",value:function(){return this._transport.saveDocument()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"cachedPageNumber",value:function(t){return this._transport.cachedPageNumber(t)}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}])}(),af=new WeakMap,of=new WeakMap,sf=new WeakSet,uf=function(){return Vh((function t(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Uh(this,t),Mh(this,sf),Ch(this,af,null),Ch(this,of,!1),this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new Se:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Cf,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}),[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,r=t.rotation,n=void 0===r?this.rotate:r,i=t.offsetX,a=void 0===i?0:i,o=t.offsetY,s=void 0===o?0:o,u=t.dontFlip,c=void 0!==u&&u;return new be({viewBox:this.view,scale:e,rotation:n,offsetX:a,offsetY:s,dontFlip:c})}},{key:"getAnnotations",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intent,e=void 0===t?"display":t,r=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getAnnotations(this._pageIndex,r)}},{key:"getJSActions",value:function(){return this._transport.getPageJSActions(this._pageIndex)}},{key:"filterFactory",get:function(){return this._transport.filterFactory}},{key:"isPureXfa",get:function(){return W(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"getXfa",value:(t=Hh(Bh().mark((function t(){var e;return Bh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null);case 1:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(t){var e,r,n=this,i=t.canvasContext,a=t.viewport,o=t.intent,s=void 0===o?"display":o,u=t.annotationMode,c=void 0===u?x.ENABLE:u,l=t.transform,h=void 0===l?null:l,f=t.background,d=void 0===f?null:f,v=t.optionalContentConfigPromise,p=void 0===v?null:v,y=t.annotationCanvasMap,g=void 0===y?null:y,m=t.pageColors,b=void 0===m?null:m,w=t.printAnnotationStorage,k=void 0===w?null:w,A=t.isEditing,_=void 0!==A&&A;null===(e=this._stats)||void 0===e||e.time("Overall");var E=this._transport.getRenderingIntent(s,c,k,_),S=E.renderingIntent,O=E.cacheKey;Rh(of,this,!1),Fh(sf,this,lf).call(this),p||(p=this._transport.getOptionalContentConfig(S));var T=this._intentStates.get(O);T||(T=Object.create(null),this._intentStates.set(O,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);var P,L=!!(4&S);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(P=this._stats)||void 0===P||P.time("Page Request"),this._pumpOperatorList(E));var M=function(t){var e;T.renderTasks.delete(C),(n._maybeCleanupAfterRender||L)&&Rh(of,n,!0),Fh(sf,n,cf).call(n,!L),t?(C.capability.reject(t),n._abortOperatorList({intentState:T,reason:t instanceof Error?t:new Error(t)})):C.capability.resolve(),n._stats&&(n._stats.timeEnd("Rendering"),n._stats.timeEnd("Overall"),null!==(e=globalThis.Stats)&&void 0!==e&&e.enabled&&globalThis.Stats.add(n.pageNumber,n._stats))},C=new Df({callback:M,params:{canvasContext:i,viewport:a,transform:h,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:g,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!L,pdfBug:this._pdfBug,pageColors:b});((r=T).renderTasks||(r.renderTasks=new Set)).add(C);var j=C.task;return Promise.all([T.displayReadyCapability.promise,p]).then((function(t){var e,r=Lh(t,2),i=r[0],a=r[1];if(n.destroyed)M();else{if(null===(e=n._stats)||void 0===e||e.time("Rendering"),!(a.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:i,optionalContentConfig:a}),C.operatorListChanged()}})).catch(M),j}},{key:"getOperatorList",value:function(){var t,e,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.intent,a=void 0===i?"display":i,o=n.annotationMode,s=void 0===o?x.ENABLE:o,u=n.printAnnotationStorage,c=void 0===u?null:u,l=n.isEditing,h=void 0!==l&&l,f=this._transport.getRenderingIntent(a,s,c,h,!0),d=this._intentStates.get(f.cacheKey);return d||(d=Object.create(null),this._intentStates.set(f.cacheKey,d)),d.opListReadCapability||((t=Object.create(null)).operatorListChanged=function(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(t))},d.opListReadCapability=Promise.withResolvers(),((e=d).renderTasks||(e.renderTasks=new Set)).add(t),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(r=this._stats)||void 0===r||r.time("Page Request"),this._pumpOperatorList(f)),d.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.includeMarkedContent,r=void 0!==e&&e,n=t.disableNormalization,i=void 0!==n&&n;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===r,disableNormalization:!0===i},{highWaterMark:100,size:t=>t.items.length})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((function(t){return Eh.textContent(t)}));var e=this.streamTextContent(t);return new Promise((function(t,r){var n=e.getReader(),i={items:[],styles:Object.create(null),lang:null};!function e(){n.read().then((function(r){var n,a,o=r.value;r.done?t(i):(null!==(n=i.lang)&&void 0!==n||(i.lang=o.lang),Object.assign(i.styles,o.styles),(a=i.items).push.apply(a,function(t){return function(t){if(Array.isArray(t))return Wh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Nh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o.items)),e())}),r)}()}))}},{key:"getStructTree",value:function(){return this._transport.getStructTree(this._pageIndex)}},{key:"_destroy",value:function(){this.destroyed=!0;var t,e=[],r=Dh(this._intentStates.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability){var i,a=Dh(n.renderTasks);try{for(a.s();!(i=a.n()).done;){var o=i.value;e.push(o.completed),o.cancel()}}catch(t){a.e(t)}finally{a.f()}}}}catch(t){r.e(t)}finally{r.f()}return this.objs.clear(),Rh(of,this,!1),Fh(sf,this,lf).call(this),Promise.all(e)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Rh(of,this,!0);var e=Fh(sf,this,cf).call(this,!1);return t&&e&&this._stats&&(this._stats=new Se),e}},{key:"_startRenderPage",value:function(t,e){var r,n,i=this._intentStates.get(e);i&&(null===(r=this._stats)||void 0===r||r.timeEnd("Page Request"),null===(n=i.displayReadyCapability)||void 0===n||n.resolve(t))}},{key:"_renderPageChunk",value:function(t,e){for(var r=0,n=t.length;r<n;r++)e.operatorList.fnArray.push(t.fnArray[r]),e.operatorList.argsArray.push(t.argsArray[r]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;var i,a=Dh(e.renderTasks);try{for(a.s();!(i=a.n()).done;)i.value.operatorListChanged()}catch(t){a.e(t)}finally{a.f()}t.lastChunk&&Fh(sf,this,cf).call(this,!0)}},{key:"_pumpOperatorList",value:function(t){var e=this,r=t.renderingIntent,n=t.cacheKey,i=t.annotationStorageSerializable,a=t.modifiedIds,o=i.map,s=i.transfer,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:n,annotationStorage:o,modifiedIds:a},s).getReader(),c=this._intentStates.get(n);c.streamReader=u;var l=function(){u.read().then((function(t){var r=t.value;t.done?c.streamReader=null:e._transport.destroyed||(e._renderPageChunk(r,c),l())}),(function(t){if(c.streamReader=null,!e._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;var r,n=Dh(c.renderTasks);try{for(n.s();!(r=n.n()).done;)r.value.operatorListChanged()}catch(t){n.e(t)}finally{n.f()}Fh(sf,e,cf).call(e,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(t);else{if(!c.opListReadCapability)throw t;c.opListReadCapability.reject(t)}}}))};l()}},{key:"_abortOperatorList",value:function(t){var e=this,r=t.intentState,n=t.reason,i=t.force,a=void 0!==i&&i;if(r.streamReader){if(r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null),!a){if(r.renderTasks.size>0)return;if(n instanceof we){var o=100;return n.extraDelay>0&&n.extraDelay<1e3&&(o+=n.extraDelay),void(r.streamReaderCancelTimeout=setTimeout((function(){r.streamReaderCancelTimeout=null,e._abortOperatorList({intentState:r,reason:n,force:!0})}),o))}}if(r.streamReader.cancel(new Y(n.message)).catch((function(){})),r.streamReader=null,!this._transport.destroyed){var s,u=Dh(this._intentStates);try{for(u.s();!(s=u.n()).done;){var c=Lh(s.value,2),l=c[0];if(c[1]===r){this._intentStates.delete(l);break}}}catch(t){u.e(t)}finally{u.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]);var t}();function cf(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Fh(sf,this,lf).call(this),!Ih(of,this)||this.destroyed)return!1;if(e)return Rh(af,this,setTimeout((function(){Rh(af,t,null),Fh(sf,t,cf).call(t,!1)}),5e3)),!1;var r,n=Dh(this._intentStates.values());try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.renderTasks,o=i.operatorList;if(a.size>0||!o.lastChunk)return!1}}catch(t){n.e(t)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),Rh(of,this,!1),!0}function lf(){Ih(af,this)&&(clearTimeout(Ih(af,this)),Rh(af,this,null))}var hf=new WeakMap,ff=new WeakMap,df=function(){return Vh((function t(){Uh(this,t),Ch(this,hf,new Set),Ch(this,ff,Promise.resolve())}),[{key:"postMessage",value:function(t,e){var r=this,n={data:structuredClone(t,e?{transfer:e}:null)};Ih(ff,this).then((function(){var t,e=Dh(Ih(hf,r));try{for(e.s();!(t=e.n()).done;)t.value.call(r,n)}catch(t){e.e(t)}finally{e.f()}}))}},{key:"addEventListener",value:function(t,e){Ih(hf,this).add(e)}},{key:"removeEventListener",value:function(t,e){Ih(hf,this).delete(e)}},{key:"terminate",value:function(){Ih(hf,this).clear()}}])}(),vf=new WeakSet,pf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.name,n=void 0===r?null:r,i=e.port,a=void 0===i?null:i,o=e.verbosity,s=void 0===o?j():o;if(Uh(this,t),Mh(this,vf),this.name=n,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,a){var u;if(null!==(u=wf._)&&void 0!==u&&u.has(a))throw new Error("Cannot use more than one PDFWorker per port.");return(wf._||(wf._=new WeakMap)).set(a,this),void this._initializeFromPort(a)}this._initialize()}return Vh(t,[{key:"promise",get:function(){return m?Promise.all([cs.promise,this._readyCapability.promise]):this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(t){this._port=t,this._messageHandler=new Tu("main","worker",t),this._messageHandler.on("ready",(function(){})),Fh(vf,this,yf).call(this)}},{key:"_initialize",value:function(){var e=this;if(bf._||gf())this._setupFakeWorker();else{var r=t.workerSrc;try{t._isSameOrigin(window.location.href,r)||(r=t._createCDNWrapper(new URL(r,window.location).href));var n=new Worker(r,{type:"module"}),i=new Tu("main","worker",n),a=function(){o.abort(),i.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},o=new AbortController;n.addEventListener("error",(function(){e._webWorker||a()}),{signal:o.signal}),i.on("test",(function(t){o.abort(),!e.destroyed&&t?(e._messageHandler=i,e._port=n,e._webWorker=n,Fh(vf,e,yf).call(e)):a()})),i.on("ready",(function(t){if(o.abort(),e.destroyed)a();else try{s()}catch(t){e._setupFakeWorker()}}));var s=function(){var t=new Uint8Array;i.send("test",t,[t.buffer])};return void s()}catch(t){I("The worker has been disabled.")}this._setupFakeWorker()}}},{key:"_setupFakeWorker",value:function(){var e=this;bf._||(R("Setting up fake worker."),bf._=!0),t._setupFakeWorkerGlobal.then((function(t){var r,n;if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var i=new df;e._port=i;var a="fake".concat((mf._=(r=mf._,n=r++,r),n)),o=new Tu(a+"_worker",a,i);t.setup(o,i),e._messageHandler=new Tu(a,a+"_worker",i),Fh(vf,e,yf).call(e)}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(t=wf._)||void 0===t||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){var r;if(null==e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");var n=null===(r=Fh(t,this,wf)._)||void 0===r?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new t(e)}},{key:"workerSrc",get:function(){if(mu.workerSrc)return mu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_setupFakeWorkerGlobal",get:function(){var e=this,r=function(){var r=Hh(Bh().mark((function r(){var n;return Bh().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Ph(t,e,gf)){r.next=2;break}return r.abrupt("return",Ph(t,e,gf));case 2:return r.next=4,import(e.workerSrc);case 4:return n=r.sent,r.abrupt("return",n.WorkerMessageHandler);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return W(this,"_setupFakeWorkerGlobal",r())}}])}();function yf(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}function gf(t){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(t){return null}}_h=pf;var mf={_:0},bf={_:!1},wf={_:void 0};m&&(bf._=Fh(_h,_h,!0),mu.workerSrc||(mu.workerSrc="./pdf.worker.mjs")),_h._isSameOrigin=function(t,e){var r;try{if(!(r=new URL(t)).origin||"null"===r.origin)return!1}catch(t){return!1}var n=new URL(e,r);return r.origin===n.origin},_h._createCDNWrapper=function(t){var e='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var kf=new WeakMap,xf=new WeakMap,Af=new WeakMap,_f=new WeakMap,Ef=new WeakMap,Sf=new WeakSet,Of=function(){return Vh((function t(e,r,n,i,a){Uh(this,t),Mh(this,Sf),Ch(this,kf,new Map),Ch(this,xf,new Map),Ch(this,Af,new Map),Ch(this,_f,new Map),Ch(this,Ef,null),this.messageHandler=e,this.loadingTask=r,this.commonObjs=new Cf,this.fontLoader=new Yo({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}),[{key:"annotationStorage",get:function(){return W(this,"annotationStorage",new Mo)}},{key:"getRenderingIntent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.ENABLE,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=2,o=So;switch(t){case"any":a=1;break;case"display":break;case"print":a=4;break;default:R("getRenderingIntent - invalid intent: ".concat(t))}var s=4&a&&r instanceof Io?r:this.annotationStorage;switch(e){case x.DISABLE:a+=64;break;case x.ENABLE:break;case x.ENABLE_FORMS:a+=16;break;case x.ENABLE_STORAGE:a+=32,o=s.serializable;break;default:R("getRenderingIntent - invalid annotationMode: ".concat(e))}n&&(a+=128),i&&(a+=256);var u=s.modifiedIds,c=u.ids,l=u.hash;return{renderingIntent:a,cacheKey:[a,o.hash,l].join("_"),annotationStorageSerializable:o,modifiedIds:c}}},{key:"destroy",value:function(){var t,e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(t=Ih(Ef,this))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));var r,n=[],i=Dh(Ih(xf,this).values());try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(a._destroy())}}catch(t){i.e(t)}finally{i.f()}Ih(xf,this).clear(),Ih(Af,this).clear(),Ih(_f,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var o=this.messageHandler.sendWithPromise("Terminate",null);return n.push(o),Promise.all(n).then((function(){var t;e.commonObjs.clear(),e.fontLoader.clear(),Ih(kf,e).clear(),e.filterFactory.destroy(),uh.cleanup(),null===(t=e._networkStream)||void 0===t||t.cancelAllRequests(new Y("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,e=this.messageHandler,r=this.loadingTask;e.on("GetReader",(function(e,r){D(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},r.onPull=function(){t._fullReader.read().then((function(t){var e=t.value;t.done?r.close():(D(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){r.error(t)}))},r.onCancel=function(e){t._fullReader.cancel(e),r.ready.catch((function(e){if(!t.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(function(e){var n=Promise.withResolvers(),i=t._fullReader;return i.headersReady.then((function(){var e;i.isStreamingSupported&&i.isRangeSupported||(t._lastProgress&&(null===(e=r.onProgress)||void 0===e||e.call(r,t._lastProgress)),i.onProgress=function(t){var e;null===(e=r.onProgress)||void 0===e||e.call(r,{loaded:t.loaded,total:t.total})});n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",(function(e,r){D(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var n=t._networkStream.getRangeReader(e.begin,e.end);n?(r.onPull=function(){n.read().then((function(t){var e=t.value;t.done?r.close():(D(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){r.error(t)}))},r.onCancel=function(e){n.cancel(e),r.ready.catch((function(e){if(!t.destroyed)throw e}))}):r.close()})),e.on("GetDoc",(function(e){var n=e.pdfInfo;t._numPages=n.numPages,t._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new nf(n,t))})),e.on("DocException",(function(t){var e;switch(t.name){case"PasswordException":e=new G(t.message,t.code);break;case"InvalidPDFException":e=new U(t.message);break;case"MissingPDFException":e=new z(t.message);break;case"UnexpectedResponseException":e=new V(t.message,t.status);break;case"UnknownErrorException":e=new H(t.message,t.details);break;default:F("DocException - expected a valid Error.")}r._capability.reject(e)})),e.on("PasswordRequest",(function(e){if(Rh(Ef,t,Promise.withResolvers()),r.onPassword)try{r.onPassword((function(e){e instanceof Error?Ih(Ef,t).reject(e):Ih(Ef,t).resolve({password:e})}),e.code)}catch(e){Ih(Ef,t).reject(e)}else Ih(Ef,t).reject(new G(e.message,e.code));return Ih(Ef,t).promise})),e.on("DataLoaded",(function(e){var n;null===(n=r.onProgress)||void 0===n||n.call(r,{loaded:e.length,total:e.length}),t.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(function(e){t.destroyed||Ih(xf,t).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(function(r){var n,i=Lh(r,3),a=i[0],o=i[1],s=i[2];if(t.destroyed)return null;if(t.commonObjs.has(a))return null;switch(o){case"Font":var u=t._params,c=u.disableFontFace,l=u.fontExtraProperties,h=u.pdfBug;if("error"in s){var f=s.error;R("Error during font loading: ".concat(f)),t.commonObjs.resolve(a,f);break}var d=h&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?function(t,e){return globalThis.FontInspector.fontAdded(t,e)}:null,v=new Xo(s,{disableFontFace:c,inspectFont:d});t.fontLoader.bind(v).catch((function(){return e.sendWithPromise("FontFallback",{id:a})})).finally((function(){!l&&v.data&&(v.data=null),t.commonObjs.resolve(a,v)}));break;case"CopyLocalImage":var p=s.imageRef;D(p,"The imageRef must be defined.");var y,g=Dh(Ih(xf,t).values());try{for(g.s();!(y=g.n()).done;){var m,b=Dh(y.value.objs);try{for(b.s();!(m=b.n()).done;){var w=Lh(m.value,2)[1];if((null==w?void 0:w.ref)===p)return w.dataLen?(t.commonObjs.resolve(a,structuredClone(w)),w.dataLen):null}}catch(t){b.e(t)}finally{b.f()}}}catch(t){g.e(t)}finally{g.f()}break;case"FontPath":case"Image":case"Pattern":t.commonObjs.resolve(a,s);break;default:throw new Error("Got unknown common object type ".concat(o))}return null})),e.on("obj",(function(e){var r=Lh(e,4),n=r[0],i=r[1],a=r[2],o=r[3];if(!t.destroyed){var s,u=Ih(xf,t).get(i);if(!u.objs.has(n))if(0!==u._intentStates.size)switch(a){case"Image":u.objs.resolve(n,o),(null==o?void 0:o.dataLen)>1e7&&(u._maybeCleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(n,o);break;default:throw new Error("Got unknown object type ".concat(a))}else null==o||null===(s=o.bitmap)||void 0===s||s.close()}})),e.on("DocProgress",(function(e){var n;t.destroyed||null===(n=r.onProgress)||void 0===n||n.call(r,{loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.cMapReaderFactory?t.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))})),e.on("FetchStandardFontData",(function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.standardFontDataFactory?t.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}))}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"saveDocument",value:function(){var t,e,r=this;this.annotationStorage.size<=0&&R("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");var n=this.annotationStorage.serializable,i=n.map,a=n.transfer;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null},a).finally((function(){r.annotationStorage.resetModified()}))}},{key:"getPage",value:function(t){var e=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));var r=t-1,n=Ih(Af,this).get(r);if(n)return n;var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then((function(n){if(e.destroyed)throw new Error("Transport destroyed");n.refStr&&Ih(_f,e).set(n.refStr,t);var i=new uf(r,n,e,e._params.pdfBug);return Ih(xf,e).set(r,i),i}));return Ih(Af,this).set(r,i),i}},{key:"getPageIndex",value:function(t){return Zh(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}},{key:"getAnnotations",value:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}},{key:"getFieldObjects",value:function(){return Fh(Sf,this,Tf).call(this,"GetFieldObjects")}},{key:"hasJSActions",value:function(){return Fh(Sf,this,Tf).call(this,"HasJSActions")}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getDocJSActions",value:function(){return Fh(Sf,this,Tf).call(this,"GetDocJSActions")}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(t){return Fh(Sf,this,Tf).call(this,"GetOptionalContentConfig").then((function(e){return new fc(e,t)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this,e="GetMetadata",r=Ih(kf,this).get(e);if(r)return r;var n=this.messageHandler.sendWithPromise(e,null).then((function(e){var r,n,i,a;return{info:e[0],metadata:e[1]?new Gu(e[1]):null,contentDispositionFilename:null!==(r=null===(n=t._fullReader)||void 0===n?void 0:n.filename)&&void 0!==r?r:null,contentLength:null!==(i=null===(a=t._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==i?i:null}}));return Ih(kf,this).set(e,n),n}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:(t=Hh(Bh().mark((function t(){var e,r,n,i,a=arguments;return Bh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a.length>0&&void 0!==a[0]&&a[0],!this.destroyed){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.messageHandler.sendWithPromise("Cleanup",null);case 5:r=Dh(Ih(xf,this).values()),t.prev=6,r.s();case 8:if((n=r.n()).done){t.next=15;break}if((i=n.value).cleanup()){t.next=13;break}throw new Error("startCleanup: Page ".concat(i.pageNumber," is currently rendering."));case 13:t.next=8;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),r.e(t.t0);case 20:return t.prev=20,r.f(),t.finish(20);case 23:this.commonObjs.clear(),e||this.fontLoader.clear(),Ih(kf,this).clear(),this.filterFactory.destroy(!0),uh.cleanup();case 28:case"end":return t.stop()}}),t,this,[[6,17,20,23]])}))),function(){return t.apply(this,arguments)})},{key:"cachedPageNumber",value:function(t){var e;if(!Zh(t))return null;var r=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return null!==(e=Ih(_f,this).get(r))&&void 0!==e?e:null}}]);var t}();function Tf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Ih(kf,this).get(t);if(r)return r;var n=this.messageHandler.sendWithPromise(t,e);return Ih(kf,this).set(t,n),n}var Pf=Symbol("INITIAL_DATA"),Lf=new WeakMap,Mf=new WeakSet,Cf=function(){return Vh((function t(){Uh(this,t),Mh(this,Mf),Ch(this,Lf,Object.create(null))}),[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){var r=Fh(Mf,this,jf).call(this,t);return r.promise.then((function(){return e(r.data)})),null}var n=Ih(Lf,this)[t];if(!n||n.data===Pf)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}},{key:"has",value:function(t){var e=Ih(Lf,this)[t];return!!e&&e.data!==Pf}},{key:"resolve",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Fh(Mf,this,jf).call(this,t);r.data=e,r.resolve()}},{key:"clear",value:function(){for(var t in Ih(Lf,this)){var e,r=Ih(Lf,this)[t].data;null==r||null===(e=r.bitmap)||void 0===e||e.close()}Rh(Lf,this,Object.create(null))}},{key:Symbol.iterator,value:Bh().mark((function t(){var e,r;return Bh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=Bh().keys(Ih(Lf,this));case 1:if((t.t1=t.t0()).done){t.next=10;break}if(e=t.t1.value,(r=Ih(Lf,this)[e].data)!==Pf){t.next=6;break}return t.abrupt("continue",1);case 6:return t.next=8,[e,r];case 8:t.next=1;break;case 10:case"end":return t.stop()}}),t,this)}))}])}();function jf(t){var e;return(e=Ih(Lf,this))[t]||(e[t]=Oh(Oh({},Promise.withResolvers()),{},{data:Pf}))}var If=new WeakMap,Rf=function(){return Vh((function t(e){Uh(this,t),Ch(this,If,null),Rh(If,this,e),this.onContinue=null}),[{key:"promise",get:function(){return Ih(If,this).capability.promise}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Ih(If,this).cancel(null,t)}},{key:"separateAnnots",get:function(){var t=Ih(If,this).operatorList.separateAnnots;if(!t)return!1;var e=Ih(If,this).annotationCanvasMap;return t.form||t.canvas&&(null==e?void 0:e.size)>0}}])}(),Ff=new WeakMap,Df=function(){return Vh((function t(e){var r=e.callback,n=e.params,i=e.objs,a=e.commonObjs,o=e.annotationCanvasMap,s=e.operatorList,u=e.pageIndex,c=e.canvasFactory,l=e.filterFactory,h=e.useRequestAnimationFrame,f=void 0!==h&&h,d=e.pdfBug,v=void 0!==d&&d,p=e.pageColors,y=void 0===p?null:p;Uh(this,t),Ch(this,Ff,null),this.callback=r,this.params=n,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=u,this.canvasFactory=c,this.filterFactory=l,this._pdfBug=v,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===f&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Rf(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}),[{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function(t){var e,r,n=t.transparency,i=void 0!==n&&n,a=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(Nf._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Nf._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var o=this.params,s=o.canvasContext,u=o.viewport,c=o.transform,l=o.background;this.gfx=new hu(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:a},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:c,viewport:u,transparency:i,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(r=this.graphicsReadyCallback)||void 0===r||r.call(this)}}},{key:"cancel",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),Ih(Ff,this)&&(window.cancelAnimationFrame(Ih(Ff,this)),Rh(Ff,this,null)),Nf._.delete(this._canvas),this.callback(e||new we("Rendering cancelled, page ".concat(this._pageIndex+1),r))}},{key:"operatorListChanged",value:function(){var t;this.graphicsReady?(null===(t=this.stepper)||void 0===t||t.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?Rh(Ff,this,window.requestAnimationFrame((function(){Rh(Ff,t,null),t._nextBound().catch(t._cancelBound)}))):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(t=Hh(Bh().mark((function t(){return Bh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Nf._.delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t}(),Nf={_:new WeakSet},Wf="4.7.0",Bf="";function Gf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Hf(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Uf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zf(n.key),n)}}function zf(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Vf(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function qf(t){return Math.max(0,Math.min(255,255*t))}r(7288),r(176),r(8408),r(98),r(4302),r(7149),r(482),r(9166);var Yf=function(){return function(t,e,r){return r&&Uf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),0,[{key:"CMYK_G",value:function(t){var e=Gf(t,4),r=e[0],n=e[1],i=e[2],a=e[3];return["G",1-Math.min(1,.3*r+.59*i+.11*n+a)]}},{key:"G_CMYK",value:function(t){return["CMYK",0,0,0,1-Gf(t,1)[0]]}},{key:"G_RGB",value:function(t){var e=Gf(t,1)[0];return["RGB",e,e,e]}},{key:"G_rgb",value:function(t){var e=Gf(t,1)[0];return[e=qf(e),e,e]}},{key:"G_HTML",value:function(t){var e=Vf(Gf(t,1)[0]);return"#".concat(e).concat(e).concat(e)}},{key:"RGB_G",value:function(t){var e=Gf(t,3);return["G",.3*e[0]+.59*e[1]+.11*e[2]]}},{key:"RGB_rgb",value:function(t){return t.map(qf)}},{key:"RGB_HTML",value:function(t){return"#".concat(t.map(Vf).join(""))}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"T_rgb",value:function(){return[null]}},{key:"CMYK_RGB",value:function(t){var e=Gf(t,4),r=e[0],n=e[1],i=e[2],a=e[3];return["RGB",1-Math.min(1,r+a),1-Math.min(1,i+a),1-Math.min(1,n+a)]}},{key:"CMYK_rgb",value:function(t){var e=Gf(t,4),r=e[0],n=e[1],i=e[2],a=e[3];return[qf(1-Math.min(1,r+a)),qf(1-Math.min(1,i+a)),qf(1-Math.min(1,n+a))]}},{key:"CMYK_HTML",value:function(t){var e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}},{key:"RGB_CMYK",value:function(t){var e=Gf(t,3),r=1-e[0],n=1-e[1],i=1-e[2];return["CMYK",r,n,i,Math.min(r,n,i)]}}])}();function Xf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||Qf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kf(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Qf(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Qf(t,e){if(t){if("string"==typeof t)return Jf(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jf(t,e):void 0}}function Jf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function $f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zf(n.key),n)}}function Zf(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}var td=function(){return function(t,e,r){return r&&$f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),0,[{key:"setupStorage",value:function(t,e,r,n,i){var a=n.getValue(e,{value:null});switch(r.name){case"textarea":if(null!==a.value&&(t.textContent=a.value),"print"===i)break;t.addEventListener("input",(function(t){n.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===r.attributes.type||"checkbox"===r.attributes.type){if(a.value===r.attributes.xfaOn?t.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",(function(t){n.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&t.setAttribute("value",a.value),"print"===i)break;t.addEventListener("input",(function(t){n.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==a.value){t.setAttribute("value",a.value);var o,s=Kf(r.children);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.attributes.value===a.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}}catch(t){s.e(t)}finally{s.f()}}t.addEventListener("input",(function(t){var r=t.target.options,i=-1===r.selectedIndex?"":r[r.selectedIndex].value;n.setValue(e,{value:i})}))}}},{key:"setAttributes",value:function(t){var e=t.html,r=t.element,n=t.storage,i=void 0===n?null:n,a=t.intent,o=t.linkService,s=r.attributes,u=e instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(a));for(var c=0,l=Object.entries(s);c<l.length;c++){var h=Xf(l[c],2),f=h[0],d=h[1];if(null!=d)switch(f){case"class":d.length&&e.setAttribute(f,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!u||"href"!==f&&"newWindow"!==f)&&e.setAttribute(f,d)}}u&&o.addLinkAttributes(e,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(e,s.dataId,r,i)}},{key:"render",value:function(t){var e=t.annotationStorage,r=t.linkService,n=t.xfaHtml,i=t.intent||"display",a=document.createElement(n.name);n.attributes&&this.setAttributes({html:a,element:n,intent:i,linkService:r});var o="richText"!==i,s=t.div;if(s.append(a),t.viewport){var u="matrix(".concat(t.viewport.transform.join(","),")");s.style.transform=u}o&&s.setAttribute("class","xfaLayer xfaFont");var c=[];if(0===n.children.length){if(n.value){var l=document.createTextNode(n.value);a.append(l),o&&Eh.shouldBuildText(n.name)&&c.push(l)}return{textDivs:c}}for(var h=[[n,-1,a]];h.length>0;){var f,d,v=Xf(h.at(-1),3),p=v[0],y=v[1],g=v[2];if(y+1!==p.children.length){var m=p.children[++h.at(-1)[1]];if(null!==m){var b=m.name;if("#text"!==b){var w=null!=m&&null!==(f=m.attributes)&&void 0!==f&&f.xmlns?document.createElementNS(m.attributes.xmlns,b):document.createElement(b);if(g.append(w),m.attributes&&this.setAttributes({html:w,element:m,storage:e,intent:i,linkService:r}),(null===(d=m.children)||void 0===d?void 0:d.length)>0)h.push([m,-1,w]);else if(m.value){var k=document.createTextNode(m.value);o&&Eh.shouldBuildText(b)&&c.push(k),w.append(k)}}else{var x=document.createTextNode(m.value);c.push(x),g.append(x)}}}else h.pop()}var A,_=Kf(s.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(_.s();!(A=_.n()).done;)A.value.setAttribute("readOnly",!0)}catch(t){_.e(t)}finally{_.f()}return{textDivs:c}}},{key:"update",value:function(t){var e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}])}();function ed(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rd(t,e,r){return(e=Td(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nd(){nd=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function id(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ad(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){id(a,n,i,o,s,"next",t)}function s(t){id(a,n,i,o,s,"throw",t)}o(void 0)}))}}function od(t,e,r){e||(e=[]);var n=e.length++;return Object.defineProperty({},"_",{set:function(i){e[n]=i,t.apply(r,e)}})}function sd(t,e,r){return r(_d(t,e))}function ud(){return ud="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=fd(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ud.apply(null,arguments)}function cd(t){return function(t){if(Array.isArray(t))return md(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||gd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ld(t,e,r){return e=fd(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hd()?Reflect.construct(e,r||[],fd(t).constructor):e.apply(t,r))}function hd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hd=function(){return!!t})()}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fd(t)}function dd(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vd(t,e)}function vd(t,e){return vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vd(t,e)}function pd(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=gd(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function yd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||gd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gd(t,e){if(t){if("string"==typeof t)return md(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?md(t,e):void 0}}function md(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bd(t,e){kd(t,e),e.add(t)}function wd(t,e,r){kd(t,e),e.set(t,r)}function kd(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xd(t,e,r){return t.set(_d(t,e),r),r}function Ad(t,e){return t.get(_d(t,e))}function _d(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Ed(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Td(n.key),n)}}function Od(t,e,r){return e&&Sd(t.prototype,e),r&&Sd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Td(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}var Pd=1e3,Ld=new WeakSet;function Md(t){return{width:t[2]-t[0],height:t[3]-t[1]}}var Cd=function(){return Od((function t(){Ed(this,t)}),null,[{key:"create",value:function(t){switch(t.data.annotationType){case 2:return new Bd(t);case 1:return new zd(t);case 20:switch(t.data.fieldType){case"Tx":return new qd(t);case"Btn":return t.data.radioButton?new Kd(t):t.data.checkBox?new Xd(t):new Qd(t);case"Ch":return new Jd(t);case"Sig":return new Yd(t)}return new Vd(t);case 16:return new $d(t);case 3:return new Pv(t);case 4:return new Mv(t);case 5:return new jv(t);case 6:return new Rv(t);case 8:return new Dv(t);case 14:return new Wv(t);case 15:return new Gv(t);case 7:return new Nv(t);case 9:return new Hv(t);case 10:return new Uv(t);case 11:return new zv(t);case 12:return new Vv(t);case 13:return new qv(t);case 17:return new Kv(t);default:return new Dd(t)}}}])}(),jd=new WeakMap,Id=new WeakMap,Rd=new WeakMap,Fd=new WeakSet,Dd=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.isRenderable,i=void 0!==n&&n,a=r.ignoreBorder,o=void 0!==a&&a,s=r.createQuadrilaterals,u=void 0!==s&&s;Ed(this,t),bd(this,Fd),wd(this,jd,null),wd(this,Id,!1),wd(this,Rd,null),this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(o)),u&&this._createQuadrilaterals()}return Od(t,[{key:"_isEditable",get:function(){return this.data.isEditable}},{key:"hasPopupData",get:function(){return t._hasPopupData(this.data)}},{key:"updateEdited",value:function(t){var e;if(this.container){Ad(jd,this)||xd(jd,this,{rect:this.data.rect.slice(0)});var r=t.rect;r&&_d(Fd,this,Nd).call(this,r),null===(e=Ad(Rd,this))||void 0===e||e.popup.updateEdited(t)}}},{key:"resetEdited",value:function(){var t;Ad(jd,this)&&(_d(Fd,this,Nd).call(this,Ad(jd,this).rect),null===(t=Ad(Rd,this))||void 0===t||t.popup.resetEdited(),xd(jd,this,null))}},{key:"_createContainer",value:function(t){var e=this.data,r=this.parent,n=r.page,i=r.viewport,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof Vd||(a.tabIndex=Pd);var o=a.style;if(o.zIndex=this.parent.zIndex++,e.popupRef&&a.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof $d){var s=e.rotation;return e.hasOwnCanvas||0===s||this.setRotation(s,a),a}var u=Md(e.rect),c=u.width,l=u.height;if(!t&&e.borderStyle.width>0){o.borderWidth="".concat(e.borderStyle.width,"px");var h=e.borderStyle.horizontalCornerRadius,f=e.borderStyle.verticalCornerRadius;if(h>0||f>0){var d="calc(".concat(h,"px * var(--scale-factor)) / calc(").concat(f,"px * var(--scale-factor))");o.borderRadius=d}else if(this instanceof Kd){var v="calc(".concat(c,"px * var(--scale-factor)) / calc(").concat(l,"px * var(--scale-factor))");o.borderRadius=v}switch(e.borderStyle.style){case 1:o.borderStyle="solid";break;case 2:o.borderStyle="dashed";break;case 3:R("Unimplemented border style: beveled");break;case 4:R("Unimplemented border style: inset");break;case 5:o.borderBottomStyle="solid"}var p=e.borderColor||null;p?(xd(Id,this,!0),o.borderColor=Z.makeHexColor(0|p[0],0|p[1],0|p[2])):o.borderWidth=0}var y=Z.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),g=i.rawDims,m=g.pageWidth,b=g.pageHeight,w=g.pageX,k=g.pageY;o.left="".concat(100*(y[0]-w)/m,"%"),o.top="".concat(100*(y[1]-k)/b,"%");var x=e.rotation;return e.hasOwnCanvas||0===x?(o.width="".concat(100*c/m,"%"),o.height="".concat(100*l/b,"%")):this.setRotation(x,a),a}},{key:"setRotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(this.data.rect){var r,n,i=this.parent.viewport.rawDims,a=i.pageWidth,o=i.pageHeight,s=Md(this.data.rect),u=s.width,c=s.height;t%180==0?(r=100*u/a,n=100*c/o):(r=100*c/a,n=100*u/o),e.style.width="".concat(r,"%"),e.style.height="".concat(n,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}}},{key:"_commonActions",get:function(){var t=this,e=function(e,r,n){var i=n.detail[e],a=i[0],o=i.slice(1);n.target.style[r]=Yf["".concat(a,"_HTML")](o),t.annotationStorage.setValue(t.data.id,{[r]:Yf["".concat(a,"_rgb")](o)})};return W(this,"_commonActions",{display:function(e){var r=e.detail.display,n=r%2==1;t.container.style.visibility=n?"hidden":"visible",t.annotationStorage.setValue(t.data.id,{noView:n,noPrint:1===r||2===r})},print:function(e){t.annotationStorage.setValue(t.data.id,{noPrint:!e.detail.print})},hidden:function(e){var r=e.detail.hidden;t.container.style.visibility=r?"hidden":"visible",t.annotationStorage.setValue(t.data.id,{noPrint:r,noView:r})},focus:function(t){setTimeout((function(){return t.target.focus({preventScroll:!1})}),0)},userName:function(t){t.target.title=t.detail.userName},readonly:function(t){t.target.disabled=t.detail.readonly},required:function(e){t._setRequired(e.target,e.detail.required)},bgColor:function(t){e("bgColor","backgroundColor",t)},fillColor:function(t){e("fillColor","backgroundColor",t)},fgColor:function(t){e("fgColor","color",t)},textColor:function(t){e("textColor","color",t)},borderColor:function(t){e("borderColor","borderColor",t)},strokeColor:function(t){e("strokeColor","borderColor",t)},rotation:function(e){var r=e.detail.rotation;t.setRotation(r),t.annotationStorage.setValue(t.data.id,{rotation:r})}})}},{key:"_dispatchEventFromSandbox",value:function(t,e){for(var r=this._commonActions,n=0,i=Object.keys(e.detail);n<i.length;n++){var a=i[n],o=t[a]||r[a];null==o||o(e)}}},{key:"_setDefaultPropertiesFromJS",value:function(t){if(this.enableScripting){var e=this.annotationStorage.getRawValue(this.data.id);if(e)for(var r=this._commonActions,n=0,i=Object.entries(e);n<i.length;n++){var a=yd(i[n],2),o=a[0],s=a[1],u=r[o];u&&(u({detail:{[o]:s},target:t}),delete e[o])}}}},{key:"_createQuadrilaterals",value:function(){if(this.container){var t=this.data.quadPoints;if(t){var e=this.data.rect.map((function(t){return Math.fround(t)})),r=yd(e,4),n=r[0],i=r[1],a=r[2],o=r[3];if(8===t.length){var s=yd(t.subarray(2,6),4),u=s[0],c=s[1],l=s[2],h=s[3];if(a===u&&o===c&&n===l&&i===h)return}var f,d=this.container.style;if(Ad(Id,this)){var v=d.borderColor,p=d.borderWidth;d.borderWidth=0,f=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(v,'" stroke-width="').concat(p,'">')],this.container.classList.add("hasBorder")}var y=a-n,g=o-i,m=this.svgFactory,b=m.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);var w=m.createElement("defs");b.append(w);var k=m.createElement("clipPath"),x="clippath_".concat(this.data.id);k.setAttribute("id",x),k.setAttribute("clipPathUnits","objectBoundingBox"),w.append(k);for(var A=2,_=t.length;A<_;A+=8){var E,S=t[A],O=t[A+1],T=t[A+2],P=t[A+3],L=m.createElement("rect"),M=(T-n)/y,C=(o-O)/g,j=(S-T)/y,I=(O-P)/g;L.setAttribute("x",M),L.setAttribute("y",C),L.setAttribute("width",j),L.setAttribute("height",I),k.append(L),null===(E=f)||void 0===E||E.push('<rect vector-effect="non-scaling-stroke" x="'.concat(M,'" y="').concat(C,'" width="').concat(j,'" height="').concat(I,'"/>'))}Ad(Id,this)&&(f.push("</g></svg>')"),d.backgroundImage=f.join("")),this.container.append(b),this.container.style.clipPath="url(#".concat(x,")")}}}},{key:"_createPopup",value:function(){var t=this.container,e=this.data;t.setAttribute("aria-haspopup","dialog");var r=xd(Rd,this,new $d({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}},{key:"render",value:function(){F("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[];if(this._fieldObjects){var n=this._fieldObjects[t];if(n){var i,a=pd(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.page,u=o.id,c=o.exportValues;if(-1!==s&&u!==e){var l="string"==typeof c?c:null,h=document.querySelector('[data-element-id="'.concat(u,'"]'));!h||Ld.has(h)?r.push({id:u,exportValue:l,domElement:h}):R("_getElementsByName - element not allowed: ".concat(u))}}}catch(t){a.e(t)}finally{a.f()}}return r}var f,d=pd(document.getElementsByName(t));try{for(d.s();!(f=d.n()).done;){var v=f.value,p=v.exportValue,y=v.getAttribute("data-element-id");y!==e&&Ld.has(v)&&r.push({id:y,exportValue:p,domElement:v})}}catch(t){d.e(t)}finally{d.f()}return r}},{key:"show",value:function(){var t;this.container&&(this.container.hidden=!1),null===(t=this.popup)||void 0===t||t.maybeShow()}},{key:"hide",value:function(){var t;this.container&&(this.container.hidden=!0),null===(t=this.popup)||void 0===t||t.forceHide()}},{key:"getElementsToTriggerPopup",value:function(){return this.container}},{key:"addHighlightArea",value:function(){var t=this.getElementsToTriggerPopup();if(Array.isArray(t)){var e,r=pd(t);try{for(r.s();!(e=r.n()).done;)e.value.classList.add("highlightArea")}catch(t){r.e(t)}finally{r.f()}}else t.classList.add("highlightArea")}},{key:"_editOnDoubleClick",value:function(){var t=this;if(this._isEditable){var e=this.annotationEditorType,r=this.data.id;this.container.addEventListener("dblclick",(function(){var n;null===(n=t.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:t,mode:e,editId:r})}))}}}],[{key:"_hasPopupData",value:function(t){var e=t.titleObj,r=t.contentsObj,n=t.richText;return!!(null!=e&&e.str||null!=r&&r.str||null!=n&&n.str)}}])}();function Nd(t){var e=this.container.style,r=this.data,n=r.rect,i=r.rotation,a=this.parent.viewport.rawDims,o=a.pageWidth,s=a.pageHeight,u=a.pageX,c=a.pageY;null==n||n.splice.apply(n,[0,4].concat(cd(t)));var l=Md(t),h=l.width,f=l.height;e.left="".concat(100*(t[0]-u)/o,"%"),e.top="".concat(100*(s-t[3]+c)/s,"%"),0===i?(e.width="".concat(100*h/o,"%"),e.height="".concat(100*f/s,"%")):this.setRotation(i)}var Wd=new WeakSet,Bd=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ed(this,e),bd(r=ld(this,e,[t,{isRenderable:!0,ignoreBorder:!(null==n||!n.ignoreBorder),createQuadrilaterals:!0}]),Wd),r.isTooltipOnly=t.data.isTooltipOnly,r}return dd(e,Dd),Od(e,[{key:"render",value:function(){var t=this.data,e=this.linkService,r=document.createElement("a");r.setAttribute("data-element-id",t.id);var n=!1;return t.url?(e.addLinkAttributes(r,t.url,t.newWindow),n=!0):t.action?(this._bindNamedAction(r,t.action),n=!0):t.attachment?(_d(Wd,this,Hd).call(this,r,t.attachment,t.attachmentDest),n=!0):t.setOCGState?(_d(Wd,this,Ud).call(this,r,t.setOCGState),n=!0):t.dest?(this._bindLink(r,t.dest),n=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),n=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),n=!0):this.isTooltipOnly&&!n&&(this._bindLink(r,""),n=!0)),this.container.classList.add("linkAnnotation"),n&&this.container.append(r),this.container}},{key:"_bindLink",value:function(t,e){var r=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&r.linkService.goToDestination(e),!1},(e||""===e)&&_d(Wd,this,Gd).call(this)}},{key:"_bindNamedAction",value:function(t,e){var r=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return r.linkService.executeNamedAction(e),!1},_d(Wd,this,Gd).call(this)}},{key:"_bindJSAction",value:function(t,e){var r=this;t.href=this.linkService.getAnchorUrl("");for(var n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=o[a],s=n.get(i);if(!s)return 1;t[s]=function(){var t;return null===(t=r.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:r,detail:{id:e.id,name:i}}),!1}},a=0,o=Object.keys(e.actions);a<o.length;a++)i();t.onclick||(t.onclick=function(){return!1}),_d(Wd,this,Gd).call(this)}},{key:"_bindResetFormAction",value:function(t,e){var r=this,n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),_d(Wd,this,Gd).call(this),!this._fieldObjects)return R('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=function(){return!1}));t.onclick=function(){null==n||n();var t=e.fields,i=e.refs,a=e.include,o=[];if(0!==t.length||0!==i.length){var s,u=new Set(i),c=pd(t);try{for(c.s();!(s=c.n()).done;){var l,h=s.value,f=pd(r._fieldObjects[h]||[]);try{for(f.s();!(l=f.n()).done;){var d=l.value.id;u.add(d)}}catch(t){f.e(t)}finally{f.f()}}}catch(t){c.e(t)}finally{c.f()}for(var v=0,p=Object.values(r._fieldObjects);v<p.length;v++){var y,g=pd(p[v]);try{for(g.s();!(y=g.n()).done;){var m=y.value;u.has(m.id)===a&&o.push(m)}}catch(t){g.e(t)}finally{g.f()}}}else for(var b=0,w=Object.values(r._fieldObjects);b<w.length;b++){var k=w[b];o.push.apply(o,cd(k))}for(var x,A=r.annotationStorage,_=[],E=0,S=o;E<S.length;E++){var O=S[E],T=O.id;switch(_.push(T),O.type){case"text":var P=O.defaultValue||"";A.setValue(T,{value:P});break;case"checkbox":case"radiobutton":var L=O.defaultValue===O.exportValues;A.setValue(T,{value:L});break;case"combobox":case"listbox":var M=O.defaultValue||"";A.setValue(T,{value:M});break;default:continue}var C=document.querySelector('[data-element-id="'.concat(T,'"]'));C&&(Ld.has(C)?C.dispatchEvent(new Event("resetform")):R("_bindResetFormAction - element not allowed: ".concat(T)))}return r.enableScripting&&(null===(x=r.linkService.eventBus)||void 0===x||x.dispatch("dispatcheventinsandbox",{source:r,detail:{id:"app",ids:_,name:"ResetForm"}})),!1}}}])}();function Gd(){this.container.setAttribute("data-internal-link","")}function Hd(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=function(){var t;return null===(t=r.downloadManager)||void 0===t||t.openOrDownloadData(e.content,e.filename,n),!1},_d(Wd,this,Gd).call(this)}function Ud(t,e){var r=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return r.linkService.executeSetOCGState(e),!1},_d(Wd,this,Gd).call(this)}var zd=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:!0}])}return dd(e,Dd),Od(e,[{key:"render",value:function(){this.container.classList.add("textAnnotation");var t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}])}(),Vd=function(t){function e(){return Ed(this,e),ld(this,e,arguments)}return dd(e,Dd),Od(e,[{key:"render",value:function(){return this.container}},{key:"showElementAndHideCanvas",value:function(t){var e;this.data.hasOwnCanvas&&("CANVAS"===(null===(e=t.previousSibling)||void 0===e?void 0:e.nodeName)&&(t.previousSibling.hidden=!0),t.hidden=!1)}},{key:"_getKeyModifier",value:function(t){return J.platform.isMac?t.metaKey:t.ctrlKey}},{key:"_setEventListener",value:function(t,e,r,n,i){var a=this;r.includes("mouse")?t.addEventListener(r,(function(t){var e;null===(e=a.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:n,value:i(t),shift:t.shiftKey,modifier:a._getKeyModifier(t)}})})):t.addEventListener(r,(function(t){var o;if("blur"===r){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===r){if(e.focused)return;e.focused=!0}i&&(null===(o=a.linkService.eventBus)||void 0===o||o.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:n,value:i(t)}}))}))}},{key:"_setEventListeners",value:function(t,e,r,n){var i,a=pd(r);try{for(a.s();!(i=a.n()).done;){var o,s,u,c=yd(i.value,2),l=c[0],h=c[1];("Action"===h||null!==(o=this.data.actions)&&void 0!==o&&o[h])&&("Focus"!==h&&"Blur"!==h||e||(e={focused:!1}),this._setEventListener(t,e,l,h,n),"Focus"!==h||null!==(s=this.data.actions)&&void 0!==s&&s.Blur?"Blur"!==h||null!==(u=this.data.actions)&&void 0!==u&&u.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null))}}catch(t){a.e(t)}finally{a.f()}}},{key:"_setBackgroundColor",value:function(t){var e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":Z.makeHexColor(e[0],e[1],e[2])}},{key:"_setTextStyle",value:function(t){var e,r=this.data.defaultAppearanceData.fontColor,n=this.data.defaultAppearanceData.fontSize||9,i=t.style,a=function(t){return Math.round(10*t)/10};if(this.data.multiLine){var o=Math.abs(this.data.rect[3]-this.data.rect[1]-2),s=o/(Math.round(o/(k*n))||1);e=Math.min(n,a(s/k))}else{var u=Math.abs(this.data.rect[3]-this.data.rect[1]-2);e=Math.min(n,a(u/k))}i.fontSize="calc(".concat(e,"px * var(--scale-factor))"),i.color=Z.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}},{key:"_setRequired",value:function(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}])}(),qd=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue}])}return dd(e,Vd),Od(e,[{key:"setPropertyOnSiblings",value:function(t,e,r,n){var i,a=this.annotationStorage,o=pd(this._getElementsByName(t.name,t.id));try{for(o.s();!(i=o.n()).done;){var s=i.value;s.domElement&&(s.domElement[e]=r),a.setValue(s.id,{[n]:r})}}catch(t){o.e(t)}finally{o.f()}}},{key:"render",value:function(){var t=this,e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");var n=null;if(this.renderForms){var i,a=e.getValue(r,{value:this.data.fieldValue}),o=a.value||"",s=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;s&&o.length>s&&(o=o.slice(0,s));var u=a.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));var c,l,h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?((n=document.createElement("textarea")).textContent=null!==(c=u)&&void 0!==c?c:o,this.data.doNotScroll&&(n.style.overflowY="hidden")):((n=document.createElement("input")).type="text",n.setAttribute("value",null!==(l=u)&&void 0!==l?l:o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ld.add(n),n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Pd,this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",(function(i){e.setValue(r,{value:i.target.value}),t.setPropertyOnSiblings(n,"value",i.target.value,"value"),h.formattedValue=null})),n.addEventListener("resetform",(function(e){var r,i=null!==(r=t.data.defaultFieldValue)&&void 0!==r?r:"";n.value=h.userValue=i,h.formattedValue=null}));var f=function(t){var e=h.formattedValue;null!=e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var d;n.addEventListener("focus",(function(e){var r;if(!h.focused){var n=e.target;h.userValue&&(n.value=h.userValue),h.lastCommittedValue=n.value,h.commitKey=1,null!==(r=t.data.actions)&&void 0!==r&&r.Focus||(h.focused=!0)}})),n.addEventListener("updatefromsandbox",(function(n){t.showElementAndHideCanvas(n.target);var i={value(t){var n;h.userValue=null!==(n=t.detail.value)&&void 0!==n?n:"",e.setValue(r,{value:h.userValue.toString()}),t.target.value=h.userValue},formattedValue(t){var n=t.detail.formattedValue;h.formattedValue=n,null!=n&&t.target!==document.activeElement&&(t.target.value=n),e.setValue(r,{formattedValue:n})},selRange(t){var e;(e=t.target).setSelectionRange.apply(e,cd(t.detail.selRange))},charLimit:function(n){var i,a=n.detail.charLimit,o=n.target;if(0!==a){o.setAttribute("maxLength",a);var s=h.userValue;!s||s.length<=a||(s=s.slice(0,a),o.value=h.userValue=s,e.setValue(r,{value:s}),null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:r,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:o.selectionStart,selEnd:o.selectionEnd}}))}else o.removeAttribute("maxLength")}};t._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(function(e){var n;h.commitKey=1;var i=-1;if("Escape"===e.key?i=0:"Enter"!==e.key||t.data.multiLine?"Tab"===e.key&&(h.commitKey=3):i=2,-1!==i){var a=e.target.value;h.lastCommittedValue!==a&&(h.lastCommittedValue=a,h.userValue=a,null===(n=t.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:t,detail:{id:r,name:"Keystroke",value:a,willCommit:!0,commitKey:i,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}}));var v=f;f=null,n.addEventListener("blur",(function(e){var n;if(h.focused&&e.relatedTarget){null!==(n=t.data.actions)&&void 0!==n&&n.Blur||(h.focused=!1);var i,a=e.target.value;h.userValue=a,h.lastCommittedValue!==a&&(null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:r,name:"Keystroke",value:a,willCommit:!0,commitKey:h.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),v(e)}})),null!==(d=this.data.actions)&&void 0!==d&&d.Keystroke&&n.addEventListener("beforeinput",(function(e){var n;h.lastCommittedValue=null;var i=e.data,a=e.target,o=a.value,s=a.selectionStart,u=a.selectionEnd,c=s,l=u;switch(e.inputType){case"deleteWordBackward":var f=o.substring(0,s).match(/\w*[^\w]*$/);f&&(c-=f[0].length);break;case"deleteWordForward":var d=o.substring(s).match(/^[^\w]*\w*/);d&&(l+=d[0].length);break;case"deleteContentBackward":s===u&&(c-=1);break;case"deleteContentForward":s===u&&(l+=1)}e.preventDefault(),null===(n=t.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:t,detail:{id:r,name:"Keystroke",value:o,change:i||"",willCommit:!1,selStart:c,selEnd:l}})})),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.value}))}if(f&&n.addEventListener("blur",f),this.data.comb){var p=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(p,"px * var(--scale-factor) - 1ch)")}}else(n=document.createElement("div")).textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}])}(),Yd=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:!!t.data.hasOwnCanvas}])}return dd(e,Vd),Od(e)}(),Xd=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:t.renderForms}])}return dd(e,Vd),Od(e,[{key:"render",value:function(){var t=this,e=this.annotationStorage,r=this.data,n=r.id,i=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;"string"==typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");var a=document.createElement("input");return Ld.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=r.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",r.exportValue),a.tabIndex=Pd,a.addEventListener("change",(function(i){var a,o=i.target,s=o.name,u=o.checked,c=pd(t._getElementsByName(s,n));try{for(c.s();!(a=c.n()).done;){var l=a.value,h=u&&l.exportValue===r.exportValue;l.domElement&&(l.domElement.checked=h),e.setValue(l.id,{value:h})}}catch(t){c.e(t)}finally{c.f()}e.setValue(n,{value:u})})),a.addEventListener("resetform",(function(t){var e=r.defaultFieldValue||"Off";t.target.checked=e===r.exportValue})),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",(function(r){var i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};t._dispatchEventFromSandbox(i,r)})),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}])}(),Kd=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:t.renderForms}])}return dd(e,Vd),Od(e,[{key:"render",value:function(){var t=this;this.container.classList.add("buttonWidgetAnnotation","radioButton");var e=this.annotationStorage,r=this.data,n=r.id,i=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if("string"==typeof i&&(i=i!==r.buttonValue,e.setValue(n,{value:i})),i){var a,o=pd(this._getElementsByName(r.fieldName,n));try{for(o.s();!(a=o.n()).done;){var s=a.value;e.setValue(s.id,{value:!1})}}catch(t){o.e(t)}finally{o.f()}}var u=document.createElement("input");if(Ld.add(u),u.setAttribute("data-element-id",n),u.disabled=r.readOnly,this._setRequired(u,this.data.required),u.type="radio",u.name=r.fieldName,i&&u.setAttribute("checked",!0),u.tabIndex=Pd,u.addEventListener("change",(function(r){var i,a=r.target,o=a.name,s=a.checked,u=pd(t._getElementsByName(o,n));try{for(u.s();!(i=u.n()).done;){var c=i.value;e.setValue(c.id,{value:!1})}}catch(t){u.e(t)}finally{u.f()}e.setValue(n,{value:s})})),u.addEventListener("resetform",(function(t){var e=r.defaultFieldValue;t.target.checked=null!=e&&e===r.buttonValue})),this.enableScripting&&this.hasJSActions){var c=r.buttonValue;u.addEventListener("updatefromsandbox",(function(r){var i={value:function(r){var i,a=c===r.detail.value,o=pd(t._getElementsByName(r.target.name));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=a&&s.id===n;s.domElement&&(s.domElement.checked=u),e.setValue(s.id,{value:u})}}catch(t){o.e(t)}finally{o.f()}}};t._dispatchEventFromSandbox(i,r)})),this._setEventListeners(u,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))}return this._setBackgroundColor(u),this._setDefaultPropertiesFromJS(u),this.container.append(u),this.container}}])}(),Qd=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{ignoreBorder:t.data.hasAppearance}])}return dd(e,Bd),Od(e,[{key:"render",value:function(){var t=this,r=function(t,e,r,n){var i=ud(fd(t.prototype),"render",r);return"function"==typeof i?function(t){return i.apply(r,t)}:i}(e,0,this)([]);r.classList.add("buttonWidgetAnnotation","pushButton");var n=r.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",(function(e){t._dispatchEventFromSandbox({},e)}))),r}}])}(),Jd=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:t.renderForms}])}return dd(e,Vd),Od(e,[{key:"render",value:function(){var t=this;this.container.classList.add("choiceWidgetAnnotation");var e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");Ld.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Pd;var a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(function(e){var r,n=t.data.defaultFieldValue,a=pd(i.options);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.selected=o.value===n}}catch(t){a.e(t)}finally{a.f()}}));var o,s=pd(this.data.options);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=document.createElement("option");c.textContent=u.displayValue,c.value=u.exportValue,n.value.includes(u.exportValue)&&(c.setAttribute("selected",!0),a=!1),i.append(c)}}catch(t){s.e(t)}finally{s.f()}var l=null;if(a){var h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),l=function(){h.remove(),i.removeEventListener("input",l),l=null},i.addEventListener("input",l)}var f=function(t){var e=t?"value":"textContent",r=i.options;return i.multiple?Array.prototype.filter.call(r,(function(t){return t.selected})).map((function(t){return t[e]})):-1===r.selectedIndex?null:r[r.selectedIndex][e]},d=f(!1),v=function(t){var e=t.target.options;return Array.prototype.map.call(e,(function(t){return{displayValue:t.textContent,exportValue:t.value}}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(function(n){var a={value(t){var n;null===(n=l)||void 0===n||n();var a,o=t.detail.value,s=new Set(Array.isArray(o)?o:[o]),u=pd(i.options);try{for(u.s();!(a=u.n()).done;){var c=a.value;c.selected=s.has(c.value)}}catch(t){u.e(t)}finally{u.f()}e.setValue(r,{value:f(!0)}),d=f(!1)},multipleSelection(t){i.multiple=!0},remove(t){var n=i.options,a=t.detail.remove;if(n[a].selected=!1,i.remove(a),n.length>0){var o=Array.prototype.findIndex.call(n,(function(t){return t.selected}));-1===o&&(n[0].selected=!0)}e.setValue(r,{value:f(!0),items:v(t)}),d=f(!1)},clear(t){for(;0!==i.length;)i.remove(0);e.setValue(r,{value:null,items:[]}),d=f(!1)},insert(t){var n=t.detail.insert,a=n.index,o=n.displayValue,s=n.exportValue,u=i.children[a],c=document.createElement("option");c.textContent=o,c.value=s,u?u.before(c):i.append(c),e.setValue(r,{value:f(!0),items:v(t)}),d=f(!1)},items(t){for(var n=t.detail.items;0!==i.length;)i.remove(0);var a,o=pd(n);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.displayValue,c=s.exportValue,l=document.createElement("option");l.textContent=u,l.value=c,i.append(l)}}catch(t){o.e(t)}finally{o.f()}i.options.length>0&&(i.options[0].selected=!0),e.setValue(r,{value:f(!0),items:v(t)}),d=f(!1)},indices(t){var n,i=new Set(t.detail.indices),a=pd(t.target.options);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.selected=i.has(o.index)}}catch(t){a.e(t)}finally{a.f()}e.setValue(r,{value:f(!0)}),d=f(!1)},editable(t){t.target.disabled=!t.detail.editable}};t._dispatchEventFromSandbox(a,n)})),i.addEventListener("input",(function(n){var i,a=f(!0),o=f(!1);e.setValue(r,{value:a}),n.preventDefault(),null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:r,name:"Keystroke",value:d,change:o,changeEx:a,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(function(t){return t.target.value}))):i.addEventListener("input",(function(t){e.setValue(r,{value:f(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}])}(),$d=function(t){function e(t){var r;Ed(this,e);var n=t.data,i=t.elements;return(r=ld(this,e,[t,{isRenderable:Dd._hasPopupData(n)}])).elements=i,r.popup=null,r}return dd(e,Dd),Od(e,[{key:"render",value:function(){this.container.classList.add("popupAnnotation");var t,e=this.popup=new bv({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[],n=pd(this.elements);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.popup=e,r.push(i.data.id),i.addHighlightArea()}}catch(t){n.e(t)}finally{n.f()}return this.container.setAttribute("aria-controls",r.map((function(t){return"".concat(at).concat(t)})).join(",")),this.container}}])}(),Zd=new WeakMap,tv=new WeakMap,ev=new WeakMap,rv=new WeakMap,nv=new WeakMap,iv=new WeakMap,av=new WeakMap,ov=new WeakMap,sv=new WeakMap,uv=new WeakMap,cv=new WeakMap,lv=new WeakMap,hv=new WeakMap,fv=new WeakMap,dv=new WeakMap,vv=new WeakMap,pv=new WeakMap,yv=new WeakMap,gv=new WeakMap,mv=new WeakSet,bv=function(){return Od((function t(e){var r=e.container,n=e.color,i=e.elements,a=e.titleObj,o=e.modificationDate,s=e.contentsObj,u=e.richText,c=e.parent,l=e.rect,h=e.parentRect,f=e.open;Ed(this,t),bd(this,mv),wd(this,Zd,_d(mv,this,_v).bind(this)),wd(this,tv,_d(mv,this,Tv).bind(this)),wd(this,ev,_d(mv,this,Ov).bind(this)),wd(this,rv,_d(mv,this,Sv).bind(this)),wd(this,nv,null),wd(this,iv,null),wd(this,av,null),wd(this,ov,null),wd(this,sv,null),wd(this,uv,null),wd(this,cv,null),wd(this,lv,!1),wd(this,hv,null),wd(this,fv,null),wd(this,dv,null),wd(this,vv,null),wd(this,pv,null),wd(this,yv,null),wd(this,gv,!1),xd(iv,this,r),xd(pv,this,a),xd(av,this,s),xd(vv,this,u),xd(uv,this,c),xd(nv,this,n),xd(dv,this,l),xd(cv,this,h),xd(sv,this,i),xd(ov,this,Le.toDateObject(o)),this.trigger=i.flatMap((function(t){return t.getElementsToTriggerPopup()}));var d,v=pd(this.trigger);try{for(v.s();!(d=v.n()).done;){var p=d.value;p.addEventListener("click",Ad(rv,this)),p.addEventListener("mouseenter",Ad(ev,this)),p.addEventListener("mouseleave",Ad(tv,this)),p.classList.add("popupTriggerArea")}}catch(t){v.e(t)}finally{v.f()}var y,g=pd(i);try{for(g.s();!(y=g.n()).done;){var m;null===(m=y.value.container)||void 0===m||m.addEventListener("keydown",Ad(Zd,this))}}catch(t){g.e(t)}finally{g.f()}Ad(iv,this).hidden=!0,f&&_d(mv,this,Sv).call(this)}),[{key:"render",value:function(){if(!Ad(hv,this)){var t=xd(hv,this,document.createElement("div"));if(t.className="popup",Ad(nv,this)){var e=t.style.outlineColor=Z.makeHexColor.apply(Z,cd(Ad(nv,this)));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)"):t.style.backgroundColor=Z.makeHexColor.apply(Z,cd(Ad(nv,this).map((function(t){return Math.floor(.7*(255-t)+t)}))))}var r=document.createElement("span");r.className="header";var n=document.createElement("h1");r.append(n);var i=Ad(pv,this);if(n.dir=i.dir,n.textContent=i.str,t.append(r),Ad(ov,this)){var a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:Ad(ov,this).valueOf()})),r.append(a)}var o=sd(mv,this,wv);if(o)td.render({xfaHtml:o,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{var s=this._formatContents(Ad(av,this));t.append(s)}Ad(iv,this).append(t)}}},{key:"_formatContents",value:function(t){var e=t.str,r=t.dir,n=document.createElement("p");n.classList.add("popupContent"),n.dir=r;for(var i=e.split(/(?:\r\n?|\n)/),a=0,o=i.length;a<o;++a){var s=i[a];n.append(document.createTextNode(s)),a<o-1&&n.append(document.createElement("br"))}return n}},{key:"updateEdited",value:function(t){var e,r=t.rect,n=t.popupContent;Ad(yv,this)||xd(yv,this,{contentsObj:Ad(av,this),richText:Ad(vv,this)}),r&&xd(fv,this,null),n&&(xd(vv,this,_d(mv,this,Av).call(this,n)),xd(av,this,null)),null===(e=Ad(hv,this))||void 0===e||e.remove(),xd(hv,this,null)}},{key:"resetEdited",value:function(){var t;if(Ad(yv,this)){var e=Ad(yv,this);od(xd,[av,this])._=e.contentsObj,od(xd,[vv,this])._=e.richText,xd(yv,this,null),null===(t=Ad(hv,this))||void 0===t||t.remove(),xd(hv,this,null),xd(fv,this,null)}}},{key:"forceHide",value:function(){xd(gv,this,this.isVisible),Ad(gv,this)&&(Ad(iv,this).hidden=!0)}},{key:"maybeShow",value:function(){Ad(gv,this)&&(Ad(hv,this)||_d(mv,this,Ov).call(this),xd(gv,this,!1),Ad(iv,this).hidden=!1)}},{key:"isVisible",get:function(){return!1===Ad(iv,this).hidden}}])}();function wv(t){var e=Ad(vv,t),r=Ad(av,t);return null==e||!e.str||null!=r&&r.str&&r.str!==e.str?null:Ad(vv,t).html||null}function kv(t){var e;return(null===(e=sd(mv,t,wv))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.fontSize)||0}function xv(t){var e;return(null===(e=sd(mv,t,wv))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.color)||null}function Av(t){var e,r=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:sd(mv,this,xv),fontSize:sd(mv,this,kv)?"calc(".concat(sd(mv,this,kv),"px * var(--scale-factor))"):""}},a=pd(t.split("\n"));try{for(a.s();!(e=a.n()).done;){var o=e.value;r.push({name:"span",value:o,attributes:i})}}catch(t){a.e(t)}finally{a.f()}return n}function _v(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&Ad(lv,this))&&_d(mv,this,Sv).call(this)}function Ev(){if(null===Ad(fv,this)){var t,e=Ad(uv,this),r=e.page.view,n=e.viewport.rawDims,i=n.pageWidth,a=n.pageHeight,o=n.pageX,s=n.pageY,u=!!Ad(cv,this),c=Ad(u?cv:dv,this),l=pd(Ad(sv,this));try{for(l.s();!(t=l.n()).done;){var h=t.value;if(!c||null!==Z.intersect(h.data.rect,c)){c=h.data.rect,u=!0;break}}}catch(t){l.e(t)}finally{l.f()}var f=Z.normalizeRect([c[0],r[3]-c[1]+r[1],c[2],r[3]-c[3]+r[1]]),d=u?c[2]-c[0]+5:0,v=f[0]+d,p=f[1];xd(fv,this,[100*(v-o)/i,100*(p-s)/a]);var y=Ad(iv,this).style;y.left="".concat(Ad(fv,this)[0],"%"),y.top="".concat(Ad(fv,this)[1],"%")}}function Sv(){xd(lv,this,!Ad(lv,this)),Ad(lv,this)?(_d(mv,this,Ov).call(this),Ad(iv,this).addEventListener("click",Ad(rv,this)),Ad(iv,this).addEventListener("keydown",Ad(Zd,this))):(_d(mv,this,Tv).call(this),Ad(iv,this).removeEventListener("click",Ad(rv,this)),Ad(iv,this).removeEventListener("keydown",Ad(Zd,this)))}function Ov(){Ad(hv,this)||this.render(),this.isVisible?Ad(lv,this)&&Ad(iv,this).classList.add("focused"):(_d(mv,this,Ev).call(this),Ad(iv,this).hidden=!1,Ad(iv,this).style.zIndex=parseInt(Ad(iv,this).style.zIndex)+1e3)}function Tv(){Ad(iv,this).classList.remove("focused"),!Ad(lv,this)&&this.isVisible&&(Ad(iv,this).hidden=!0,Ad(iv,this).style.zIndex=parseInt(Ad(iv,this).style.zIndex)-1e3)}var Pv=function(t){function e(t){var r;return Ed(this,e),(r=ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0}])).textContent=t.data.textContent,r.textPosition=t.data.textPosition,r.annotationEditorType=A.FREETEXT,r}return dd(e,Dd),Od(e,[{key:"render",value:function(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){var t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");var e,r=pd(this.textContent);try{for(r.s();!(e=r.n()).done;){var n=e.value,i=document.createElement("span");i.textContent=n,t.append(i)}}catch(t){r.e(t)}finally{r.f()}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}])}(),Lv=new WeakMap,Mv=function(t){function e(t){var r;return Ed(this,e),wd(r=ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),Lv,null),r}return dd(e,Dd),Od(e,[{key:"render",value:function(){this.container.classList.add("lineAnnotation");var t=this.data,e=Md(t.rect),r=e.width,n=e.height,i=this.svgFactory.create(r,n,!0),a=xd(Lv,this,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return Ad(Lv,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(),Cv=new WeakMap,jv=function(t){function e(t){var r;return Ed(this,e),wd(r=ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),Cv,null),r}return dd(e,Dd),Od(e,[{key:"render",value:function(){this.container.classList.add("squareAnnotation");var t=this.data,e=Md(t.rect),r=e.width,n=e.height,i=this.svgFactory.create(r,n,!0),a=t.borderStyle.width,o=xd(Cv,this,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",n-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return Ad(Cv,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(),Iv=new WeakMap,Rv=function(t){function e(t){var r;return Ed(this,e),wd(r=ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),Iv,null),r}return dd(e,Dd),Od(e,[{key:"render",value:function(){this.container.classList.add("circleAnnotation");var t=this.data,e=Md(t.rect),r=e.width,n=e.height,i=this.svgFactory.create(r,n,!0),a=t.borderStyle.width,o=xd(Iv,this,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",n/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",n/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return Ad(Iv,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(),Fv=new WeakMap,Dv=function(t){function e(t){var r;return Ed(this,e),wd(r=ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),Fv,null),r.containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return dd(e,Dd),Od(e,[{key:"render",value:function(){this.container.classList.add(this.containerClassName);var t=this.data,e=t.rect,r=t.vertices,n=t.borderStyle,i=t.popupRef;if(!r)return this.container;for(var a=Md(e),o=a.width,s=a.height,u=this.svgFactory.create(o,s,!0),c=[],l=0,h=r.length;l<h;l+=2){var f=r[l]-e[0],d=e[3]-r[l+1];c.push("".concat(f,",").concat(d))}c=c.join(" ");var v=xd(Fv,this,this.svgFactory.createElement(this.svgElementName));return v.setAttribute("points",c),v.setAttribute("stroke-width",n.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),u.append(v),this.container.append(u),!i&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return Ad(Fv,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(),Nv=function(t){function e(t){var r;return Ed(this,e),(r=ld(this,e,[t])).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return dd(e,Dv),Od(e)}(),Wv=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0}])}return dd(e,Dd),Od(e,[{key:"render",value:function(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}])}(),Bv=new WeakMap,Gv=function(t){function e(t){var r;return Ed(this,e),wd(r=ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),Bv,[]),r.containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r.annotationEditorType="InkHighlight"===r.data.it?A.HIGHLIGHT:A.INK,r}return dd(e,Dd),Od(e,[{key:"render",value:function(){this.container.classList.add(this.containerClassName);var t,e=this.data,r=e.rect,n=e.inkLists,i=e.borderStyle,a=e.popupRef,o=Md(r),s=o.width,u=o.height,c=this.svgFactory.create(s,u,!0),l=pd(n);try{for(l.s();!(t=l.n()).done;){for(var h=t.value,f=[],d=0,v=h.length;d<v;d+=2){var p=h[d]-r[0],y=r[3]-h[d+1];f.push("".concat(p,",").concat(y))}f=f.join(" ");var g=this.svgFactory.createElement(this.svgElementName);Ad(Bv,this).push(g),g.setAttribute("points",f),g.setAttribute("stroke-width",i.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),!a&&this.hasPopupData&&this._createPopup(),c.append(g)}}catch(t){l.e(t)}finally{l.f()}return this.container.append(c),this._editOnDoubleClick(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return Ad(Bv,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(),Hv=function(t){function e(t){var r;return Ed(this,e),(r=ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}])).annotationEditorType=A.HIGHLIGHT,r}return dd(e,Dd),Od(e,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}])}(),Uv=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}])}return dd(e,Dd),Od(e,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}])}(),zv=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}])}return dd(e,Dd),Od(e,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}])}(),Vv=function(t){function e(t){return Ed(this,e),ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}])}return dd(e,Dd),Od(e,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}])}(),qv=function(t){function e(t){var r;return Ed(this,e),(r=ld(this,e,[t,{isRenderable:!0,ignoreBorder:!0}])).annotationEditorType=A.STAMP,r}return dd(e,Dd),Od(e,[{key:"render",value:function(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}])}(),Yv=new WeakMap,Xv=new WeakSet,Kv=function(t){function e(t){var r,n;Ed(this,e),bd(n=ld(this,e,[t,{isRenderable:!0}]),Xv),wd(n,Yv,null);var i=n.data.file;return n.filename=i.filename,n.content=i.content,null===(r=n.linkService.eventBus)||void 0===r||r.dispatch("fileattachmentannotation",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ed(Object(r),!0).forEach((function(e){rd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({source:n},i)),n}return dd(e,Dd),Od(e,[{key:"render",value:function(){var t=this;this.container.classList.add("fileAttachmentAnnotation");var e,r=this.container,n=this.data;n.hasAppearance||0===n.fillAlpha?e=document.createElement("div"):((e=document.createElement("img")).src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(n.name)?"paperclip":"pushpin",".svg"),n.fillAlpha&&n.fillAlpha<1&&(e.style="filter: opacity(".concat(Math.round(100*n.fillAlpha),"%);"))),e.addEventListener("dblclick",_d(Xv,this,Qv).bind(this)),xd(Yv,this,e);var i=J.platform.isMac;return r.addEventListener("keydown",(function(e){"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&_d(Xv,t,Qv).call(t)})),!n.popupRef&&this.hasPopupData?this._createPopup():e.classList.add("popupTriggerArea"),r.append(e),r}},{key:"getElementsToTriggerPopup",value:function(){return Ad(Yv,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}();function Qv(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var Jv,$v=new WeakMap,Zv=new WeakMap,tp=new WeakMap,ep=new WeakMap,rp=new WeakSet,np=function(){return Od((function t(e){var r=e.div,n=e.accessibilityManager,i=e.annotationCanvasMap,a=e.annotationEditorUIManager,o=e.page,s=e.viewport,u=e.structTreeLayer;Ed(this,t),bd(this,rp),wd(this,$v,null),wd(this,Zv,null),wd(this,tp,new Map),wd(this,ep,null),this.div=r,xd($v,this,n),xd(Zv,this,i),xd(ep,this,u||null),this.page=o,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=a}),[{key:"hasEditableAnnotations",value:function(){return Ad(tp,this).size>0}},{key:"render",value:function(){var t=ad(nd().mark((function t(e){var r,n,i,a,o,s,u,c,l,h,f,d,v,p,y,g;return nd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.annotations,Re(n=this.div,this.viewport),i=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new me,annotationStorage:e.annotationStorage||new Mo,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null},o=pd(r),t.prev=6,o.s();case 8:if((s=o.n()).done){t.next=35;break}if(!(u=s.value).noHTML){t.next=12;break}return t.abrupt("continue",33);case 12:if(c=16===u.annotationType){t.next=19;break}if(l=Md(u.rect),h=l.width,f=l.height,!(h<=0||f<=0)){t.next=17;break}return t.abrupt("continue",33);case 17:t.next=23;break;case 19:if(d=i.get(u.id)){t.next=22;break}return t.abrupt("continue",33);case 22:a.elements=d;case 23:if(a.data=u,(v=Cd.create(a)).isRenderable){t.next=27;break}return t.abrupt("continue",33);case 27:return!c&&u.popupRef&&((p=i.get(u.popupRef))?p.push(v):i.set(u.popupRef,[v])),y=v.render(),u.hidden&&(y.style.visibility="hidden"),t.next=32,_d(rp,this,ip).call(this,y,u.id);case 32:v._isEditable&&(Ad(tp,this).set(v.data.id,v),null===(g=this._annotationEditorUIManager)||void 0===g||g.renderAnnotationElement(v));case 33:t.next=8;break;case 35:t.next=40;break;case 37:t.prev=37,t.t0=t.catch(6),o.e(t.t0);case 40:return t.prev=40,o.f(),t.finish(40);case 43:_d(rp,this,op).call(this);case 44:case"end":return t.stop()}}),t,this,[[6,37,40,43]])})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(t){var e=t.viewport,r=this.div;this.viewport=e,Re(r,{rotation:e.rotation}),_d(rp,this,op).call(this),r.hidden=!1}},{key:"getEditableAnnotations",value:function(){return Array.from(Ad(tp,this).values())}},{key:"getEditableAnnotation",value:function(t){return Ad(tp,this).get(t)}}])}();function ip(t,e){return ap.apply(this,arguments)}function ap(){return(ap=ad(nd().mark((function t(e,r){var n,i,a,o,s,u,c,l,h,f;return nd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.firstChild||e,o=a.id="".concat(at).concat(r),t.next=4,null===(n=Ad(ep,this))||void 0===n?void 0:n.getAriaAttributes(o);case 4:if(s=t.sent){u=pd(s);try{for(u.s();!(c=u.n()).done;)l=yd(c.value,2),h=l[0],f=l[1],a.setAttribute(h,f)}catch(t){u.e(t)}finally{u.f()}}this.div.append(e),null===(i=Ad($v,this))||void 0===i||i.moveElementInDOM(this.div,e,a,!1);case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function op(){if(Ad(Zv,this)){var t,e=this.div,r=pd(Ad(Zv,this));try{for(r.s();!(t=r.n()).done;){var n=yd(t.value,2),i=n[0],a=n[1],o=e.querySelector('[data-annotation-id="'.concat(i,'"]'));if(o){a.className="annotationContent";var s=o.firstChild;s?"CANVAS"===s.nodeName?s.replaceWith(a):s.classList.contains("annotationContent")?s.after(a):s.before(a):o.append(a)}}}catch(t){r.e(t)}finally{r.f()}Ad(Zv,this).clear()}}function sp(){sp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function up(t){return function(t){if(Array.isArray(t))return dp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||fp(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cp(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function lp(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=fp(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function hp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||fp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fp(t,e){if(t){if("string"==typeof t)return dp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dp(t,e):void 0}}function dp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function vp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vp(Object(r),!0).forEach((function(e){Ap(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_p(n.key),n)}}function gp(t,e,r){return e=kp(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mp()?Reflect.construct(e,r||[],kp(t).constructor):e.apply(t,r))}function mp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mp=function(){return!!t})()}function bp(t,e,r,n){var i=wp(kp(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function wp(){return wp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=kp(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},wp.apply(null,arguments)}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kp(t)}function xp(t,e){return xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xp(t,e)}function Ap(t,e,r){return(e=_p(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _p(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Ep(t,e,r){Sp(t,e),e.set(t,r)}function Sp(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Op(t,e){return t.get(Pp(t,e))}function Tp(t,e,r){return t.set(Pp(t,e),r),r}function Pp(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Lp=/\r\n?|\n/g,Mp=new WeakMap,Cp=new WeakMap,jp=new WeakMap,Ip=new WeakMap,Rp=new WeakMap,Fp=new WeakSet,Dp=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){Sp(t,e),e.add(t)}(r=gp(this,e,[pp(pp({},t),{},{name:"freeTextEditor"})]),Fp),Ep(r,Mp,void 0),Ep(r,Cp,""),Ep(r,jp,"".concat(r.id,"-editor")),Ep(r,Ip,null),Ep(r,Rp,void 0),Tp(Mp,r,t.color||e._defaultColor||Wa._defaultLineColor),Tp(Rp,r,t.fontSize||e._defaultFontSize),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xp(t,e)}(e,Wa),function(t,e,r){return e&&yp(t.prototype,e),r&&yp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"updateParams",value:function(t,e){switch(t){case _.FREETEXT_SIZE:Pp(Fp,this,Np).call(this,e);break;case _.FREETEXT_COLOR:Pp(Fp,this,Wp).call(this,e)}}},{key:"propertiesToUpdate",get:function(){return[[_.FREETEXT_SIZE,Op(Rp,this)],[_.FREETEXT_COLOR,Op(Mp,this)]]}},{key:"_translateEmpty",value:function(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}},{key:"getInitialTranslation",value:function(){var t=this.parentScale;return[-e._internalPadding*t,-(e._internalPadding+Op(Rp,this))*t]}},{key:"rebuild",value:function(){this.parent&&(bp(e,"rebuild",this,3)([]),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}},{key:"enableEditMode",value:function(){if(!this.isInEditMode()){this.parent.setEditingState(!1),this.parent.updateToolbar(A.FREETEXT),bp(e,"enableEditMode",this,3)([]),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Tp(Ip,this,new AbortController);var t=this._uiManager.combinedSignal(Op(Ip,this));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}}},{key:"disableEditMode",value:function(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),bp(e,"disableEditMode",this,3)([]),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Op(jp,this)),this._isDraggable=!0,null===(t=Op(Ip,this))||void 0===t||t.abort(),Tp(Ip,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}},{key:"focusin",value:function(t){this._focusEventsAllowed&&(bp(e,"focusin",this,3)([t]),t.target!==this.editorDiv&&this.editorDiv.focus())}},{key:"onceAdded",value:function(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}},{key:"isEmpty",value:function(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}},{key:"remove",value:function(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),bp(e,"remove",this,3)([])}},{key:"commit",value:function(){var t=this;if(this.isInEditMode()){bp(e,"commit",this,3)([]),this.disableEditMode();var r=Op(Cp,this),n=Tp(Cp,this,Pp(Fp,this,Bp).call(this).trimEnd());if(r!==n){var i=function(e){Tp(Cp,t,e),e?(Pp(Fp,t,Up).call(t),t._uiManager.rebuild(t),Pp(Fp,t,Gp).call(t)):t.remove()};this.addCommands({cmd:function(){i(n)},undo:function(){i(r)},mustExec:!1}),Pp(Fp,this,Gp).call(this)}}}},{key:"shouldGetKeyboardEvents",value:function(){return this.isInEditMode()}},{key:"enterInEditMode",value:function(){this.enableEditMode(),this.editorDiv.focus()}},{key:"dblclick",value:function(t){this.enterInEditMode()}},{key:"keydown",value:function(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}},{key:"editorDivKeydown",value:function(t){e._keyboardManager.exec(this,t)}},{key:"editorDivFocus",value:function(t){this.isEditing=!0}},{key:"editorDivBlur",value:function(t){this.isEditing=!1}},{key:"editorDivInput",value:function(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}},{key:"disableEditing",value:function(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}},{key:"enableEditing",value:function(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}},{key:"render",value:function(){var t,r,n=this;if(this.div)return this.div;this.width&&(t=this.x,r=this.y),bp(e,"render",this,3)([]),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Op(jp,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Wa._l10nPromise.get("pdfjs-free-text-default-content").then((function(t){var e;return null===(e=n.editorDiv)||void 0===e?void 0:e.setAttribute("default-content",t)})),this.editorDiv.contentEditable=!0;var i=this.editorDiv.style;if(i.fontSize="calc(".concat(Op(Rp,this),"px * var(--scale-factor))"),i.color=Op(Mp,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Br(this,this.div,["dblclick","keydown"]),this.width){var a=hp(this.parentDimensions,2),o=a[0],s=a[1];if(this.annotationElementId){var u=this._initialData.position,c=hp(this.getInitialTranslation(),2),l=c[0],h=c[1],f=hp(this.pageTranslationToScreen(l,h),2);l=f[0],h=f[1];var d,v,p=hp(this.pageDimensions,2),y=p[0],g=p[1],m=hp(this.pageTranslation,2),b=m[0],w=m[1];switch(this.rotation){case 0:d=t+(u[0]-b)/y,v=r+this.height-(u[1]-w)/g;break;case 90:d=t+(u[0]-b)/y,v=r-(u[1]-w)/g;var k=[h,-l];l=k[0],h=k[1];break;case 180:d=t-this.width+(u[0]-b)/y,v=r-(u[1]-w)/g;var x=[-l,-h];l=x[0],h=x[1];break;case 270:d=t+(u[0]-b-this.height*g)/y,v=r+(u[1]-w-this.width*y)/g;var A=[-h,l];l=A[0],h=A[1]}this.setAt(d*o,v*s,l,h)}else this.setAt(t*o,r*s,this.width*o,this.height*s);Pp(Fp,this,Up).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}},{key:"editorDivPaste",value:function(t){var r=t.clipboardData||window.clipboardData,n=r.types;if(1!==n.length||"text/plain"!==n[0]){t.preventDefault();var i=Vp.call(e,r.getData("text")||"").replaceAll(Lp,"\n");if(i){var a=window.getSelection();if(a.rangeCount){this.editorDiv.normalize(),a.deleteFromDocument();var o=a.getRangeAt(0);if(!i.includes("\n"))return o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void a.collapseToStart();var s=o.startContainer,u=o.startOffset,c=[],l=[];if(s.nodeType===Node.TEXT_NODE){var h=s.parentElement;if(l.push(s.nodeValue.slice(u).replaceAll(Lp,"")),h!==this.editorDiv){var f,d=c,v=lp(this.editorDiv.childNodes);try{for(v.s();!(f=v.n()).done;){var p=f.value;p!==h?d.push(Hp.call(e,p)):d=l}}catch(t){v.e(t)}finally{v.f()}}c.push(s.nodeValue.slice(0,u).replaceAll(Lp,""))}else if(s===this.editorDiv){var y,g=c,m=0,b=lp(this.editorDiv.childNodes);try{for(b.s();!(y=b.n()).done;){var w=y.value;m++===u&&(g=l),g.push(Hp.call(e,w))}}catch(t){b.e(t)}finally{b.f()}}Tp(Cp,this,"".concat(c.join("\n")).concat(i).concat(l.join("\n"))),Pp(Fp,this,Up).call(this);var k,x=new Range,A=c.reduce((function(t,e){return t+e.length}),0),_=lp(this.editorDiv.childNodes);try{for(_.s();!(k=_.n()).done;){var E=k.value.firstChild;if(E.nodeType===Node.TEXT_NODE){var S=E.nodeValue.length;if(A<=S){x.setStart(E,A),x.setEnd(E,A);break}A-=S}}}catch(t){_.e(t)}finally{_.f()}a.removeAllRanges(),a.addRange(x)}}}}},{key:"contentDiv",get:function(){return this.editorDiv}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();var r=e._internalPadding*this.parentScale,n=this.getRect(r,r),i=Wa._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Op(Mp,this)),a={annotationType:A.FREETEXT,color:i,fontSize:Op(Rp,this),value:Pp(Fp,this,zp).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!Pp(Fp,this,qp).call(this,a)?null:(a.id=this.annotationElementId,a)}},{key:"renderAnnotationElement",value:function(t){var r=bp(e,"renderAnnotationElement",this,3)([t]);if(this.deleted)return r;var n=r.style;n.fontSize="calc(".concat(Op(Rp,this),"px * var(--scale-factor))"),n.color=Op(Mp,this),r.replaceChildren();var i,a=lp(Op(Cp,this).split("\n"));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=document.createElement("div");s.append(o?document.createTextNode(o):document.createElement("br")),r.append(s)}}catch(t){a.e(t)}finally{a.f()}var u=e._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(u,u),popupContent:Op(Cp,this)}),r}},{key:"resetAnnotationElement",value:function(t){bp(e,"resetAnnotationElement",this,3)([t]),t.resetEdited()}}],[{key:"_keyboardManager",get:function(){var t=e.prototype,r=function(t){return t.isEmpty()},n=Kn.TRANSLATE_SMALL,i=Kn.TRANSLATE_BIG;return W(this,"_keyboardManager",new rn([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}]]))}},{key:"initialize",value:function(t,e){Wa.initialize(t,e,{strings:["pdfjs-free-text-default-content"]});var r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}},{key:"updateDefaultParams",value:function(t,r){switch(t){case _.FREETEXT_SIZE:e._defaultFontSize=r;break;case _.FREETEXT_COLOR:e._defaultColor=r}}},{key:"defaultPropertiesToUpdate",get:function(){return[[_.FREETEXT_SIZE,e._defaultFontSize],[_.FREETEXT_COLOR,e._defaultColor||Wa._defaultLineColor]]}},{key:"deserialize",value:(r=sp().mark((function t(r,n,i){var a,o,s,u,c,l,h,f,d,v,p,y,g,m;return sp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,!(r instanceof Pv)){t.next=6;break}if(s=(o=r).data,u=s.defaultAppearanceData,c=u.fontSize,l=u.fontColor,h=s.rect,f=s.rotation,d=s.id,v=s.popupRef,p=o.textContent,y=o.textPosition,g=o.parent.page.pageNumber,p&&0!==p.length){t.next=5;break}return t.abrupt("return",null);case 5:a=r={annotationType:A.FREETEXT,color:Array.from(l),fontSize:c,value:p.join("\n"),position:y,pageIndex:g-1,rect:h.slice(0),rotation:f,id:d,deleted:!1,popupRef:v};case 6:return t.next=8,bp(e,"deserialize",this,2)([r,n,i]);case 8:return m=t.sent,Tp(Rp,m,r.fontSize),Tp(Mp,m,Z.makeHexColor.apply(Z,up(r.color))),Tp(Cp,m,Vp.call(e,r.value)),m.annotationElementId=r.id||null,m._initialData=a,t.abrupt("return",m);case 15:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,i){var a=r.apply(t,e);function o(t){cp(a,n,i,o,s,"next",t)}function s(t){cp(a,n,i,o,s,"throw",t)}o(void 0)}))},function(t,e,r){return n.apply(this,arguments)})}]);var r,n}();function Np(t){var e=this,r=function(t){e.editorDiv.style.fontSize="calc(".concat(t,"px * var(--scale-factor))"),e.translate(0,-(t-Op(Rp,e))*e.parentScale),Tp(Rp,e,t),Pp(Fp,e,Gp).call(e)},n=Op(Rp,this);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Wp(t){var e=this,r=function(t){Tp(Mp,e,e.editorDiv.style.color=t)},n=Op(Mp,this);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Bp(){var t=[];this.editorDiv.normalize();var e,r=null,n=lp(this.editorDiv.childNodes);try{for(n.s();!(e=n.n()).done;){var i,a=e.value;(null===(i=r)||void 0===i?void 0:i.nodeType)===Node.TEXT_NODE&&"BR"===a.nodeName||(t.push(Hp.call(Jv,a)),r=a)}}catch(t){n.e(t)}finally{n.f()}return t.join("\n")}function Gp(){var t,e=hp(this.parentDimensions,2),r=e[0],n=e[1];if(this.isAttachedToDOM)t=this.div.getBoundingClientRect();else{var i=this.currentLayer,a=this.div,o=a.style.display,s=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),t=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",s)}this.rotation%180==this.parentRotation%180?(this.width=t.width/r,this.height=t.height/n):(this.width=t.height/r,this.height=t.width/n),this.fixAndSetPosition()}function Hp(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Lp,"")}function Up(){if(this.editorDiv.replaceChildren(),Op(Cp,this)){var t,e=lp(Op(Cp,this).split("\n"));try{for(e.s();!(t=e.n()).done;){var r=t.value,n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}}catch(t){e.e(t)}finally{e.f()}}}function zp(){return Op(Cp,this).replaceAll(""," ")}function Vp(t){return t.replaceAll(" ","")}function qp(t){var e=this._initialData,r=e.value,n=e.fontSize,i=e.color,a=e.pageIndex;return this._hasBeenMoved||t.value!==r||t.fontSize!==n||t.color.some((function(t,e){return t!==i[e]}))||t.pageIndex!==a}function Yp(t,e,r){return e=Kp(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xp()?Reflect.construct(e,r||[],Kp(t).constructor):e.apply(t,r))}function Xp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xp=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kp(t)}function Qp(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jp(t,e)}function Jp(t,e){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jp(t,e)}function $p(t){return function(t){if(Array.isArray(t))return ry(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ey(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||ey(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ty(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ey(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function ey(t,e){if(t){if("string"==typeof t)return ry(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ry(t,e):void 0}}function ry(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ny(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oy(n.key),n)}}function ay(t,e,r){return e&&iy(t.prototype,e),r&&iy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oy(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function sy(t,e){cy(t,e),e.add(t)}function uy(t,e,r){cy(t,e),e.set(t,r)}function cy(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ly(t,e,r){return t.set(fy(t,e),r),r}function hy(t,e){return t.get(fy(t,e))}function fy(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}Jv=Dp,Ap(Dp,"_freeTextDefaultContent",""),Ap(Dp,"_internalPadding",0),Ap(Dp,"_defaultColor",null),Ap(Dp,"_defaultFontSize",10),Ap(Dp,"_type","freetext"),Ap(Dp,"_editorType",A.FREETEXT),r(4306),r(7710),r(6473);var dy=new WeakMap,vy=new WeakMap,py=new WeakMap,yy=new WeakSet,gy=function(){return ay((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];ny(this,t),sy(this,yy),uy(this,dy,void 0),uy(this,vy,[]),uy(this,py,[]);var a,o=1/0,s=-1/0,u=1/0,c=-1/0,l=Math.pow(10,-4),h=ty(e);try{for(h.s();!(a=h.n()).done;){var f=a.value,d=f.x,v=f.y,p=f.width,y=f.height,g=Math.floor((d-r)/l)*l,m=Math.ceil((d+p+r)/l)*l,b=Math.floor((v-r)/l)*l,w=Math.ceil((v+y+r)/l)*l,k=[g,b,w,!0],x=[m,b,w,!1];hy(vy,this).push(k,x),o=Math.min(o,g),s=Math.max(s,m),u=Math.min(u,b),c=Math.max(c,w)}}catch(t){h.e(t)}finally{h.f()}var A,_=s-o+2*n,E=c-u+2*n,S=o-n,O=u-n,T=hy(vy,this).at(i?-1:-2),P=[T[0],T[2]],L=ty(hy(vy,this));try{for(L.s();!(A=L.n()).done;){var M=A.value,C=Zp(M,3),j=C[0],I=C[1],R=C[2];M[0]=(j-S)/_,M[1]=(I-O)/E,M[2]=(R-O)/E}}catch(t){L.e(t)}finally{L.f()}ly(dy,this,{x:S,y:O,width:_,height:E,lastPoint:P})}),[{key:"getOutlines",value:function(){hy(vy,this).sort((function(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}));var t,e=[],r=ty(hy(vy,this));try{for(r.s();!(t=r.n()).done;){var n=t.value;n[3]?(e.push.apply(e,$p(fy(yy,this,xy).call(this,n))),fy(yy,this,wy).call(this,n)):(fy(yy,this,ky).call(this,n),e.push.apply(e,$p(fy(yy,this,xy).call(this,n))))}}catch(t){r.e(t)}finally{r.f()}return fy(yy,this,my).call(this,e)}}])}();function my(t){var e,r=[],n=new Set,i=ty(t);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=Zp(a,3),s=o[0],u=o[1],c=o[2];r.push([s,u,a],[s,c,a])}}catch(t){i.e(t)}finally{i.f()}r.sort((function(t,e){return t[1]-e[1]||t[0]-e[0]}));for(var l=0,h=r.length;l<h;l+=2){var f=r[l][2],d=r[l+1][2];f.push(d),d.push(f),n.add(f),n.add(d)}for(var v,p=[];n.size>0;){var y=n.values().next().value,g=Zp(y,5),m=g[0],b=g[1],w=g[2],k=g[3],x=g[4];n.delete(y);var A=m,_=b;for(v=[m,w],p.push(v);;){var E=void 0;if(n.has(k))E=k;else{if(!n.has(x))break;E=x}n.delete(E);var S=Zp(E,5);m=S[0],b=S[1],w=S[2],k=S[3],x=S[4],A!==m&&(v.push(A,_,m,_===b?b:w),A=m),_=_===b?w:b}v.push(A,_)}return new Sy(p,hy(dy,this))}function by(t){for(var e=hy(py,this),r=0,n=e.length-1;r<=n;){var i=r+n>>1,a=e[i][0];if(a===t)return i;a<t?r=i+1:n=i-1}return n+1}function wy(t){var e=Zp(t,3),r=e[1],n=e[2],i=fy(yy,this,by).call(this,r);hy(py,this).splice(i,0,[r,n])}function ky(t){for(var e=Zp(t,3),r=e[1],n=e[2],i=fy(yy,this,by).call(this,r),a=i;a<hy(py,this).length;a++){var o=Zp(hy(py,this)[a],2),s=o[0],u=o[1];if(s!==r)break;if(s===r&&u===n)return void hy(py,this).splice(a,1)}for(var c=i-1;c>=0;c--){var l=Zp(hy(py,this)[c],2),h=l[0],f=l[1];if(h!==r)break;if(h===r&&f===n)return void hy(py,this).splice(c,1)}}function xy(t){for(var e=Zp(t,3),r=e[0],n=e[1],i=e[2],a=[[r,n,i]],o=fy(yy,this,by).call(this,i),s=0;s<o;s++)for(var u=Zp(hy(py,this)[s],2),c=u[0],l=u[1],h=0,f=a.length;h<f;h++){var d=Zp(a[h],3),v=d[1],p=d[2];if(!(l<=v||p<=c))if(v>=c)if(p>l)a[h][1]=l;else{if(1===f)return[];a.splice(h,1),h--,f--}else a[h][2]=c,p>l&&a.push([r,l,p])}return a}var Ay=function(){return ay((function t(){ny(this,t)}),[{key:"toSVGPath",value:function(){throw new Error("Abstract method `toSVGPath` must be implemented.")}},{key:"box",get:function(){throw new Error("Abstract getter `box` must be implemented.")}},{key:"serialize",value:function(t,e){throw new Error("Abstract method `serialize` must be implemented.")}},{key:"free",get:function(){return this instanceof tg}}])}(),_y=new WeakMap,Ey=new WeakMap,Sy=function(t){function e(t,r){var n;return ny(this,e),uy(n=Yp(this,e),_y,void 0),uy(n,Ey,void 0),ly(Ey,n,t),ly(_y,n,r),n}return Qp(e,Ay),ay(e,[{key:"toSVGPath",value:function(){var t,e=[],r=ty(hy(Ey,this));try{for(r.s();!(t=r.n()).done;){var n=t.value,i=Zp(n,2),a=i[0],o=i[1];e.push("M".concat(a," ").concat(o));for(var s=2;s<n.length;s+=2){var u=n[s],c=n[s+1];u===a?(e.push("V".concat(c)),o=c):c===o&&(e.push("H".concat(u)),a=u)}e.push("Z")}}catch(t){r.e(t)}finally{r.f()}return e.join(" ")}},{key:"serialize",value:function(t,e){var r,n=Zp(t,4),i=n[0],a=n[1],o=n[2],s=n[3],u=[],c=o-i,l=s-a,h=ty(hy(Ey,this));try{for(h.s();!(r=h.n()).done;){for(var f=r.value,d=new Array(f.length),v=0;v<f.length;v+=2)d[v]=i+f[v]*c,d[v+1]=s-f[v+1]*l;u.push(d)}}catch(t){h.e(t)}finally{h.f()}return u}},{key:"box",get:function(){return hy(_y,this)}}])}(),Oy=new WeakMap,Ty=new WeakMap,Py=new WeakMap,Ly=new WeakMap,My=new WeakMap,Cy=new WeakMap,jy=new WeakMap,Iy=new WeakMap,Ry=new WeakMap,Fy=new WeakMap,Dy=new WeakMap,Ny=new WeakMap,Wy=new WeakMap,By=new WeakSet,Gy=function(){return ay((function t(e,r,n,i,a){var o=e.x,s=e.y,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;ny(this,t),sy(this,By),uy(this,Oy,void 0),uy(this,Ty,[]),uy(this,Py,void 0),uy(this,Ly,void 0),uy(this,My,[]),uy(this,Cy,new Float64Array(18)),uy(this,jy,void 0),uy(this,Iy,void 0),uy(this,Ry,void 0),uy(this,Fy,void 0),uy(this,Dy,void 0),uy(this,Ny,void 0),uy(this,Wy,[]),ly(Oy,this,r),ly(Ny,this,i*n),ly(Ly,this,a),hy(Cy,this).set([NaN,NaN,NaN,NaN,o,s],6),ly(Py,this,u),ly(Fy,this,zy._*n),ly(Ry,this,Vy._*n),ly(Dy,this,n),hy(Wy,this).push(o,s)}),[{key:"free",get:function(){return!0}},{key:"isEmpty",value:function(){return isNaN(hy(Cy,this)[8])}},{key:"add",value:function(t){var e,r=t.x,n=t.y;ly(jy,this,r),ly(Iy,this,n);var i=Zp(hy(Oy,this),4),a=i[0],o=i[1],s=i[2],u=i[3],c=Zp(hy(Cy,this).subarray(8,12),4),l=c[0],h=c[1],f=c[2],d=c[3],v=r-f,p=n-d,y=Math.hypot(v,p);if(y<hy(Ry,this))return!1;var g=y-hy(Fy,this),m=g/y,b=m*v,w=m*p,k=l,x=h;l=f,h=d,f+=b,d+=w,null===(e=hy(Wy,this))||void 0===e||e.push(r,n);var A=b/g,_=-w/g*hy(Ny,this),E=A*hy(Ny,this);if(hy(Cy,this).set(hy(Cy,this).subarray(2,8),0),hy(Cy,this).set([f+_,d+E],4),hy(Cy,this).set(hy(Cy,this).subarray(14,18),12),hy(Cy,this).set([f-_,d-E],16),isNaN(hy(Cy,this)[6]))return 0===hy(My,this).length&&(hy(Cy,this).set([l+_,h+E],2),hy(My,this).push(NaN,NaN,NaN,NaN,(l+_-a)/s,(h+E-o)/u),hy(Cy,this).set([l-_,h-E],14),hy(Ty,this).push(NaN,NaN,NaN,NaN,(l-_-a)/s,(h-E-o)/u)),hy(Cy,this).set([k,x,l,h,f,d],6),!this.isEmpty();if(hy(Cy,this).set([k,x,l,h,f,d],6),Math.abs(Math.atan2(x-h,k-l)-Math.atan2(w,b))<Math.PI/2){var S=Zp(hy(Cy,this).subarray(2,6),4);l=S[0],h=S[1],f=S[2],d=S[3],hy(My,this).push(NaN,NaN,NaN,NaN,((l+f)/2-a)/s,((h+d)/2-o)/u);var O=Zp(hy(Cy,this).subarray(14,18),4);return l=O[0],h=O[1],k=O[2],x=O[3],hy(Ty,this).push(NaN,NaN,NaN,NaN,((k+l)/2-a)/s,((x+h)/2-o)/u),!0}var T=Zp(hy(Cy,this).subarray(0,6),6);k=T[0],x=T[1],l=T[2],h=T[3],f=T[4],d=T[5],hy(My,this).push(((k+5*l)/6-a)/s,((x+5*h)/6-o)/u,((5*l+f)/6-a)/s,((5*h+d)/6-o)/u,((l+f)/2-a)/s,((h+d)/2-o)/u);var P=Zp(hy(Cy,this).subarray(12,18),6);return f=P[0],d=P[1],l=P[2],h=P[3],k=P[4],x=P[5],hy(Ty,this).push(((k+5*l)/6-a)/s,((x+5*h)/6-o)/u,((5*l+f)/6-a)/s,((5*h+d)/6-o)/u,((l+f)/2-a)/s,((h+d)/2-o)/u),!0}},{key:"toSVGPath",value:function(){if(this.isEmpty())return"";var t=hy(My,this),e=hy(Ty,this),r=hy(Cy,this).subarray(4,6),n=hy(Cy,this).subarray(16,18),i=Zp(hy(Oy,this),4),a=i[0],o=i[1],s=i[2],u=i[3],c=Zp(fy(By,this,Hy).call(this),4),l=c[0],h=c[1],f=c[2],d=c[3];if(isNaN(hy(Cy,this)[6])&&!this.isEmpty())return"M".concat((hy(Cy,this)[2]-a)/s," ").concat((hy(Cy,this)[3]-o)/u," L").concat((hy(Cy,this)[4]-a)/s," ").concat((hy(Cy,this)[5]-o)/u," L").concat(l," ").concat(h," L").concat(f," ").concat(d," L").concat((hy(Cy,this)[16]-a)/s," ").concat((hy(Cy,this)[17]-o)/u," L").concat((hy(Cy,this)[14]-a)/s," ").concat((hy(Cy,this)[15]-o)/u," Z");var v=[];v.push("M".concat(t[4]," ").concat(t[5]));for(var p=6;p<t.length;p+=6)isNaN(t[p])?v.push("L".concat(t[p+4]," ").concat(t[p+5])):v.push("C".concat(t[p]," ").concat(t[p+1]," ").concat(t[p+2]," ").concat(t[p+3]," ").concat(t[p+4]," ").concat(t[p+5]));v.push("L".concat((r[0]-a)/s," ").concat((r[1]-o)/u," L").concat(l," ").concat(h," L").concat(f," ").concat(d," L").concat((n[0]-a)/s," ").concat((n[1]-o)/u));for(var y=e.length-6;y>=6;y-=6)isNaN(e[y])?v.push("L".concat(e[y+4]," ").concat(e[y+5])):v.push("C".concat(e[y]," ").concat(e[y+1]," ").concat(e[y+2]," ").concat(e[y+3]," ").concat(e[y+4]," ").concat(e[y+5]));return v.push("L".concat(e[4]," ").concat(e[5]," Z")),v.join(" ")}},{key:"getOutlines",value:function(){for(var t,e,r=hy(My,this),n=hy(Ty,this),i=hy(Cy,this),a=i.subarray(4,6),o=i.subarray(16,18),s=Zp(hy(Oy,this),4),u=s[0],c=s[1],l=s[2],h=s[3],f=new Float64Array((null!==(t=null===(e=hy(Wy,this))||void 0===e?void 0:e.length)&&void 0!==t?t:0)+2),d=0,v=f.length-2;d<v;d+=2)f[d]=(hy(Wy,this)[d]-u)/l,f[d+1]=(hy(Wy,this)[d+1]-c)/h;f[f.length-2]=(hy(jy,this)-u)/l,f[f.length-1]=(hy(Iy,this)-c)/h;var p=Zp(fy(By,this,Hy).call(this),4),y=p[0],g=p[1],m=p[2],b=p[3];if(isNaN(i[6])&&!this.isEmpty()){var w=new Float64Array(36);return w.set([NaN,NaN,NaN,NaN,(i[2]-u)/l,(i[3]-c)/h,NaN,NaN,NaN,NaN,(i[4]-u)/l,(i[5]-c)/h,NaN,NaN,NaN,NaN,y,g,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,(i[16]-u)/l,(i[17]-c)/h,NaN,NaN,NaN,NaN,(i[14]-u)/l,(i[15]-c)/h],0),new tg(w,f,hy(Oy,this),hy(Dy,this),hy(Py,this),hy(Ly,this))}for(var k=new Float64Array(hy(My,this).length+24+hy(Ty,this).length),x=r.length,A=0;A<x;A+=2)isNaN(r[A])?k[A]=k[A+1]=NaN:(k[A]=r[A],k[A+1]=r[A+1]);k.set([NaN,NaN,NaN,NaN,(a[0]-u)/l,(a[1]-c)/h,NaN,NaN,NaN,NaN,y,g,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,(o[0]-u)/l,(o[1]-c)/h],x),x+=24;for(var _=n.length-6;_>=6;_-=6)for(var E=0;E<6;E+=2)isNaN(n[_+E])?(k[x]=k[x+1]=NaN,x+=2):(k[x]=n[_+E],k[x+1]=n[_+E+1],x+=2);return k.set([NaN,NaN,NaN,NaN,n[4],n[5]],x),new tg(k,f,hy(Oy,this),hy(Dy,this),hy(Py,this),hy(Ly,this))}}])}();function Hy(){var t=hy(Cy,this).subarray(4,6),e=hy(Cy,this).subarray(16,18),r=Zp(hy(Oy,this),4),n=r[0],i=r[1],a=r[2],o=r[3];return[(hy(jy,this)+(t[0]-e[0])/2-n)/a,(hy(Iy,this)+(t[1]-e[1])/2-i)/o,(hy(jy,this)+(e[0]-t[0])/2-n)/a,(hy(Iy,this)+(e[1]-t[1])/2-i)/o]}var Uy,zy={_:8},Vy={_:zy._+2},qy=new WeakMap,Yy=new WeakMap,Xy=new WeakMap,Ky=new WeakMap,Qy=new WeakMap,Jy=new WeakMap,$y=new WeakMap,Zy=new WeakSet,tg=function(t){function e(t,r,n,i,a,o){var s;ny(this,e),sy(s=Yp(this,e),Zy),uy(s,qy,void 0),uy(s,Yy,null),uy(s,Xy,void 0),uy(s,Ky,void 0),uy(s,Qy,void 0),uy(s,Jy,void 0),uy(s,$y,void 0),ly($y,s,t),ly(Qy,s,r),ly(qy,s,n),ly(Jy,s,i),ly(Xy,s,a),ly(Ky,s,o),fy(Zy,s,ng).call(s,o);for(var u=hy(Yy,s),c=u.x,l=u.y,h=u.width,f=u.height,d=0,v=t.length;d<v;d+=2)t[d]=(t[d]-c)/h,t[d+1]=(t[d+1]-l)/f;for(var p=0,y=r.length;p<y;p+=2)r[p]=(r[p]-c)/h,r[p+1]=(r[p+1]-l)/f;return s}return Qp(e,Ay),ay(e,[{key:"toSVGPath",value:function(){for(var t=["M".concat(hy($y,this)[4]," ").concat(hy($y,this)[5])],e=6,r=hy($y,this).length;e<r;e+=6)isNaN(hy($y,this)[e])?t.push("L".concat(hy($y,this)[e+4]," ").concat(hy($y,this)[e+5])):t.push("C".concat(hy($y,this)[e]," ").concat(hy($y,this)[e+1]," ").concat(hy($y,this)[e+2]," ").concat(hy($y,this)[e+3]," ").concat(hy($y,this)[e+4]," ").concat(hy($y,this)[e+5]));return t.push("Z"),t.join(" ")}},{key:"serialize",value:function(t,e){var r,n,i=Zp(t,4),a=i[0],o=i[1],s=i[2],u=i[3],c=s-a,l=u-o;switch(e){case 0:r=fy(Zy,this,eg).call(this,hy($y,this),a,u,c,-l),n=fy(Zy,this,eg).call(this,hy(Qy,this),a,u,c,-l);break;case 90:r=fy(Zy,this,rg).call(this,hy($y,this),a,o,c,l),n=fy(Zy,this,rg).call(this,hy(Qy,this),a,o,c,l);break;case 180:r=fy(Zy,this,eg).call(this,hy($y,this),s,o,-c,l),n=fy(Zy,this,eg).call(this,hy(Qy,this),s,o,-c,l);break;case 270:r=fy(Zy,this,rg).call(this,hy($y,this),s,u,-c,-l),n=fy(Zy,this,rg).call(this,hy(Qy,this),s,u,-c,-l)}return{outline:Array.from(r),points:[Array.from(n)]}}},{key:"box",get:function(){return hy(Yy,this)}},{key:"getNewOutline",value:function(t,e){for(var r=hy(Yy,this),n=r.x,i=r.y,a=r.width,o=r.height,s=Zp(hy(qy,this),4),u=s[0],c=s[1],l=s[2],h=s[3],f=a*l,d=o*h,v=n*l+u,p=i*h+c,y=new Gy({x:hy(Qy,this)[0]*f+v,y:hy(Qy,this)[1]*d+p},hy(qy,this),hy(Jy,this),t,hy(Ky,this),null!=e?e:hy(Xy,this)),g=2;g<hy(Qy,this).length;g+=2)y.add({x:hy(Qy,this)[g]*f+v,y:hy(Qy,this)[g+1]*d+p});return y.getOutlines()}}])}();function eg(t,e,r,n,i){for(var a=new Float64Array(t.length),o=0,s=t.length;o<s;o+=2)a[o]=e+t[o]*n,a[o+1]=r+t[o+1]*i;return a}function rg(t,e,r,n,i){for(var a=new Float64Array(t.length),o=0,s=t.length;o<s;o+=2)a[o]=e+t[o+1]*n,a[o+1]=r+t[o]*i;return a}function ng(t){for(var e=hy($y,this),r=e[4],n=e[5],i=r,a=n,o=r,s=n,u=r,c=n,l=t?Math.max:Math.min,h=6,f=e.length;h<f;h+=6){if(isNaN(e[h]))i=Math.min(i,e[h+4]),a=Math.min(a,e[h+5]),o=Math.max(o,e[h+4]),s=Math.max(s,e[h+5]),c<e[h+5]?(u=e[h+4],c=e[h+5]):c===e[h+5]&&(u=l(u,e[h+4]));else{var d=Z.bezierBoundingBox.apply(Z,[r,n].concat($p(e.slice(h,h+6))));i=Math.min(i,d[0]),a=Math.min(a,d[1]),o=Math.max(o,d[2]),s=Math.max(s,d[3]),c<d[3]?(u=d[2],c=d[3]):c===d[3]&&(u=l(u,d[2]))}r=e[h+4],n=e[h+5]}var v=i-hy(Xy,this),p=a-hy(Xy,this),y=o-i+2*hy(Xy,this),g=s-a+2*hy(Xy,this);ly(Yy,this,{x:v,y:p,width:y,height:g,lastPoint:[u,c]})}function ig(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||og(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ag(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=og(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function og(t,e){if(t){if("string"==typeof t)return sg(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sg(t,e):void 0}}function sg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ug(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cg(n.key),n)}}function cg(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function lg(t,e,r){hg(t,e),e.set(t,r)}function hg(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fg(t,e,r){return r(pg(t,e))}function dg(t,e){return t.get(pg(t,e))}function vg(t,e,r){return t.set(pg(t,e),r),r}function pg(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var yg=new WeakMap,gg=new WeakMap,mg=new WeakMap,bg=new WeakMap,wg=new WeakMap,kg=new WeakMap,xg=new WeakMap,Ag=new WeakMap,_g=new WeakMap,Eg=new WeakMap,Sg=new WeakMap,Og=new WeakSet,Tg=function(){function t(e){var r,n=e.editor,i=void 0===n?null:n,a=e.uiManager,o=void 0===a?null:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){hg(t,e),e.add(t)}(this,Og),lg(this,yg,null),lg(this,gg,null),lg(this,mg,void 0),lg(this,bg,null),lg(this,wg,!1),lg(this,kg,!1),lg(this,xg,null),lg(this,Ag,void 0),lg(this,_g,null),lg(this,Eg,null),lg(this,Sg,void 0),i?(vg(kg,this,!1),vg(Sg,this,_.HIGHLIGHT_COLOR),vg(xg,this,i)):(vg(kg,this,!0),vg(Sg,this,_.HIGHLIGHT_DEFAULT_COLOR)),vg(Eg,this,(null==i?void 0:i._uiManager)||o),vg(Ag,this,dg(Eg,this)._eventBus),vg(mg,this,(null==i?void 0:i.color)||(null===(r=dg(Eg,this))||void 0===r?void 0:r.highlightColors.values().next().value)||"#FFFF98"),Fg._||(Fg._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}return function(t,e,r){return e&&ug(t.prototype,e),r&&ug(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"renderButton",value:function(){var t=vg(yg,this,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);var e=dg(Eg,this)._signal;t.addEventListener("click",pg(Og,this,Cg).bind(this),{signal:e}),t.addEventListener("keydown",pg(Og,this,Mg).bind(this),{signal:e});var r=vg(gg,this,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=dg(mg,this),t.append(r),t}},{key:"renderMainDropdown",value:function(){var t=vg(bg,this,pg(Og,this,Pg).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}},{key:"_colorSelectFromKeyboard",value:function(t){if(t.target!==dg(yg,this)){var e=t.target.getAttribute("data-color");e&&pg(Og,this,Lg).call(this,e,t)}else pg(Og,this,Cg).call(this,t)}},{key:"_moveToNext",value:function(t){var e,r;fg(Og,this,Ig)?t.target!==dg(yg,this)?null===(e=t.target.nextSibling)||void 0===e||e.focus():null===(r=dg(bg,this).firstChild)||void 0===r||r.focus():pg(Og,this,Cg).call(this,t)}},{key:"_moveToPrevious",value:function(t){var e,r;t.target!==(null===(e=dg(bg,this))||void 0===e?void 0:e.firstChild)&&t.target!==dg(yg,this)?(fg(Og,this,Ig)||pg(Og,this,Cg).call(this,t),null===(r=t.target.previousSibling)||void 0===r||r.focus()):fg(Og,this,Ig)&&this._hideDropdownFromKeyboard()}},{key:"_moveToBeginning",value:function(t){var e;fg(Og,this,Ig)?null===(e=dg(bg,this).firstChild)||void 0===e||e.focus():pg(Og,this,Cg).call(this,t)}},{key:"_moveToEnd",value:function(t){var e;fg(Og,this,Ig)?null===(e=dg(bg,this).lastChild)||void 0===e||e.focus():pg(Og,this,Cg).call(this,t)}},{key:"hideDropdown",value:function(){var t,e;null===(t=dg(bg,this))||void 0===t||t.classList.add("hidden"),null===(e=dg(_g,this))||void 0===e||e.abort(),vg(_g,this,null)}},{key:"_hideDropdownFromKeyboard",value:function(){var t;dg(kg,this)||(fg(Og,this,Ig)?(this.hideDropdown(),dg(yg,this).focus({preventScroll:!0,focusVisible:dg(wg,this)})):null===(t=dg(xg,this))||void 0===t||t.unselect())}},{key:"updateColor",value:function(t){if(dg(gg,this)&&(dg(gg,this).style.backgroundColor=t),dg(bg,this)){var e,r=dg(Eg,this).highlightColors.values(),n=ag(dg(bg,this).children);try{for(n.s();!(e=n.n()).done;)e.value.setAttribute("aria-selected",r.next().value===t)}catch(t){n.e(t)}finally{n.f()}}}},{key:"destroy",value:function(){var t,e;null===(t=dg(yg,this))||void 0===t||t.remove(),vg(yg,this,null),vg(gg,this,null),null===(e=dg(bg,this))||void 0===e||e.remove(),vg(bg,this,null)}}],[{key:"_keyboardManager",get:function(){return W(this,"_keyboardManager",new rn([[["Escape","mac+Escape"],t.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],t.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],t.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],t.prototype._moveToPrevious],[["Home","mac+Home"],t.prototype._moveToBeginning],[["End","mac+End"],t.prototype._moveToEnd]]))}}])}();function Pg(){var t=document.createElement("div"),e=dg(Eg,this)._signal;t.addEventListener("contextmenu",Te,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");var r,n=ag(dg(Eg,this).highlightColors);try{for(n.s();!(r=n.n()).done;){var i=ig(r.value,2),a=i[0],o=i[1],s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",o),s.title=a,s.setAttribute("data-l10n-id",Fg._[a]);var u=document.createElement("span");s.append(u),u.className="swatch",u.style.backgroundColor=o,s.setAttribute("aria-selected",o===dg(mg,this)),s.addEventListener("click",pg(Og,this,Lg).bind(this,o),{signal:e}),t.append(s)}}catch(t){n.e(t)}finally{n.f()}return t.addEventListener("keydown",pg(Og,this,Mg).bind(this),{signal:e}),t}function Lg(t,e){e.stopPropagation(),dg(Ag,this).dispatch("switchannotationeditorparams",{source:this,type:dg(Sg,this),value:t})}function Mg(t){Uy._keyboardManager.exec(this,t)}function Cg(t){if(fg(Og,this,Ig))this.hideDropdown();else if(vg(wg,this,0===t.detail),dg(_g,this)||(vg(_g,this,new AbortController),window.addEventListener("pointerdown",pg(Og,this,jg).bind(this),{signal:dg(Eg,this).combinedSignal(dg(_g,this))})),dg(bg,this))dg(bg,this).classList.remove("hidden");else{var e=vg(bg,this,pg(Og,this,Pg).call(this));dg(yg,this).append(e)}}function jg(t){var e;null!==(e=dg(bg,this))&&void 0!==e&&e.contains(t.target)||this.hideDropdown()}function Ig(t){return dg(bg,t)&&!dg(bg,t).classList.contains("hidden")}Uy=Tg;var Rg,Fg={_:null};function Dg(t){return function(t){if(Array.isArray(t))return Bg(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Wg(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ng(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||Wg(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wg(t,e){if(t){if("string"==typeof t)return Bg(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bg(t,e):void 0}}function Bg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Gg(){Gg=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Hg(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Ug(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){Hg(a,n,i,o,s,"next",t)}function s(t){Hg(a,n,i,o,s,"throw",t)}o(void 0)}))}}function zg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zg(Object(r),!0).forEach((function(e){Zg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tm(n.key),n)}}function Yg(t,e,r){return e=Jg(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xg()?Reflect.construct(e,r||[],Jg(t).constructor):e.apply(t,r))}function Xg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xg=function(){return!!t})()}function Kg(t,e,r,n){var i=Qg(Jg(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function Qg(){return Qg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Jg(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Qg.apply(null,arguments)}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jg(t)}function $g(t,e){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$g(t,e)}function Zg(t,e,r){return(e=tm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tm(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function em(t,e,r){rm(t,e),e.set(t,r)}function rm(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nm(t,e,r){e||(e=[]);var n=e.length++;return Object.defineProperty({},"_",{set:function(i){e[n]=i,t.apply(r,e)}})}function im(t,e){return t.get(om(t,e))}function am(t,e,r){return t.set(om(t,e),r),r}function om(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var sm,um=new WeakMap,cm=new WeakMap,lm=new WeakMap,hm=new WeakMap,fm=new WeakMap,dm=new WeakMap,vm=new WeakMap,pm=new WeakMap,ym=new WeakMap,gm=new WeakMap,mm=new WeakMap,bm=new WeakMap,wm=new WeakMap,km=new WeakMap,xm=new WeakMap,Am=new WeakMap,_m=new WeakMap,Em=new WeakMap,Sm=new WeakSet,Om=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){rm(t,e),e.add(t)}(r=Yg(this,e,[Vg(Vg({},t),{},{name:"highlightEditor"})]),Sm),em(r,um,null),em(r,cm,0),em(r,lm,void 0),em(r,hm,null),em(r,fm,null),em(r,dm,null),em(r,vm,null),em(r,pm,0),em(r,ym,null),em(r,gm,null),em(r,mm,null),em(r,bm,!1),em(r,wm,null),em(r,km,void 0),em(r,xm,null),em(r,Am,""),em(r,_m,void 0),em(r,Em,""),r.color=t.color||e._defaultColor,am(_m,r,t.thickness||e._defaultThickness),am(km,r,t.opacity||e._defaultOpacity),am(lm,r,t.boxes||null),am(Em,r,t.methodOfCreation||""),am(Am,r,t.text||""),r._isDraggable=!1,t.highlightId>-1?(am(bm,r,!0),om(Sm,r,Pm).call(r,t),om(Sm,r,Im).call(r)):im(lm,r)&&(am(um,r,t.anchorNode),am(cm,r,t.anchorOffset),am(vm,r,t.focusNode),am(pm,r,t.focusOffset),om(Sm,r,Tm).call(r),om(Sm,r,Im).call(r),r.rotate(r.rotation)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$g(t,e)}(e,Wa),function(t,e,r){return e&&qg(t.prototype,e),r&&qg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"telemetryInitialData",get:function(){return{action:"added",type:im(bm,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:im(_m,this),methodOfCreation:im(Em,this)}}},{key:"telemetryFinalData",get:function(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}},{key:"translateInPage",value:function(t,e){}},{key:"toolbarPosition",get:function(){return im(wm,this)}},{key:"updateParams",value:function(t,e){switch(t){case _.HIGHLIGHT_COLOR:om(Sm,this,Lm).call(this,e);break;case _.HIGHLIGHT_THICKNESS:om(Sm,this,Mm).call(this,e)}}},{key:"propertiesToUpdate",get:function(){return[[_.HIGHLIGHT_COLOR,this.color||e._defaultColor],[_.HIGHLIGHT_THICKNESS,im(_m,this)||e._defaultThickness],[_.HIGHLIGHT_FREE,im(bm,this)]]}},{key:"addEditToolbar",value:(n=Ug(Gg().mark((function t(){var r;return Gg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kg(e,"addEditToolbar",this,3)([]);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return this._uiManager.highlightColors&&(am(fm,this,new Tg({editor:this})),r.addColorPicker(im(fm,this))),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"disableEditing",value:function(){Kg(e,"disableEditing",this,3)([]),this.div.classList.toggle("disabled",!0)}},{key:"enableEditing",value:function(){Kg(e,"enableEditing",this,3)([]),this.div.classList.toggle("disabled",!1)}},{key:"fixAndSetPosition",value:function(){return Kg(e,"fixAndSetPosition",this,3)([om(Sm,this,Nm).call(this)])}},{key:"getBaseTranslation",value:function(){return[0,0]}},{key:"getRect",value:function(t,r){return Kg(e,"getRect",this,3)([t,r,om(Sm,this,Nm).call(this)])}},{key:"onceAdded",value:function(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}},{key:"remove",value:function(){om(Sm,this,jm).call(this),this._reportTelemetry({action:"deleted"}),Kg(e,"remove",this,3)([])}},{key:"rebuild",value:function(){this.parent&&(Kg(e,"rebuild",this,3)([]),null!==this.div&&(om(Sm,this,Im).call(this),this.isAttachedToDOM||this.parent.add(this)))}},{key:"setParent",value:function(t){var r=!1;if(this.parent&&!t)om(Sm,this,jm).call(this);else if(t){var n;om(Sm,this,Im).call(this,t),r=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}Kg(e,"setParent",this,3)([t]),this.show(this._isVisible),r&&this.select()}},{key:"rotate",value:function(t){var r,n=this.parent.drawLayer;im(bm,this)?(t=(t-this.rotation+360)%360,r=Rm.call(e,im(gm,this).box,t)):r=Rm.call(e,this,t),n.rotate(im(mm,this),t),n.rotate(im(xm,this),t),n.updateBox(im(mm,this),r),n.updateBox(im(xm,this),Rm.call(e,im(dm,this).box,t))}},{key:"render",value:function(){if(this.div)return this.div;var t=Kg(e,"render",this,3)([]);im(Am,this)&&(t.setAttribute("aria-label",im(Am,this)),t.setAttribute("role","mark")),im(bm,this)?t.classList.add("free"):this.div.addEventListener("keydown",om(Sm,this,Fm).bind(this),{signal:this._uiManager._signal});var r=am(ym,this,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=im(hm,this);var n=Ng(this.parentDimensions,2),i=n[0],a=n[1];return this.setDims(this.width*i,this.height*a),Br(this,im(ym,this),["pointerover","pointerleave"]),this.enableEditing(),t}},{key:"pointerover",value:function(){this.isSelected||this.parent.drawLayer.addClass(im(xm,this),"hovered")}},{key:"pointerleave",value:function(){this.isSelected||this.parent.drawLayer.removeClass(im(xm,this),"hovered")}},{key:"_moveCaret",value:function(t){switch(this.parent.unselect(this),t){case 0:case 2:om(Sm,this,Dm).call(this,!0);break;case 1:case 3:om(Sm,this,Dm).call(this,!1)}}},{key:"select",value:function(){var t,r;Kg(e,"select",this,3)([]),im(xm,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.removeClass(im(xm,this),"hovered"),null===(r=this.parent)||void 0===r||r.drawLayer.addClass(im(xm,this),"selected"))}},{key:"unselect",value:function(){var t;Kg(e,"unselect",this,3)([]),im(xm,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.removeClass(im(xm,this),"selected"),im(bm,this)||om(Sm,this,Dm).call(this,!1))}},{key:"_mustFixPosition",get:function(){return!im(bm,this)}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;Kg(e,"show",this,3)([t]),this.parent&&(this.parent.drawLayer.show(im(mm,this),t),this.parent.drawLayer.show(im(xm,this),t))}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();var e=this.getRect(0,0),r=Wa._colorManager.convert(this.color),n={annotationType:A.HIGHLIGHT,color:r,opacity:im(km,this),thickness:im(_m,this),quadPoints:om(Sm,this,Wm).call(this),outlines:om(Sm,this,Bm).call(this,e),pageIndex:this.pageIndex,rect:e,rotation:om(Sm,this,Nm).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!om(Sm,this,Um).call(this,n)?null:(n.id=this.annotationElementId,n)}},{key:"renderAnnotationElement",value:function(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}],[{key:"_keyboardManager",get:function(){var t=e.prototype;return W(this,"_keyboardManager",new rn([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}},{key:"computeTelemetryFinalData",value:function(t){return{numberOfColors:t.get("color").size}}},{key:"initialize",value:function(t,r){var n;Wa.initialize(t,r),e._defaultColor||(e._defaultColor=(null===(n=r.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}},{key:"updateDefaultParams",value:function(t,r){switch(t){case _.HIGHLIGHT_DEFAULT_COLOR:e._defaultColor=r;break;case _.HIGHLIGHT_THICKNESS:e._defaultThickness=r}}},{key:"defaultPropertiesToUpdate",get:function(){return[[_.HIGHLIGHT_DEFAULT_COLOR,e._defaultColor],[_.HIGHLIGHT_THICKNESS,e._defaultThickness]]}},{key:"startHighlighting",value:function(t,r,n){var i=this,a=n.target,o=n.x,s=n.y,u=a.getBoundingClientRect(),c=u.x,l=u.y,h=u.width,f=u.height,d=new AbortController,v=t.combinedSignal(d),p=function(r){d.abort(),om(e,i,Hm).call(i,t,r)};window.addEventListener("blur",p,{signal:v}),window.addEventListener("pointerup",p,{signal:v}),window.addEventListener("pointerdown",(function(t){t.preventDefault(),t.stopPropagation()}),{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Te,{signal:v}),a.addEventListener("pointermove",om(e,this,Gm).bind(this,t),{signal:v}),this._freeHighlight=new Gy({x:o,y:s},[c,l,h,f],t.scale,this._defaultThickness/2,r,.001);var y=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0);this._freeHighlightId=y.id,this._freeHighlightClipId=y.clipPathId}},{key:"deserialize",value:(r=Ug(Gg().mark((function t(r,n,i){var a,o,s,u,c,l,h,f,d,v,p,y,g,m,b,w,k,x,_,E,S,O,T,P,L,M,C,j,I,R,F,D,N,W,B,G,H,U,z,V,q,Y,X;return Gg().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=null,r instanceof Hv?(s=(o=r).data,u=s.quadPoints,c=s.rect,l=s.rotation,h=s.id,f=s.color,d=s.opacity,v=s.popupRef,p=o.parent.page.pageNumber,a=r={annotationType:A.HIGHLIGHT,color:Array.from(f),opacity:d,quadPoints:u,boxes:null,pageIndex:p-1,rect:c.slice(0),rotation:l,id:h,deleted:!1,popupRef:v}):r instanceof Gv&&(g=(y=r).data,m=g.inkLists,b=g.rect,w=g.rotation,k=g.id,x=g.color,_=g.borderStyle.rawWidth,E=g.popupRef,S=y.parent.page.pageNumber,a=r={annotationType:A.HIGHLIGHT,color:Array.from(x),thickness:_,inkLists:m,boxes:null,pageIndex:S-1,rect:b.slice(0),rotation:w,id:k,deleted:!1,popupRef:E}),T=(O=r).color,P=O.quadPoints,L=O.inkLists,M=O.opacity,t.next=5,Kg(e,"deserialize",this,2)([r,n,i]);case 5:if((C=t.sent).color=Z.makeHexColor.apply(Z,Dg(T)),am(km,C,M||1),L&&am(_m,C,r.thickness),C.annotationElementId=r.id||null,C._initialData=a,j=Ng(C.pageDimensions,2),I=j[0],R=j[1],F=Ng(C.pageTranslation,2),D=F[0],N=F[1],P){for(W=am(lm,C,[]),B=0;B<P.length;B+=8)W.push({x:(P[B]-D)/I,y:1-(P[B+1]-N)/R,width:(P[B+2]-P[B])/I,height:(P[B+1]-P[B+5])/R});om(Sm,C,Tm).call(C),om(Sm,C,Im).call(C),C.rotate(C.rotation)}else if(L){for(am(bm,C,!0),G=L[0],H={x:G[0]-D,y:R-(G[1]-N)},U=new Gy(H,[0,0,I,R],1,im(_m,C)/2,!0,.001),z=0,V=G.length;z<V;z+=2)H.x=G[z]-D,H.y=R-(G[z+1]-N),U.add(H);q=n.drawLayer.highlight(U,C.color,C._defaultOpacity,!0),Y=q.id,X=q.clipPathId,om(Sm,C,Pm).call(C,{highlightOutlines:U.getOutlines(),highlightId:Y,clipPathId:X}),om(Sm,C,Im).call(C)}return t.abrupt("return",C);case 15:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"canCreateNewEmptyEditor",value:function(){return!1}}]);var r,n}();function Tm(){var t=new gy(im(lm,this),.001);am(gm,this,t.getOutlines());var e=im(gm,this).box;this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height;var r=new gy(im(lm,this),.0025,.001,"ltr"===this._uiManager.direction);am(dm,this,r.getOutlines());var n=im(dm,this).box.lastPoint;am(wm,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function Pm(t){var e=t.highlightOutlines,r=t.highlightId,n=t.clipPathId;if(am(gm,this,e),am(dm,this,e.getNewOutline(im(_m,this)/2+1.5,.0025)),r>=0)am(mm,this,r),am(hm,this,n),this.parent.drawLayer.finalizeLine(r,e),am(xm,this,this.parent.drawLayer.highlightOutline(im(dm,this)));else if(this.parent){var i=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(im(mm,this),e),this.parent.drawLayer.updateBox(im(mm,this),Rm.call(Rg,im(gm,this).box,(i-this.rotation+360)%360)),this.parent.drawLayer.updateLine(im(xm,this),im(dm,this)),this.parent.drawLayer.updateBox(im(xm,this),Rm.call(Rg,im(dm,this).box,i))}var a=e.box,o=a.x,s=a.y,u=a.width,c=a.height;switch(this.rotation){case 0:this.x=o,this.y=s,this.width=u,this.height=c;break;case 90:var l=Ng(this.parentDimensions,2),h=l[0],f=l[1];this.x=s,this.y=1-o,this.width=u*f/h,this.height=c*h/f;break;case 180:this.x=1-o,this.y=1-s,this.width=u,this.height=c;break;case 270:var d=Ng(this.parentDimensions,2),v=d[0],p=d[1];this.x=1-s,this.y=o,this.width=u*p/v,this.height=c*v/p}var y=im(dm,this).box.lastPoint;am(wm,this,[(y[0]-o)/u,(y[1]-s)/c])}function Lm(t){var e=this,r=function(t,r){var n,i,a;e.color=t,null===(n=e.parent)||void 0===n||n.drawLayer.changeColor(im(mm,e),t),null===(i=im(fm,e))||void 0===i||i.updateColor(t),am(km,e,r),null===(a=e.parent)||void 0===a||a.drawLayer.changeOpacity(im(mm,e),r)},n=this.color,i=im(km,this);this.addCommands({cmd:r.bind(this,t,Rg._defaultOpacity),undo:r.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}function Mm(t){var e=this,r=im(_m,this),n=function(t){am(_m,e,t),om(Sm,e,Cm).call(e,t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}function Cm(t){if(im(bm,this)){om(Sm,this,Pm).call(this,{highlightOutlines:im(gm,this).getNewOutline(t/2)}),this.fixAndSetPosition();var e=Ng(this.parentDimensions,2),r=e[0],n=e[1];this.setDims(this.width*r,this.height*n)}}function jm(){null!==im(mm,this)&&this.parent&&(this.parent.drawLayer.remove(im(mm,this)),am(mm,this,null),this.parent.drawLayer.remove(im(xm,this)),am(xm,this,null))}function Im(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;if(null===im(mm,this)){var e=t.drawLayer.highlight(im(gm,this),this.color,im(km,this));nm(am,[mm,this])._=e.id,nm(am,[hm,this])._=e.clipPathId,am(xm,this,t.drawLayer.highlightOutline(im(dm,this))),im(ym,this)&&(im(ym,this).style.clipPath=im(hm,this))}}function Rm(t,e){var r=t.x,n=t.y,i=t.width,a=t.height;switch(e){case 90:return{x:1-n-a,y:r,width:a,height:i};case 180:return{x:1-r-i,y:1-n-a,width:i,height:a};case 270:return{x:n,y:1-r-i,width:a,height:i}}return{x:r,y:n,width:i,height:a}}function Fm(t){Rg._keyboardManager.exec(this,t)}function Dm(t){if(im(um,this)){var e=window.getSelection();t?e.setPosition(im(um,this),im(cm,this)):e.setPosition(im(vm,this),im(pm,this))}}function Nm(){return im(bm,this)?this.rotation:0}function Wm(){if(im(bm,this))return null;var t,e=Ng(this.pageDimensions,2),r=e[0],n=e[1],i=Ng(this.pageTranslation,2),a=i[0],o=i[1],s=im(lm,this),u=new Float32Array(8*s.length),c=0,l=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Wg(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(s);try{for(l.s();!(t=l.n()).done;){var h=t.value,f=h.x,d=h.y,v=h.width,p=h.height,y=f*r+a,g=(1-d-p)*n+o;u[c]=u[c+4]=y,u[c+1]=u[c+3]=g,u[c+2]=u[c+6]=y+v*r,u[c+5]=u[c+7]=g+p*n,c+=8}}catch(t){l.e(t)}finally{l.f()}return u}function Bm(t){return im(gm,this).serialize(t,om(Sm,this,Nm).call(this))}function Gm(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}function Hm(t,e){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function Um(t){var e=this._initialData.color;return t.color.some((function(t,r){return t!==e[r]}))}function zm(){zm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Vm(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Km(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function qm(t){return function(t){if(Array.isArray(t))return Qm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Km(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ym(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Xm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||Km(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Km(t,e){if(t){if("string"==typeof t)return Qm(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qm(t,e):void 0}}function Qm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Jm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jm(Object(r),!0).forEach((function(e){ob(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sb(n.key),n)}}function tb(t,e,r){return e=ib(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,eb()?Reflect.construct(e,r||[],ib(t).constructor):e.apply(t,r))}function eb(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(eb=function(){return!!t})()}function rb(t,e,r,n){var i=nb(ib(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function nb(){return nb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ib(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},nb.apply(null,arguments)}function ib(t){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ib(t)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ab(t,e)}function ob(t,e,r){return(e=sb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sb(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function ub(t,e,r){cb(t,e),e.set(t,r)}function cb(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lb(t,e,r){return t.set(fb(t,e),r),r}function hb(t,e){return t.get(fb(t,e))}function fb(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}Rg=Om,Zg(Om,"_defaultColor",null),Zg(Om,"_defaultOpacity",1),Zg(Om,"_defaultThickness",12),Zg(Om,"_type","highlight"),Zg(Om,"_editorType",A.HIGHLIGHT),Zg(Om,"_freeHighlightId",-1),Zg(Om,"_freeHighlight",null),Zg(Om,"_freeHighlightClipId","");var db,vb=new WeakMap,pb=new WeakMap,yb=new WeakMap,gb=new WeakMap,mb=new WeakMap,bb=new WeakMap,wb=new WeakMap,kb=new WeakMap,xb=new WeakMap,Ab=new WeakMap,_b=new WeakMap,Eb=new WeakMap,Sb=new WeakMap,Ob=new WeakSet,Tb=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){cb(t,e),e.add(t)}(r=tb(this,e,[$m($m({},t),{},{name:"inkEditor"})]),Ob),ub(r,vb,0),ub(r,pb,0),ub(r,yb,null),ub(r,gb,new Path2D),ub(r,mb,!1),ub(r,bb,null),ub(r,wb,!1),ub(r,kb,!1),ub(r,xb,null),ub(r,Ab,null),ub(r,_b,0),ub(r,Eb,0),ub(r,Sb,null),r.color=t.color||null,r.thickness=t.thickness||null,r.opacity=t.opacity||null,r.paths=[],r.bezierPath2D=[],r.allRawPaths=[],r.currentPath=[],r.scaleFactor=1,r.translationX=r.translationY=0,r.x=0,r.y=0,r._willKeepAspectRatio=!0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}(e,Wa),function(t,e,r){return e&&Zm(t.prototype,e),r&&Zm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"updateParams",value:function(t,e){switch(t){case _.INK_THICKNESS:fb(Ob,this,Pb).call(this,e);break;case _.INK_COLOR:fb(Ob,this,Lb).call(this,e);break;case _.INK_OPACITY:fb(Ob,this,Mb).call(this,e)}}},{key:"propertiesToUpdate",get:function(){var t;return[[_.INK_THICKNESS,this.thickness||e._defaultThickness],[_.INK_COLOR,this.color||e._defaultColor||Wa._defaultLineColor],[_.INK_OPACITY,Math.round(100*(null!==(t=this.opacity)&&void 0!==t?t:e._defaultOpacity))]]}},{key:"rebuild",value:function(){this.parent&&(rb(e,"rebuild",this,3)([]),null!==this.div&&(this.canvas||(fb(Ob,this,Vb).call(this),fb(Ob,this,qb).call(this)),this.isAttachedToDOM||(this.parent.add(this),fb(Ob,this,Yb).call(this)),fb(Ob,this,rw).call(this)))}},{key:"remove",value:function(){var t;null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,hb(yb,this)&&(clearTimeout(hb(yb,this)),lb(yb,this,null)),null===(t=hb(xb,this))||void 0===t||t.disconnect(),lb(xb,this,null),rb(e,"remove",this,3)([]))}},{key:"setParent",value:function(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&null===t&&this._uiManager.addShouldRescale(this),rb(e,"setParent",this,3)([t])}},{key:"onScaleChanging",value:function(){var t=Xm(this.parentDimensions,2),e=t[0],r=t[1],n=this.width*e,i=this.height*r;this.setDimensions(n,i)}},{key:"enableEditMode",value:function(){hb(mb,this)||null===this.canvas||(rb(e,"enableEditMode",this,3)([]),this._isDraggable=!1,fb(Ob,this,Hb).call(this))}},{key:"disableEditMode",value:function(){this.isInEditMode()&&null!==this.canvas&&(rb(e,"disableEditMode",this,3)([]),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),fb(Ob,this,Ub).call(this))}},{key:"onceAdded",value:function(){this._isDraggable=!this.isEmpty()}},{key:"isEmpty",value:function(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}},{key:"commit",value:function(){hb(mb,this)||(rb(e,"commit",this,3)([]),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),lb(mb,this,!0),this.div.classList.add("disabled"),fb(Ob,this,rw).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}},{key:"focusin",value:function(t){this._focusEventsAllowed&&(rb(e,"focusin",this,3)([t]),this.enableEditMode())}},{key:"canvasPointerdown",value:function(t){0===t.button&&this.isInEditMode()&&!hb(mb,this)&&(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),fb(Ob,this,Ib).call(this,t.offsetX,t.offsetY))}},{key:"canvasPointermove",value:function(t){t.preventDefault(),fb(Ob,this,Rb).call(this,t.offsetX,t.offsetY)}},{key:"canvasPointerup",value:function(t){t.preventDefault(),fb(Ob,this,zb).call(this,t)}},{key:"canvasPointerleave",value:function(t){fb(Ob,this,zb).call(this,t)}},{key:"isResizable",get:function(){return!this.isEmpty()&&hb(mb,this)}},{key:"render",value:function(){if(this.div)return this.div;var t,r;this.width&&(t=this.x,r=this.y),rb(e,"render",this,3)([]),this.div.setAttribute("data-l10n-id","pdfjs-ink");var n=Xm(fb(Ob,this,Cb).call(this),4),i=n[0],a=n[1],o=n[2],s=n[3];if(this.setAt(i,a,0,0),this.setDims(o,s),fb(Ob,this,Vb).call(this),this.width){var u=Xm(this.parentDimensions,2),c=u[0],l=u[1];this.setAspectRatio(this.width*c,this.height*l),this.setAt(t*c,r*l,this.width*c,this.height*l),lb(kb,this,!0),fb(Ob,this,Yb).call(this),this.setDims(this.width*c,this.height*l),fb(Ob,this,Gb).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return fb(Ob,this,qb).call(this),this.div}},{key:"setDimensions",value:function(t,e){var r=Math.round(t),n=Math.round(e);if(hb(_b,this)!==r||hb(Eb,this)!==n){lb(_b,this,r),lb(Eb,this,n),this.canvas.style.visibility="hidden";var i=Xm(this.parentDimensions,2),a=i[0],o=i[1];this.width=t/a,this.height=e/o,this.fixAndSetPosition(),hb(mb,this)&&fb(Ob,this,Xb).call(this,t,e),fb(Ob,this,Yb).call(this),fb(Ob,this,Gb).call(this),this.canvas.style.visibility="visible",this.fixDims()}}},{key:"serialize",value:function(){if(this.isEmpty())return null;var t=this.getRect(0,0),e=Wa._colorManager.convert(this.ctx.strokeStyle);return{annotationType:A.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:fb(Ob,this,Zb).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}],[{key:"initialize",value:function(t,e){Wa.initialize(t,e)}},{key:"updateDefaultParams",value:function(t,r){switch(t){case _.INK_THICKNESS:e._defaultThickness=r;break;case _.INK_COLOR:e._defaultColor=r;break;case _.INK_OPACITY:e._defaultOpacity=r/100}}},{key:"defaultPropertiesToUpdate",get:function(){return[[_.INK_THICKNESS,e._defaultThickness],[_.INK_COLOR,e._defaultColor||Wa._defaultLineColor],[_.INK_OPACITY,Math.round(100*e._defaultOpacity)]]}},{key:"deserialize",value:(r=zm().mark((function t(r,n,i){var a,o,s,u,c,l,h,f,d,v,p,y,g,m,b,w,k,x,A,_,E,S,O,T,P,L,M;return zm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r instanceof Gv)){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,rb(e,"deserialize",this,2)([r,n,i]);case 4:(a=t.sent).thickness=r.thickness,a.color=Z.makeHexColor.apply(Z,qm(r.color)),a.opacity=r.opacity,o=Xm(a.pageDimensions,2),s=o[0],u=o[1],c=a.width*s,l=a.height*u,h=a.parentScale,f=r.thickness/2,lb(mb,a,!0),lb(_b,a,Math.round(c)),lb(Eb,a,Math.round(l)),d=r.paths,v=r.rect,p=r.rotation,y=Vm(d);try{for(y.s();!(g=y.n()).done;){for(m=g.value.bezier,m=$b.call(e,m,v,p),b=[],a.paths.push(b),w=h*(m[0]-f),k=h*(m[1]-f),x=2,A=m.length;x<A;x+=6)_=h*(m[x]-f),E=h*(m[x+1]-f),S=h*(m[x+2]-f),O=h*(m[x+3]-f),T=h*(m[x+4]-f),P=h*(m[x+5]-f),b.push([[w,k],[_,E],[S,O],[T,P]]),w=T,k=P;L=fb(e,this,Qb).call(this,b),a.bezierPath2D.push(L)}}catch(t){y.e(t)}finally{y.f()}return M=fb(Ob,a,tw).call(a),lb(pb,a,Math.max(Wa.MIN_SIZE,M[2]-M[0])),lb(vb,a,Math.max(Wa.MIN_SIZE,M[3]-M[1])),fb(Ob,a,Xb).call(a,c,l),t.abrupt("return",a);case 24:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,i){var a=r.apply(t,e);function o(t){Ym(a,n,i,o,s,"next",t)}function s(t){Ym(a,n,i,o,s,"throw",t)}o(void 0)}))},function(t,e,r){return n.apply(this,arguments)})}]);var r,n}();function Pb(t){var e=this,r=function(t){e.thickness=t,fb(Ob,e,rw).call(e)},n=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function Lb(t){var e=this,r=function(t){e.color=t,fb(Ob,e,Gb).call(e)},n=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Mb(t){var e=this,r=function(t){e.opacity=t,fb(Ob,e,Gb).call(e)};t/=100;var n=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Cb(){var t=this.parentRotation,e=Xm(this.parentDimensions,2),r=e[0],n=e[1];switch(t){case 90:return[0,n,n,r];case 180:return[r,n,r,n];case 270:return[r,0,n,r];default:return[0,0,r,n]}}function jb(){var t=this.ctx,e=this.color,r=this.opacity,n=this.thickness,i=this.parentScale,a=this.scaleFactor;t.lineWidth=n*i/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle="".concat(e).concat(function(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}(r))}function Ib(t,e){var r=this;this.canvas.addEventListener("contextmenu",Te,{signal:this._uiManager._signal}),fb(Ob,this,Ub).call(this),lb(bb,this,new AbortController);var n,i=this._uiManager.combinedSignal(hb(bb,this));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,hb(kb,this)||(lb(kb,this,!0),fb(Ob,this,Yb).call(this),this.thickness||(this.thickness=sm._defaultThickness),this.color||(this.color=sm._defaultColor||Wa._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=sm._defaultOpacity)),this.currentPath.push([t,e]),lb(wb,this,!1),fb(Ob,this,jb).call(this),lb(Sb,this,(function(){fb(Ob,r,Nb).call(r),hb(Sb,r)&&window.requestAnimationFrame(hb(Sb,r))})),window.requestAnimationFrame(hb(Sb,this))}function Rb(t,e){var r,n=Xm(this.currentPath.at(-1),2),i=n[0],a=n[1];if(!(this.currentPath.length>1&&t===i&&e===a)){var o,s,u=this.currentPath,c=hb(gb,this);if(u.push([t,e]),lb(wb,this,!0),u.length<=2)return(o=c).moveTo.apply(o,qm(u[0])),void c.lineTo(t,e);3===u.length&&(lb(gb,this,c=new Path2D),(s=c).moveTo.apply(s,qm(u[0]))),(r=fb(Ob,this,Wb)).call.apply(r,[this,c].concat(qm(u.at(-3)),qm(u.at(-2)),[t,e]))}}function Fb(){var t;if(0!==this.currentPath.length){var e=this.currentPath.at(-1);(t=hb(gb,this)).lineTo.apply(t,qm(e))}}function Db(t,e){var r,n=this;if(lb(Sb,this,null),t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),fb(Ob,this,Rb).call(this,t,e),fb(Ob,this,Fb).call(this),1!==this.currentPath.length)r=fb(Ob,this,Bb).call(this);else{var i=[t,e];r=[[i,i.slice(),i.slice(),i]]}var a=hb(gb,this),o=this.currentPath;this.currentPath=[],lb(gb,this,new Path2D),this.addCommands({cmd:function(){n.allRawPaths.push(o),n.paths.push(r),n.bezierPath2D.push(a),n._uiManager.rebuild(n)},undo:function(){n.allRawPaths.pop(),n.paths.pop(),n.bezierPath2D.pop(),0===n.paths.length?n.remove():(n.canvas||(fb(Ob,n,Vb).call(n),fb(Ob,n,qb).call(n)),fb(Ob,n,rw).call(n))},mustExec:!0})}function Nb(){if(hb(wb,this)){lb(wb,this,!1);Math.ceil(this.thickness*this.parentScale);var t=this.currentPath.slice(-3),e=t.map((function(t){return t[0]})),r=t.map((function(t){return t[1]})),n=(Math.min.apply(Math,qm(e)),Math.max.apply(Math,qm(e)),Math.min.apply(Math,qm(r)),Math.max.apply(Math,qm(r)),this.ctx);n.save(),n.clearRect(0,0,this.canvas.width,this.canvas.height);var i,a=Vm(this.bezierPath2D);try{for(a.s();!(i=a.n()).done;){var o=i.value;n.stroke(o)}}catch(t){a.e(t)}finally{a.f()}n.stroke(hb(gb,this)),n.restore()}}function Wb(t,e,r,n,i,a,o){var s=(e+n)/2,u=(r+i)/2,c=(n+a)/2,l=(i+o)/2;t.bezierCurveTo(s+2*(n-s)/3,u+2*(i-u)/3,c+2*(n-c)/3,l+2*(i-l)/3,c,l)}function Bb(){var t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];var e,r=[],n=Xm(t[0],2),i=n[0],a=n[1];for(e=1;e<t.length-2;e++){var o=Xm(t[e],2),s=o[0],u=o[1],c=Xm(t[e+1],2),l=(s+c[0])/2,h=(u+c[1])/2,f=[i+2*(s-i)/3,a+2*(u-a)/3],d=[l+2*(s-l)/3,h+2*(u-h)/3];r.push([[i,a],f,d,[l,h]]),i=l,a=h}var v=Xm(t[e],2),p=v[0],y=v[1],g=Xm(t[e+1],2),m=g[0],b=g[1],w=[i+2*(p-i)/3,a+2*(y-a)/3],k=[m+2*(p-m)/3,b+2*(y-b)/3];return r.push([[i,a],w,k,[m,b]]),r}function Gb(){if(this.isEmpty())fb(Ob,this,Kb).call(this);else{fb(Ob,this,jb).call(this);var t=this.canvas,e=this.ctx;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),fb(Ob,this,Kb).call(this);var r,n=Vm(this.bezierPath2D);try{for(n.s();!(r=n.n()).done;){var i=r.value;e.stroke(i)}}catch(t){n.e(t)}finally{n.f()}}}function Hb(){if(!hb(Ab,this)){lb(Ab,this,new AbortController);var t=this._uiManager.combinedSignal(hb(Ab,this));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})}}function Ub(){var t;null===(t=this.pointerdownAC)||void 0===t||t.abort(),this.pointerdownAC=null}function zb(t){var e,r=this;null===(e=hb(bb,this))||void 0===e||e.abort(),lb(bb,this,null),fb(Ob,this,Hb).call(this),hb(yb,this)&&clearTimeout(hb(yb,this)),lb(yb,this,setTimeout((function(){lb(yb,r,null),r.canvas.removeEventListener("contextmenu",Te)}),10)),fb(Ob,this,Db).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function Vb(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function qb(){var t=this;lb(xb,this,new ResizeObserver((function(e){var r=e[0].contentRect;r.width&&r.height&&t.setDimensions(r.width,r.height)}))),hb(xb,this).observe(this.div),this._uiManager._signal.addEventListener("abort",(function(){var e;null===(e=hb(xb,t))||void 0===e||e.disconnect(),lb(xb,t,null)}),{once:!0})}function Yb(){if(hb(kb,this)){var t=Xm(this.parentDimensions,2),e=t[0],r=t[1];this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*r),fb(Ob,this,Kb).call(this)}}function Xb(t,e){var r=fb(Ob,this,ew).call(this),n=(t-r)/hb(pb,this),i=(e-r)/hb(vb,this);this.scaleFactor=Math.min(n,i)}function Kb(){var t=fb(Ob,this,ew).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}function Qb(t){for(var e=new Path2D,r=0,n=t.length;r<n;r++){var i=Xm(t[r],4),a=i[0],o=i[1],s=i[2],u=i[3];0===r&&e.moveTo.apply(e,qm(a)),e.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}return e}function Jb(t,e,r){var n=Xm(e,4),i=n[0],a=n[1],o=n[2],s=n[3];switch(r){case 0:for(var u=0,c=t.length;u<c;u+=2)t[u]+=i,t[u+1]=s-t[u+1];break;case 90:for(var l=0,h=t.length;l<h;l+=2){var f=t[l];t[l]=t[l+1]+i,t[l+1]=f+a}break;case 180:for(var d=0,v=t.length;d<v;d+=2)t[d]=o-t[d],t[d+1]+=a;break;case 270:for(var p=0,y=t.length;p<y;p+=2){var g=t[p];t[p]=o-t[p+1],t[p+1]=s-g}break;default:throw new Error("Invalid rotation")}return t}function $b(t,e,r){var n=Xm(e,4),i=n[0],a=n[1],o=n[2],s=n[3];switch(r){case 0:for(var u=0,c=t.length;u<c;u+=2)t[u]-=i,t[u+1]=s-t[u+1];break;case 90:for(var l=0,h=t.length;l<h;l+=2){var f=t[l];t[l]=t[l+1]-a,t[l+1]=f-i}break;case 180:for(var d=0,v=t.length;d<v;d+=2)t[d]=o-t[d],t[d+1]-=a;break;case 270:for(var p=0,y=t.length;p<y;p+=2){var g=t[p];t[p]=s-t[p+1],t[p+1]=o-g}break;default:throw new Error("Invalid rotation")}return t}function Zb(t,e,r,n){var i,a=[],o=this.thickness/2,s=t*e+o,u=t*r+o,c=Vm(this.paths);try{for(c.s();!(i=c.n()).done;){for(var l=i.value,h=[],f=[],d=0,v=l.length;d<v;d++){var p=Xm(l[d],4),y=p[0],g=p[1],m=p[2],b=p[3];if(y[0]===b[0]&&y[1]===b[1]&&1===v){var w=t*y[0]+s,k=t*y[1]+u;h.push(w,k),f.push(w,k);break}var x=t*y[0]+s,A=t*y[1]+u,_=t*g[0]+s,E=t*g[1]+u,S=t*m[0]+s,O=t*m[1]+u,T=t*b[0]+s,P=t*b[1]+u;0===d&&(h.push(x,A),f.push(x,A)),h.push(_,E,S,O,T,P),f.push(_,E),d===v-1&&f.push(T,P)}a.push({bezier:Jb.call(sm,h,n,this.rotation),points:Jb.call(sm,f,n,this.rotation)})}}catch(t){c.e(t)}finally{c.f()}return a}function tw(){var t,e=1/0,r=-1/0,n=1/0,i=-1/0,a=Vm(this.paths);try{for(a.s();!(t=a.n()).done;){var o,s=Vm(t.value);try{for(s.s();!(o=s.n()).done;){var u=Xm(o.value,4),c=u[0],l=u[1],h=u[2],f=u[3],d=Z.bezierBoundingBox.apply(Z,qm(c).concat(qm(l),qm(h),qm(f)));e=Math.min(e,d[0]),n=Math.min(n,d[1]),r=Math.max(r,d[2]),i=Math.max(i,d[3])}}catch(t){s.e(t)}finally{s.f()}}}catch(t){a.e(t)}finally{a.f()}return[e,n,r,i]}function ew(){return hb(mb,this)?Math.ceil(this.thickness*this.parentScale):0}function rw(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isEmpty())if(hb(mb,this)){var e=fb(Ob,this,tw).call(this),r=fb(Ob,this,ew).call(this);lb(pb,this,Math.max(Wa.MIN_SIZE,e[2]-e[0])),lb(vb,this,Math.max(Wa.MIN_SIZE,e[3]-e[1]));var n=Math.ceil(r+hb(pb,this)*this.scaleFactor),i=Math.ceil(r+hb(vb,this)*this.scaleFactor),a=Xm(this.parentDimensions,2),o=a[0],s=a[1];this.width=n/o,this.height=i/s,this.setAspectRatio(n,i);var u=this.translationX,c=this.translationY;this.translationX=-e[0],this.translationY=-e[1],fb(Ob,this,Yb).call(this),fb(Ob,this,Gb).call(this),lb(_b,this,n),lb(Eb,this,i),this.setDims(n,i);var l=t?r/this.scaleFactor/2:0;this.translate(u-this.translationX-l,c-this.translationY-l)}else fb(Ob,this,Gb).call(this)}function nw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return iw(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iw(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function aw(){aw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ow(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function sw(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){ow(a,n,i,o,s,"next",t)}function s(t){ow(a,n,i,o,s,"throw",t)}o(void 0)}))}}function uw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cw(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?uw(Object(r),!0).forEach((function(e){gw(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mw(n.key),n)}}function hw(t,e,r){return e=pw(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fw()?Reflect.construct(e,r||[],pw(t).constructor):e.apply(t,r))}function fw(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fw=function(){return!!t})()}function dw(t,e,r,n){var i=vw(pw(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function vw(){return vw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=pw(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},vw.apply(null,arguments)}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pw(t)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yw(t,e)}function gw(t,e,r){return(e=mw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mw(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function bw(t,e,r){ww(t,e),e.set(t,r)}function ww(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kw(t,e){return t.get(Aw(t,e))}function xw(t,e,r){return t.set(Aw(t,e),r),r}function Aw(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}sm=Tb,ob(Tb,"_defaultColor",null),ob(Tb,"_defaultOpacity",1),ob(Tb,"_defaultThickness",1),ob(Tb,"_type","ink"),ob(Tb,"_editorType",A.INK);var _w=new WeakMap,Ew=new WeakMap,Sw=new WeakMap,Ow=new WeakMap,Tw=new WeakMap,Pw=new WeakMap,Lw=new WeakMap,Mw=new WeakMap,Cw=new WeakMap,jw=new WeakMap,Iw=new WeakMap,Rw=new WeakSet,Fw=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){ww(t,e),e.add(t)}(r=hw(this,e,[cw(cw({},t),{},{name:"stampEditor"})]),Rw),bw(r,_w,null),bw(r,Ew,null),bw(r,Sw,null),bw(r,Ow,null),bw(r,Tw,null),bw(r,Pw,""),bw(r,Lw,null),bw(r,Mw,null),bw(r,Cw,null),bw(r,jw,!1),bw(r,Iw,!1),xw(Ow,r,t.bitmapUrl),xw(Tw,r,t.bitmapFile),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}(e,Wa),function(t,e,r){return e&&lw(t.prototype,e),r&&lw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"altTextFinish",value:function(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),dw(e,"altTextFinish",this,3)([])}},{key:"telemetryFinalData",get:function(){var t;return{type:"stamp",hasAltText:!(null===(t=this.altTextData)||void 0===t||!t.altText)}}},{key:"mlGuessAltText",value:(n=sw(aw().mark((function t(){var e,r,n,i,a,o,s,u,c,l=arguments;return aw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=l.length>0&&void 0!==l[0]?l[0]:null,r=!(l.length>1&&void 0!==l[1])||l[1],!this.hasAltTextData()){t.next=4;break}return t.abrupt("return",null);case 4:if(n=this._uiManager.mlManager){t.next=7;break}throw new Error("No ML.");case 7:return t.next=9,n.isEnabledFor("altText");case 9:if(t.sent){t.next=11;break}throw new Error("ML isn't enabled for alt text.");case 11:return i=e||this.copyCanvas(null,null,!0).imageData,a=i.data,o=i.width,s=i.height,t.next=14,n.guess({name:"altText",request:{data:a,width:o,height:s,channels:a.length/(o*s)}});case 14:if(u=t.sent){t.next=17;break}throw new Error("No response from the AI service.");case 17:if(!u.error){t.next=19;break}throw new Error("Error from the AI service.");case 19:if(!u.cancel){t.next=21;break}return t.abrupt("return",null);case 21:if(u.output){t.next=23;break}throw new Error("No valid response from the AI service.");case 23:return c=u.output,t.next=26,this.setGuessedAltText(c);case 26:return r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),t.abrupt("return",c);case 28:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"remove",value:function(){var t,r;kw(Ew,this)&&(xw(_w,this,null),this._uiManager.imageManager.deleteId(kw(Ew,this)),null===(t=kw(Lw,this))||void 0===t||t.remove(),xw(Lw,this,null),null===(r=kw(Mw,this))||void 0===r||r.disconnect(),xw(Mw,this,null),kw(Cw,this)&&(clearTimeout(kw(Cw,this)),xw(Cw,this,null))),dw(e,"remove",this,3)([])}},{key:"rebuild",value:function(){this.parent?(dw(e,"rebuild",this,3)([]),null!==this.div&&(kw(Ew,this)&&null===kw(Lw,this)&&Aw(Rw,this,Ww).call(this),this.isAttachedToDOM||this.parent.add(this))):kw(Ew,this)&&Aw(Rw,this,Ww).call(this)}},{key:"onceAdded",value:function(){this._isDraggable=!0,this.div.focus()}},{key:"isEmpty",value:function(){return!(kw(Sw,this)||kw(_w,this)||kw(Ow,this)||kw(Tw,this)||kw(Ew,this))}},{key:"isResizable",get:function(){return!0}},{key:"render",value:function(){if(this.div)return this.div;var t,r;if(this.width&&(t=this.x,r=this.y),dw(e,"render",this,3)([]),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),kw(_w,this)?Aw(Rw,this,Bw).call(this):Aw(Rw,this,Ww).call(this),this.width&&!this.annotationElementId){var n=nw(this.parentDimensions,2),i=n[0],a=n[1];this.setAt(t*i,r*a,this.width*i,this.height*a)}return this.div}},{key:"copyCanvas",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=224);var n=kw(_w,this),i=n.width,a=n.height,o=new Fe,s=kw(_w,this),u=i,c=a,l=null;if(e){var h,f;if(i>e||a>e){var d=Math.min(e/i,e/a);u=Math.floor(i*d),c=Math.floor(a*d)}var v=(l=document.createElement("canvas")).width=Math.ceil(u*o.sx),p=l.height=Math.ceil(c*o.sy);kw(jw,this)||(s=Aw(Rw,this,Hw).call(this,v,p));var y=l.getContext("2d");y.filter=this._uiManager.hcmFilter;var g="white",m="#cfcfd8";"none"!==this._uiManager.hcmFilter?m="black":null!==(h=(f=window).matchMedia)&&void 0!==h&&h.call(f,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",m="#42414d");var b=15*o.sx,w=15*o.sy,k=new OffscreenCanvas(2*b,2*w),x=k.getContext("2d");x.fillStyle=g,x.fillRect(0,0,2*b,2*w),x.fillStyle=m,x.fillRect(0,0,b,w),x.fillRect(b,w,b,w),y.fillStyle=y.createPattern(k,"repeat"),y.fillRect(0,0,v,p),y.drawImage(s,0,0,s.width,s.height,0,0,v,p)}var A=null;if(r){var _,E;if(o.symmetric&&s.width<t&&s.height<t)_=s.width,E=s.height;else if(s=kw(_w,this),i>t||a>t){var S=Math.min(t/i,t/a);_=Math.floor(i*S),E=Math.floor(a*S),kw(jw,this)||(s=Aw(Rw,this,Hw).call(this,_,E))}var O=new OffscreenCanvas(_,E).getContext("2d",{willReadFrequently:!0});O.drawImage(s,0,0,s.width,s.height,0,0,_,E),A={width:_,height:E,data:O.getImageData(0,0,_,E).data}}return{canvas:l,width:u,height:c,imageData:A}}},{key:"getImageForAltText",value:function(){return kw(Lw,this)}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();var r={annotationType:A.STAMP,bitmapId:kw(Ew,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:kw(jw,this),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=Aw(Rw,this,zw).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;var n=this.serializeAltText(!1),i=n.decorative,a=n.altText;if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){var o,s=Aw(Rw,this,qw).call(this,r);if(s.isSame)return null;s.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=null!==(o=this._initialData.structParent)&&void 0!==o?o:-1}if(r.id=this.annotationElementId,null===e)return r;e.stamps||(e.stamps=new Map);var u=kw(jw,this)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(e.stamps.has(kw(Ew,this))){if(kw(jw,this)){var c=e.stamps.get(kw(Ew,this));u>c.area&&(c.area=u,c.serialized.bitmap.close(),c.serialized.bitmap=Aw(Rw,this,zw).call(this,!1))}}else e.stamps.set(kw(Ew,this),{area:u,serialized:r}),r.bitmap=Aw(Rw,this,zw).call(this,!1);return r}},{key:"renderAnnotationElement",value:function(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}],[{key:"initialize",value:function(t,e){Wa.initialize(t,e)}},{key:"supportedTypes",get:function(){return W(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((function(t){return"image/".concat(t)})))}},{key:"supportedTypesStr",get:function(){return W(this,"supportedTypesStr",this.supportedTypes.join(","))}},{key:"isHandlingMimeForPasting",value:function(t){return this.supportedTypes.includes(t)}},{key:"paste",value:function(t,e){e.pasteEditor(A.STAMP,{bitmapFile:t.getAsFile()})}},{key:"computeTelemetryFinalData",value:function(t){var e,r,n=t.get("hasAltText");return{hasAltText:null!==(e=n.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(r=n.get(!1))&&void 0!==r?r:0}}},{key:"deserialize",value:(r=sw(aw().mark((function t(r,n,i){var a,o,s,u,c,l,h,f,d,v,p,y,g,m,b,w,k,x,_,E,S,O,T,P,L;return aw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,!(r instanceof qv)){t.next=22;break}return u=(s=r).data,c=u.rect,l=u.rotation,h=u.id,f=u.structParent,d=u.popupRef,v=s.container,p=s.parent.page.pageNumber,y=v.querySelector("canvas"),g=i.imageManager.getFromCanvas(v.id,y),y.remove(),t.next=8,n._structTree.getAriaAttributes("".concat(at).concat(h));case 8:if(t.t2=o=t.sent,t.t1=null===t.t2,t.t1){t.next=12;break}t.t1=void 0===o;case 12:if(!t.t1){t.next=16;break}t.t3=void 0,t.next=17;break;case 16:t.t3=o.get("aria-label");case 17:if(t.t0=t.t3,t.t0){t.next=20;break}t.t0="";case 20:m=t.t0,a=r={annotationType:A.STAMP,bitmapId:g.id,bitmap:g.bitmap,pageIndex:p-1,rect:c.slice(0),rotation:l,id:h,deleted:!1,accessibilityData:{decorative:!1,altText:m},isSvg:!1,structParent:f,popupRef:d};case 22:return t.next=24,dw(e,"deserialize",this,2)([r,n,i]);case 24:return b=t.sent,k=(w=r).rect,x=w.bitmap,_=w.bitmapUrl,E=w.bitmapId,S=w.isSvg,O=w.accessibilityData,E&&i.imageManager.isValidId(E)?(xw(Ew,b,E),x&&xw(_w,b,x)):xw(Ow,b,_),xw(jw,b,S),T=nw(b.pageDimensions,2),P=T[0],L=T[1],b.width=(k[2]-k[0])/P,b.height=(k[3]-k[1])/L,b.annotationElementId=r.id||null,O&&(b.altTextData=O),b._initialData=a,xw(Iw,b,!!a),t.abrupt("return",b);case 36:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})}]);var r,n}();function Dw(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(xw(_w,this,t.bitmap),e||(xw(Ew,this,t.id),xw(jw,this,t.isSvg)),t.file&&xw(Pw,this,t.file.name),Aw(Rw,this,Bw).call(this)):this.remove()}function Nw(){if(xw(Sw,this,null),this._uiManager.enableWaiting(!1),kw(Lw,this)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&kw(_w,this))return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&kw(_w,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(t){}}this.div.focus()}}function Ww(){var t=this;if(kw(Ew,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(kw(Ew,this)).then((function(e){return Aw(Rw,t,Dw).call(t,e,!0)})).finally((function(){return Aw(Rw,t,Nw).call(t)}));if(kw(Ow,this)){var e=kw(Ow,this);return xw(Ow,this,null),this._uiManager.enableWaiting(!0),void xw(Sw,this,this._uiManager.imageManager.getFromUrl(e).then((function(e){return Aw(Rw,t,Dw).call(t,e)})).finally((function(){return Aw(Rw,t,Nw).call(t)})))}if(kw(Tw,this)){var r=kw(Tw,this);return xw(Tw,this,null),this._uiManager.enableWaiting(!0),void xw(Sw,this,this._uiManager.imageManager.getFromFile(r).then((function(e){return Aw(Rw,t,Dw).call(t,e)})).finally((function(){return Aw(Rw,t,Nw).call(t)})))}var n=document.createElement("input");n.type="file",n.accept=db.supportedTypesStr;var i=this._uiManager._signal;xw(Sw,this,new Promise((function(e){n.addEventListener("change",sw(aw().mark((function r(){var i;return aw().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.files&&0!==n.files.length){r.next=4;break}t.remove(),r.next=10;break;case 4:return t._uiManager.enableWaiting(!0),r.next=7,t._uiManager.imageManager.getFromFile(n.files[0]);case 7:i=r.sent,t._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:t._uiManager.useNewAltTextFlow}}),Aw(Rw,t,Dw).call(t,i);case 10:e();case 11:case"end":return r.stop()}}),r)}))),{signal:i}),n.addEventListener("cancel",(function(){t.remove(),e()}),{signal:i})})).finally((function(){return Aw(Rw,t,Nw).call(t)}))),n.click()}function Bw(){var t=this.div,e=kw(_w,this),r=e.width,n=e.height,i=nw(this.pageDimensions,2),a=i[0],o=i[1],s=.75;if(this.width)r=this.width*a,n=this.height*o;else if(r>s*a||n>s*o){var u=Math.min(s*a/r,s*o/n);r*=u,n*=u}var c=nw(this.parentDimensions,2),l=c[0],h=c[1];this.setDims(r*l/a,n*h/o),this._uiManager.enableWaiting(!1);var f=xw(Lw,this,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),Aw(Rw,this,Uw).call(this,r,n),Aw(Rw,this,Vw).call(this),kw(Iw,this)||(this.parent.addUndoableEditor(this),xw(Iw,this,!0)),this._reportTelemetry({action:"inserted_image"}),kw(Pw,this)&&f.setAttribute("aria-label",kw(Pw,this))}function Gw(t,e){var r,n=this,i=nw(this.parentDimensions,2),a=i[0],o=i[1];this.width=t/a,this.height=e/o,null!==(r=this._initialOptions)&&void 0!==r&&r.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==kw(Cw,this)&&clearTimeout(kw(Cw,this)),xw(Cw,this,setTimeout((function(){xw(Cw,n,null),Aw(Rw,n,Uw).call(n,t,e)}),200))}function Hw(t,e){for(var r=kw(_w,this),n=r.width,i=r.height,a=kw(_w,this);n>2*t||i>2*e;){var o=n,s=i;n>2*t&&(n=n>=16384?Math.floor(n/2)-1:Math.ceil(n/2)),i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2));var u=new OffscreenCanvas(n,i);u.getContext("2d").drawImage(a,0,0,o,s,0,0,n,i),a=u.transferToImageBitmap()}return a}function Uw(t,e){var r=new Fe,n=Math.ceil(t*r.sx),i=Math.ceil(e*r.sy),a=kw(Lw,this);if(a&&(a.width!==n||a.height!==i)){a.width=n,a.height=i;var o=kw(jw,this)?kw(_w,this):Aw(Rw,this,Hw).call(this,n,i),s=a.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(o,0,0,o.width,o.height,0,0,n,i)}}function zw(t){if(t){if(kw(jw,this)){var e=this._uiManager.imageManager.getSvgUrl(kw(Ew,this));if(e)return e}var r=document.createElement("canvas"),n=kw(_w,this);return r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(kw(_w,this),0,0),r.toDataURL()}if(kw(jw,this)){var i=nw(this.pageDimensions,2),a=i[0],o=i[1],s=Math.round(this.width*a*Vt.PDF_TO_CSS_UNITS),u=Math.round(this.height*o*Vt.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(s,u);return c.getContext("2d").drawImage(kw(_w,this),0,0,kw(_w,this).width,kw(_w,this).height,0,0,s,u),c.transferToImageBitmap()}return structuredClone(kw(_w,this))}function Vw(){var t=this;this._uiManager._signal&&(xw(Mw,this,new ResizeObserver((function(e){var r=e[0].contentRect;r.width&&r.height&&Aw(Rw,t,Gw).call(t,r.width,r.height)}))),kw(Mw,this).observe(this.div),this._uiManager._signal.addEventListener("abort",(function(){var e;null===(e=kw(Mw,t))||void 0===e||e.disconnect(),xw(Mw,t,null)}),{once:!0}))}function qw(t){var e,r=this._initialData,n=r.rect,i=r.pageIndex,a=r.accessibilityData.altText,o=t.rect.every((function(t,e){return Math.abs(t-n[e])<1})),s=t.pageIndex===i,u=((null===(e=t.accessibilityData)||void 0===e?void 0:e.alt)||"")===a;return{isSame:o&&s&&u,isSameAltText:u}}function Yw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xw(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yw(Object(r),!0).forEach((function(e){rk(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kw(){Kw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new L(n||[]);return i(o,"_invoke",{value:S(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var A=b.prototype=g.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,a,o,s){var u=h(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function S(e,r,n){var i=f;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(A),c(A,u,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Qw(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Jw(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){Qw(a,n,i,o,s,"next",t)}function s(t){Qw(a,n,i,o,s,"throw",t)}o(void 0)}))}}function $w(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Zw(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Zw(t,e){if(t){if("string"==typeof t)return tk(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tk(t,e):void 0}}function tk(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ek(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nk(n.key),n)}}function rk(t,e,r){return(e=nk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nk(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function ik(t,e,r){ak(t,e),e.set(t,r)}function ak(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ok(t,e,r){return r(ck(t,e))}function sk(t,e){return t.get(ck(t,e))}function uk(t,e,r){return t.set(ck(t,e),r),r}function ck(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}db=Fw,gw(Fw,"_type","stamp"),gw(Fw,"_editorType",A.STAMP);var lk=new WeakMap,hk=new WeakMap,fk=new WeakMap,dk=new WeakMap,vk=new WeakMap,pk=new WeakMap,yk=new WeakMap,gk=new WeakMap,mk=new WeakMap,bk=new WeakMap,wk=new WeakMap,kk=new WeakMap,xk=new WeakSet,Ak=function(){return function(t,e,r){return e&&ek(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=e.uiManager,n=e.pageIndex,i=e.div,a=e.structTreeLayer,o=e.accessibilityManager,s=e.annotationLayer,u=e.drawLayer,c=e.textLayer,l=e.viewport,h=e.l10n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){ak(t,e),e.add(t)}(this,xk),ik(this,lk,void 0),ik(this,hk,!1),ik(this,fk,null),ik(this,dk,null),ik(this,vk,null),ik(this,pk,new Map),ik(this,yk,!1),ik(this,gk,!1),ik(this,mk,!1),ik(this,bk,null),ik(this,wk,null),ik(this,kk,void 0);var f=function(t){return function(t){if(Array.isArray(t))return tk(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Zw(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Lk._.values());if(!t._initialized){t._initialized=!0;var d,v=$w(f);try{for(v.s();!(d=v.n()).done;)d.value.initialize(h,r)}catch(t){v.e(t)}finally{v.f()}}r.registerEditorTypes(f),uk(kk,this,r),this.pageIndex=n,this.div=i,uk(lk,this,o),uk(fk,this,s),this.viewport=l,uk(bk,this,c),this.drawLayer=u,this._structTree=a,sk(kk,this).addLayer(this)}),[{key:"isEmpty",get:function(){return 0===sk(pk,this).size}},{key:"isInvisible",get:function(){return this.isEmpty&&sk(kk,this).getMode()===A.NONE}},{key:"updateToolbar",value:function(t){sk(kk,this).updateToolbar(t)}},{key:"updateMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sk(kk,this).getMode();switch(ck(xk,this,Tk).call(this),t){case A.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case A.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case A.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);var e,r=this.div.classList,n=$w(Lk._.values());try{for(n.s();!(e=n.n()).done;){var i=e.value;r.toggle("".concat(i._type,"Editing"),t===i._editorType)}}catch(t){n.e(t)}finally{n.f()}this.div.hidden=!1}},{key:"hasTextLayer",value:function(t){var e;return t===(null===(e=sk(bk,this))||void 0===e?void 0:e.div)}},{key:"addInkEditorIfNeeded",value:function(t){if(sk(kk,this).getMode()===A.INK){if(!t){var e,r=$w(sk(pk,this).values());try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.isEmpty())return void n.setInBackground()}}catch(t){r.e(t)}finally{r.f()}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}},{key:"setEditingState",value:function(t){sk(kk,this).setEditingState(t)}},{key:"addCommands",value:function(t){sk(kk,this).addCommands(t)}},{key:"toggleDrawing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!t)}},{key:"togglePointerEvents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}},{key:"toggleAnnotationLayerPointerEvents",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=sk(fk,this))||void 0===t||t.div.classList.toggle("disabled",!e)}},{key:"enable",value:(e=Jw(Kw().mark((function t(){var e,r,n,i,a,o,s,u,c;return Kw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.div.tabIndex=0,this.togglePointerEvents(!0),e=new Set,r=$w(sk(pk,this).values());try{for(r.s();!(n=r.n()).done;)(i=n.value).enableEditing(),i.show(!0),i.annotationElementId&&(sk(kk,this).removeChangedExistingAnnotation(i),e.add(i.annotationElementId))}catch(t){r.e(t)}finally{r.f()}if(sk(fk,this)){t.next=7;break}return t.abrupt("return");case 7:a=sk(fk,this).getEditableAnnotations(),o=$w(a),t.prev=9,o.s();case 11:if((s=o.n()).done){t.next=27;break}if((u=s.value).hide(),!sk(kk,this).isDeletedAnnotationElement(u.data.id)){t.next=16;break}return t.abrupt("continue",25);case 16:if(!e.has(u.data.id)){t.next=18;break}return t.abrupt("continue",25);case 18:return t.next=20,this.deserialize(u);case 20:if(c=t.sent){t.next=23;break}return t.abrupt("continue",25);case 23:this.addOrRebuild(c),c.enableEditing();case 25:t.next=11;break;case 27:t.next=32;break;case 29:t.prev=29,t.t0=t.catch(9),o.e(t.t0);case 32:return t.prev=32,o.f(),t.finish(32);case 35:case"end":return t.stop()}}),t,this,[[9,29,32,35]])}))),function(){return e.apply(this,arguments)})},{key:"disable",value:function(){uk(mk,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);var t,e=new Map,r=new Map,n=$w(sk(pk,this).values());try{for(n.s();!(t=n.n()).done;){var i,a=t.value;a.disableEditing(),a.annotationElementId&&(null===a.serialize()?(r.set(a.annotationElementId,a),null===(i=this.getEditableAnnotation(a.annotationElementId))||void 0===i||i.show(),a.remove()):e.set(a.annotationElementId,a))}}catch(t){n.e(t)}finally{n.f()}if(sk(fk,this)){var o,s=$w(sk(fk,this).getEditableAnnotations());try{for(s.s();!(o=s.n()).done;){var u=o.value,c=u.data.id;if(!sk(kk,this).isDeletedAnnotationElement(c)){var l=r.get(c);l?(l.resetAnnotationElement(u),l.show(!1),u.show()):((l=e.get(c))&&(sk(kk,this).addChangedExistingAnnotation(l),l.renderAnnotationElement(u)&&l.show(!1)),u.show())}}}catch(t){s.e(t)}finally{s.f()}}ck(xk,this,Tk).call(this),this.isEmpty&&(this.div.hidden=!0);var h,f=this.div.classList,d=$w(Lk._.values());try{for(d.s();!(h=d.n()).done;){var v=h.value;f.remove("".concat(v._type,"Editing"))}}catch(t){d.e(t)}finally{d.f()}this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),uk(mk,this,!1)}},{key:"getEditableAnnotation",value:function(t){var e;return(null===(e=sk(fk,this))||void 0===e?void 0:e.getEditableAnnotation(t))||null}},{key:"setActiveEditor",value:function(t){sk(kk,this).getActive()!==t&&sk(kk,this).setActiveEditor(t)}},{key:"enableTextSelection",value:function(){var t;if(this.div.tabIndex=-1,null!==(t=sk(bk,this))&&void 0!==t&&t.div&&!sk(wk,this)){uk(wk,this,new AbortController);var e=sk(kk,this).combinedSignal(sk(wk,this));sk(bk,this).div.addEventListener("pointerdown",ck(xk,this,_k).bind(this),{signal:e}),sk(bk,this).div.classList.add("highlighting")}}},{key:"disableTextSelection",value:function(){var t;this.div.tabIndex=0,null!==(t=sk(bk,this))&&void 0!==t&&t.div&&sk(wk,this)&&(sk(wk,this).abort(),uk(wk,this,null),sk(bk,this).div.classList.remove("highlighting"))}},{key:"enableClick",value:function(){if(!sk(dk,this)){uk(dk,this,new AbortController);var t=sk(kk,this).combinedSignal(sk(dk,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}}},{key:"disableClick",value:function(){var t;null===(t=sk(dk,this))||void 0===t||t.abort(),uk(dk,this,null)}},{key:"attach",value:function(t){sk(pk,this).set(t.id,t);var e=t.annotationElementId;e&&sk(kk,this).isDeletedAnnotationElement(e)&&sk(kk,this).removeDeletedAnnotationElement(t)}},{key:"detach",value:function(t){var e;sk(pk,this).delete(t.id),null===(e=sk(lk,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv),!sk(mk,this)&&t.annotationElementId&&sk(kk,this).addDeletedAnnotationElement(t)}},{key:"remove",value:function(t){this.detach(t),sk(kk,this).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,sk(gk,this)||this.addInkEditorIfNeeded(!1)}},{key:"changeParent",value:function(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(sk(kk,this).addDeletedAnnotationElement(t.annotationElementId),Wa.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),null===(e=t.parent)||void 0===e||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}},{key:"add",value:function(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),sk(kk,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){var e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),sk(kk,this).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}},{key:"moveEditorInDOM",value:function(t){var e,r=this;if(t.isAttachedToDOM){var n=document.activeElement;t.div.contains(n)&&!sk(vk,this)&&(t._focusEventsAllowed=!1,uk(vk,this,setTimeout((function(){uk(vk,r,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(function(){t._focusEventsAllowed=!0}),{once:!0,signal:sk(kk,r)._signal}),n.focus())}),0))),t._structTreeParentId=null===(e=sk(lk,this))||void 0===e?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}}},{key:"addOrRebuild",value:function(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}},{key:"addUndoableEditor",value:function(t){this.addCommands({cmd:function(){return t._uiManager.rebuild(t)},undo:function(){t.remove()},mustExec:!1})}},{key:"getNextId",value:function(){return sk(kk,this).getId()}},{key:"combinedSignal",value:function(t){return sk(kk,this).combinedSignal(t)}},{key:"canCreateNewEmptyEditor",value:function(){var t;return null===(t=ok(xk,this,Ek))||void 0===t?void 0:t.canCreateNewEmptyEditor()}},{key:"pasteEditor",value:function(t,e){sk(kk,this).updateToolbar(t),sk(kk,this).updateMode(t);var r=ck(xk,this,Ok).call(this),n=r.offsetX,i=r.offsetY,a=this.getNextId(),o=ck(xk,this,Sk).call(this,Xw({parent:this,id:a,x:n,y:i,uiManager:sk(kk,this),isCentered:!0},e));o&&this.add(o)}},{key:"deserialize",value:(t=Jw(Kw().mark((function t(e){var r,n;return Kw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(r=Lk._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===r?void 0:r.deserialize(e,this,sk(kk,this));case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=null;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"createAndAddNewEditor",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getNextId(),i=ck(xk,this,Sk).call(this,Xw({parent:this,id:n,x:t.offsetX,y:t.offsetY,uiManager:sk(kk,this),isCentered:e},r));return i&&this.add(i),i}},{key:"addNewEditor",value:function(){this.createAndAddNewEditor(ck(xk,this,Ok).call(this),!0)}},{key:"setSelected",value:function(t){sk(kk,this).setSelected(t)}},{key:"toggleSelected",value:function(t){sk(kk,this).toggleSelected(t)}},{key:"unselect",value:function(t){sk(kk,this).unselect(t)}},{key:"pointerup",value:function(t){var e=J.platform.isMac;0!==t.button||t.ctrlKey&&e||t.target===this.div&&sk(yk,this)&&(uk(yk,this,!1),sk(hk,this)?sk(kk,this).getMode()!==A.STAMP?this.createAndAddNewEditor(t,!1):sk(kk,this).unselectAll():uk(hk,this,!0))}},{key:"pointerdown",value:function(t){if(sk(kk,this).getMode()===A.HIGHLIGHT&&this.enableTextSelection(),sk(yk,this))uk(yk,this,!1);else{var e=J.platform.isMac;if(!(0!==t.button||t.ctrlKey&&e)&&t.target===this.div){uk(yk,this,!0);var r=sk(kk,this).getActive();uk(hk,this,!r||r.isEmpty())}}}},{key:"findNewParent",value:function(t,e,r){var n=sk(kk,this).findParent(e,r);return null!==n&&n!==this&&(n.changeParent(t),!0)}},{key:"destroy",value:function(){var t;(null===(t=sk(kk,this).getActive())||void 0===t?void 0:t.parent)===this&&(sk(kk,this).commitOrRemove(),sk(kk,this).setActiveEditor(null)),sk(vk,this)&&(clearTimeout(sk(vk,this)),uk(vk,this,null));var e,r=$w(sk(pk,this).values());try{for(r.s();!(e=r.n()).done;){var n,i=e.value;null===(n=sk(lk,this))||void 0===n||n.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove()}}catch(t){r.e(t)}finally{r.f()}this.div=null,sk(pk,this).clear(),sk(kk,this).removeLayer(this)}},{key:"render",value:function(t){var e=t.viewport;this.viewport=e,Re(this.div,e);var r,n=$w(sk(kk,this).getEditors(this.pageIndex));try{for(n.s();!(r=n.n()).done;){var i=r.value;this.add(i),i.rebuild()}}catch(t){n.e(t)}finally{n.f()}this.updateMode()}},{key:"update",value:function(t){var e=t.viewport;sk(kk,this).commitOrRemove(),ck(xk,this,Tk).call(this);var r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Re(this.div,{rotation:n}),r!==n){var i,a=$w(sk(pk,this).values());try{for(a.s();!(i=a.n()).done;)i.value.rotate(n)}catch(t){a.e(t)}finally{a.f()}}this.addInkEditorIfNeeded(!1)}},{key:"pageDimensions",get:function(){var t=this.viewport.rawDims;return[t.pageWidth,t.pageHeight]}},{key:"scale",get:function(){return sk(kk,this).viewParameters.realScale}}]);var t,e}();function _k(t){var e=this;sk(kk,this).unselectAll();var r=t.target;if(r===sk(bk,this).div||("img"===r.getAttribute("role")||r.classList.contains("endOfContent"))&&sk(bk,this).div.contains(r)){var n=J.platform.isMac;if(0!==t.button||t.ctrlKey&&n)return;sk(kk,this).showAllEditors("highlight",!0,!0),sk(bk,this).div.classList.add("free"),this.toggleDrawing(),Om.startHighlighting(this,"ltr"===sk(kk,this).direction,{target:sk(bk,this).div,x:t.x,y:t.y}),sk(bk,this).div.addEventListener("pointerup",(function(){sk(bk,e).div.classList.remove("free"),e.toggleDrawing(!0)}),{once:!0,signal:sk(kk,this)._signal}),t.preventDefault()}}function Ek(t){return Lk._.get(sk(kk,t).getMode())}function Sk(t){var e=ok(xk,this,Ek);return e?new e.prototype.constructor(t):null}function Ok(){var t=this.div.getBoundingClientRect(),e=t.x,r=t.y,n=t.width,i=t.height,a=Math.max(0,e),o=Math.max(0,r),s=(a+Math.min(window.innerWidth,e+n))/2-e,u=(o+Math.min(window.innerHeight,r+i))/2-r,c=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,e)||Zw(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.viewport.rotation%180==0?[s,u]:[u,s],2);return{offsetX:c[0],offsetY:c[1]}}function Tk(){uk(gk,this,!0);var t,e=$w(sk(pk,this).values());try{for(e.s();!(t=e.n()).done;){var r=t.value;r.isEmpty()&&r.remove()}}catch(t){e.e(t)}finally{e.f()}uk(gk,this,!1)}rk(Ak,"_initialized",!1);var Pk,Lk={_:new Map([Dp,Tb,Fw,Om].map((function(t){return[t._editorType,t]})))};function Mk(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ck(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ck(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Ck(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function jk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ik(n.key),n)}}function Ik(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function Rk(t,e,r){Fk(t,e),e.set(t,r)}function Fk(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dk(t,e,r){return t.set(Wk(t,e),r),r}function Nk(t,e){return t.get(Wk(t,e))}function Wk(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Bk=new WeakMap,Gk=new WeakMap,Hk=new WeakMap,Uk=new WeakMap,zk=new WeakSet,Vk=function(){function t(e){var r=e.pageIndex;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){Fk(t,e),e.add(t)}(this,zk),Rk(this,Bk,null),Rk(this,Gk,0),Rk(this,Hk,new Map),Rk(this,Uk,new Map),this.pageIndex=r}return function(t,e,r){return e&&jk(t.prototype,e),r&&jk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"setParent",value:function(t){if(Nk(Bk,this)){if(Nk(Bk,this)!==t){if(Nk(Hk,this).size>0){var e,r=Mk(Nk(Hk,this).values());try{for(r.s();!(e=r.n()).done;){var n=e.value;n.remove(),t.append(n)}}catch(t){r.e(t)}finally{r.f()}}Dk(Bk,this,t)}}else Dk(Bk,this,t)}},{key:"highlight",value:function(e,r,n){var i,a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(Dk(Gk,this,(i=Nk(Gk,this),a=i++,i)),a),u=Wk(zk,this,Yk).call(this,e.box);u.classList.add("highlight"),e.free&&u.classList.add("free");var c=t._svgFactory.createElement("defs");u.append(c);var l=t._svgFactory.createElement("path");c.append(l);var h="path_p".concat(this.pageIndex,"_").concat(s);l.setAttribute("id",h),l.setAttribute("d",e.toSVGPath()),o&&Nk(Uk,this).set(s,l);var f=Wk(zk,this,Xk).call(this,c,h),d=t._svgFactory.createElement("use");return u.append(d),u.setAttribute("fill",r),u.setAttribute("fill-opacity",n),d.setAttribute("href","#".concat(h)),Nk(Hk,this).set(s,u),{id:s,clipPathId:"url(#".concat(f,")")}}},{key:"highlightOutline",value:function(e){var r,n,i=(Dk(Gk,this,(r=Nk(Gk,this),n=r++,r)),n),a=Wk(zk,this,Yk).call(this,e.box);a.classList.add("highlightOutline");var o=t._svgFactory.createElement("defs");a.append(o);var s=t._svgFactory.createElement("path");o.append(s);var u,c="path_p".concat(this.pageIndex,"_").concat(i);if(s.setAttribute("id",c),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),e.free){a.classList.add("free");var l=t._svgFactory.createElement("mask");o.append(l),u="mask_p".concat(this.pageIndex,"_").concat(i),l.setAttribute("id",u),l.setAttribute("maskUnits","objectBoundingBox");var h=t._svgFactory.createElement("rect");l.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");var f=t._svgFactory.createElement("use");l.append(f),f.setAttribute("href","#".concat(c)),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}var d=t._svgFactory.createElement("use");a.append(d),d.setAttribute("href","#".concat(c)),u&&d.setAttribute("mask","url(#".concat(u,")"));var v=d.cloneNode();return a.append(v),d.classList.add("mainOutline"),v.classList.add("secondaryOutline"),Nk(Hk,this).set(i,a),i}},{key:"finalizeLine",value:function(t,e){var r=Nk(Uk,this).get(t);Nk(Uk,this).delete(t),this.updateBox(t,e.box),r.setAttribute("d",e.toSVGPath())}},{key:"updateLine",value:function(t,e){Nk(Hk,this).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}},{key:"removeFreeHighlight",value:function(t){this.remove(t),Nk(Uk,this).delete(t)}},{key:"updatePath",value:function(t,e){Nk(Uk,this).get(t).setAttribute("d",e.toSVGPath())}},{key:"updateBox",value:function(e,r){qk.call(t,Nk(Hk,this).get(e),r)}},{key:"show",value:function(t,e){Nk(Hk,this).get(t).classList.toggle("hidden",!e)}},{key:"rotate",value:function(t,e){Nk(Hk,this).get(t).setAttribute("data-main-rotation",e)}},{key:"changeColor",value:function(t,e){Nk(Hk,this).get(t).setAttribute("fill",e)}},{key:"changeOpacity",value:function(t,e){Nk(Hk,this).get(t).setAttribute("fill-opacity",e)}},{key:"addClass",value:function(t,e){Nk(Hk,this).get(t).classList.add(e)}},{key:"removeClass",value:function(t,e){Nk(Hk,this).get(t).classList.remove(e)}},{key:"getSVGRoot",value:function(t){return Nk(Hk,this).get(t)}},{key:"remove",value:function(t){null!==Nk(Bk,this)&&(Nk(Hk,this).get(t).remove(),Nk(Hk,this).delete(t))}},{key:"destroy",value:function(){Dk(Bk,this,null);var t,e=Mk(Nk(Hk,this).values());try{for(e.s();!(t=e.n()).done;)t.value.remove()}catch(t){e.e(t)}finally{e.f()}Nk(Hk,this).clear()}}],[{key:"_svgFactory",get:function(){return W(this,"_svgFactory",new me)}}])}();function qk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.x,n=void 0===r?0:r,i=e.y,a=void 0===i?0:i,o=e.width,s=void 0===o?1:o,u=e.height,c=void 0===u?1:u,l=t.style;l.top="".concat(100*a,"%"),l.left="".concat(100*n,"%"),l.width="".concat(100*s,"%"),l.height="".concat(100*c,"%")}function Yk(t){var e=Pk._svgFactory.create(1,1,!0);return Nk(Bk,this).append(e),e.setAttribute("aria-hidden",!0),qk.call(Pk,e,t),e}function Xk(t,e){var r=Pk._svgFactory.createElement("clipPath");t.append(r);var n="clip_".concat(e);r.setAttribute("id",n),r.setAttribute("clipPathUnits","objectBoundingBox");var i=Pk._svgFactory.createElement("use");return r.append(i),i.setAttribute("href","#".concat(e)),i.classList.add("clip"),n}Pk=Vk;